"use strict";(self.webpackChunk_antv_g6_site=self.webpackChunk_antv_g6_site||[]).push([[5632],{25632:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(55826),a=n(50288),i=n(2001),l=n(44364),o=n(50160),c=n(82424),u=n(75557),s=n(35642),d=n(12901),f=n(47737),m=n(70574),p=n(79866);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=a.styled.div.withConfig({displayName:"StyledFeedbackMessageWrapper",componentId:"dumi-theme-antv-c7ef__sc-1xff90d-0"})(["display:",";.ant-divider-horizontal{margin:16px 0;}.alert{margin:12px 0 16px;padding:16px;font-size:13px;line-height:1.8;background-color:rgba(255,251,235,0.5);border:1px solid rgba(173,104,0,0.15);border-radius:8px;.ant-alert-icon{color:#cc8800;}}.alert-link{color:#56390c;font-weight:bold;text-decoration:underline;}.ant-form-item:last-child{margin-bottom:8px;}"],(function(e){return e.$rating?"block":"none"})),y=function(){var e=(0,s.useIntl)().formatMessage,t=g(i.Z.useForm(),1)[0],n=(0,d.R)(f.BS),a=(0,m.eL)(),b=a.owner,y=a.repo,h=window.location.href,x=(0,s.useLocale)().id,w="https://github.com/".concat(b,"/").concat(y,"/issues/new?labels=status%3A+waiting+for+maintainer%2Cdocs-feedback&template=docs-feedback.yml&title=[docs]+&page-url=").concat(h),E=r.createElement("div",null,e({id:"如果遇到问题或发现某些功能无法正常工作，请通过"}),r.createElement("a",{onClick:function(){return window.open(w,"_blank")},className:"alert-link"},e({id:"提交问题报告"})),e({id:"来反馈。否则，团队将无法提供进一步的答复或获取更多信息。"})),k=(0,p.P)(),_=k.submitFeedback,Z=k.showFeedbackResult,C=function(){t.resetFields(),(0,f.FP)()};(0,r.useEffect)((function(){n.rating||C()}),[n.rating]);var A=[{label:e({id:"容易理解"}),value:"easy_to_understand"},{label:e({id:"解决了我的问题"}),value:"solved_my_problem"},{label:e({id:"其它"}),value:"other"}],I=[{label:e({id:"缺少我需要的信息"}),value:"missing_information"},{label:e({id:"过于复杂/步骤太多"}),value:"too_complicated"},{label:e({id:"内容更新不及时"}),value:"out_of_date"},{label:e({id:"示例/代码有问题"}),value:"code_issue"},{label:e({id:"其它"}),value:"other"}],F="1"===n.rating?A:I;(0,r.useEffect)((function(){null==t||t.setFieldsValue({reason:F[0].value})}),[n.rating,x]);var S="1"!==n.rating;return r.createElement(v,{$rating:n.rating},r.createElement(l.Z,{dashed:!0}),r.createElement("div",{className:"form"},r.createElement(i.Z,{form:t,name:"page-feedback-form",onFinish:function(e){var t={rating:n.rating,reason:e.reason};_(t).then((function(e){C(),Z(!0)})).catch((function(){Z(!1)}))},layout:"vertical"},r.createElement(i.Z.Item,{name:"reason",label:e({id:"🚀 留下你的真实感受"})},r.createElement(o.default,{options:F})),S&&r.createElement(c.Z,{type:"warning",className:"alert",message:E,showIcon:!0}),r.createElement(i.Z.Item,{style:{textAlign:"right"}},r.createElement(u.ZP,{htmlType:"button",type:"text",size:"small",onClick:C,style:{marginRight:8}},e({id:"取消"})),r.createElement(u.ZP,{type:"primary",htmlType:"submit",size:"small"},e({id:"提交"}))))))},h=n(28659),x=n(84121),w=n(72293),E=function(e,t){return r.createElement(w.Z,(0,h.Z)((0,h.Z)({},e),{},{ref:t,icon:x.Z}))};var k=r.forwardRef(E),_=n(33003),Z=function(e,t){return r.createElement(w.Z,(0,h.Z)((0,h.Z)({},e),{},{ref:t,icon:_.Z}))};var C=r.forwardRef(Z),A=n(41756),I=a.styled.div.withConfig({displayName:"StyledVoteButtonsWrapper",componentId:"dumi-theme-antv-c7ef__sc-1x5fro0-0"})(["color:rgba(0,0,0,0.65);display:flex;align-items:center;gap:4px;font-weight:500;.button{color:rgba(0,0,0,0.65);}.active-button{color:#873bf4;background-color:#f8f1ff;}"]),F=function(){var e=(0,s.useIntl)().formatMessage,t=(0,d.R)(f.BS),n=[{title:e({id:"yes"}),icon:r.createElement(k,null),onClick:function(){"1"===t.rating?(0,f.FP)():(0,f.RN)(!0)},isActive:"1"===t.rating},{title:e({id:"no"}),icon:r.createElement(C,null),onClick:function(){"0"===t.rating?(0,f.FP)():(0,f.RN)(!1)},isActive:"0"===t.rating}];return r.createElement(I,null,r.createElement("span",null,e({id:"这个页面对你有帮助吗？"})),n.map((function(e){var t=e.title,n=e.icon,a=e.onClick,i=e.isActive;return r.createElement(A.Z,{key:t,title:t},r.createElement(u.ZP,{className:"button ".concat(i?"active-button":""),type:"text",icon:n,onClick:a}))})))},S=a.styled.div.withConfig({displayName:"StyledWrapper",componentId:"dumi-theme-antv-c7ef__sc-1vamzhw-0"})(["margin:2px 4px 8px 4px;box-shadow:0 2px 6px 0 rgba(0,0,0,0.08);border-radius:8px;padding:10px 12px;width:fit-content;background-color:#fff;font-size:14px;"]),N=function(){return r.createElement(S,null,r.createElement(F,null),r.createElement(y,null))}}}]);