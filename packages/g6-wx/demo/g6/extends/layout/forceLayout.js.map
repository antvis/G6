{"version":3,"sources":["webpack://G6/webpack/universalModuleDefinition","webpack://G6/webpack/bootstrap","webpack://G6/../../src/layout/base.ts","webpack://G6/../../src/util/index.ts","webpack://G6/../../src/util/string.ts","webpack://G6/../../src/util/array.ts","webpack://G6/../../src/util/number.ts","webpack://G6/../../src/util/math.ts","webpack://G6/../../src/util/object.ts","webpack://G6/../../src/util/function.ts","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/center.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/add.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/cover.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/quad.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/x.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/y.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/quadtree.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/data.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/extent.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/find.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/remove.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/root.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/size.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/visit.js","webpack://G6/./node_modules/_d3-quadtree@2.0.0@d3-quadtree/src/visitAfter.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/constant.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/jiggle.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/collide.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/link.js","webpack://G6/./node_modules/_d3-dispatch@2.0.0@d3-dispatch/src/dispatch.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/lcg.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/simulation.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/manyBody.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/radial.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/x.js","webpack://G6/./node_modules/_d3-force@2.1.1@d3-force/src/y.js","webpack://G6/../../../src/layout/force/index.ts","webpack://G6/./node_modules/_d3-timer@2.0.0@d3-timer/src/timer.js","webpack://G6/./src/extends/layout/forceLayout/index.ts","webpack://G6/../../../src/layout/force/force.ts","webpack://G6/../../../src/layout/force/force-in-a-box.ts","webpack://G6/../../src/layout/constants.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","size","adjMatrix","j","dist","x","y","nodes","strength","force","node","length","sx","sy","initialize","_","arguments","add","tree","isNaN","parent","xm","ym","xp","yp","right","bottom","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","next","Array","defaultX","defaultY","quadtree","Quadtree","NaN","addAll","undefined","leaf_copy","copy","treeProto","child","source","target","pop","push","cover","xz","yz","Infinity","Math","floor","z","visit","extent","find","radius","x2","y2","q","x3","y3","quads","Quad","dx","dy","d2","sqrt","remove","retainer","previous","removeAll","callback","visitAfter","random","vx","vy","radii","iterations","xi","yi","ri","ri2","k","prepare","index","apply","quad","rj","jiggle","constant","_nodes","_random","nodeById","nodeId","Error","links","strengths","distances","count","bias","id","link","min","distance","alpha","b","Map","map","initializeStrength","initializeDistance","noop","dispatch","test","Dispatch","parseTypenames","typenames","types","trim","split","indexOf","slice","type","set","concat","constructor","on","typename","T","that","args","initialAngle","PI","simulation","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","stepper","timer","step","event","tick","stop","forEach","fx","fy","initializeNodes","angle","cos","sin","initializeForce","restart","randomSource","delete","closest","distanceMin2","distanceMax2","theta2","accumulate","weight","abs","w","distanceMin","distanceMax","theta","radiuses","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","f","setTimeout","clearNow","Timer","_call","_time","_next","delay","time","wake","e","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","self","nodeSizeFunc","d3Force"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAY,GAAID,IAEhBD,EAAS,GAAIC,IARf,CASGK,MAAM,WACT,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,K,iGChFrD,8BACS,WAAuB,GACvB,WAAuB,GACvB,YAAyB,GACzB,eAAiC,GACjC,gBAAqB,EACrB,iBAA0B,aAqCnC,OAnCS,mBAAP,SAAc,GAEZ,OADA,KAAK,KAAK,GACH,KAAK,SAAQ,IAGf,iBAAP,SAAY,GACV,KAAK,MAAQ,EAAK,OAAS,GACvBnC,KAAC,MAAQ,EAAK,OAAS,GACvBA,KAAC,OAAS,EAAK,QAAU,IAGxB,EAAAgC,UAAA,QAAP,SAAe,KACR,EAAAA,UAAA,kBAAP,aAEO,0BAAP,WACE,MAAO,IAGA,EAAF,oBAAP,SAAiB,GACX,GACF,OAAO,OAAO,KAAM,IAIjB,EAAAA,UAAA,QAAP,WACM,MAAG,QAGF,oBAAP,WACMhC,KAAC,MAAQ,KACb,KAAK,MAAQ,KACb,KAAK,OAAS,KACd,KAAK,UAAY,KACjB,KAAK,WAAY,GAErB,EA3CA,GAAa,U,0ZCFb,WACA,WACA,WACA,WACA,WACA,Y,8GCLa,WAAW,SAAC,GAAgC,uBAAO,GAEhE,IAAgE,EACxD,EAOF,EAAa,SACN,YATmD,EASpB,SAAC,GAC3C,OAAO,EAAI,QAAQ,GAAY,SAAC,EAAG,GAAM,OAAC,EAAI,EAAE,cAAP,OATnC,EAAgC,OAAO,OAAO,MAC5C,SAAC,GAEP,OADY,EAAM,KACH,EAAM,GAAO,EAAG,O,kGCNtB,UAAU,MAAM,S,sHCAhB,WAAW,SAAC,GAAgC,uBAAO,GAEnD,QAAQ,SAAC,GAAiB,cAAO,MAAM,OAAb,KAE1B,WAAW,SAAC,GACvB,IAAM,EAAI,WAAW,GACrB,OAAO,QAAM,GAAK,EAAM,I,kKCJb,YAAY,SAAC,EAAW,EAAsB,GAEvD,IADF,IAAM,EAAoB,GACjB,EAAI,EAAG,EAAI,EAAG,IACrB,EAAQ,GAAK,EAEb,OAAG,GACH,EAAI,SAAQ,SAAC,GACT,EAAE,SACJ,EAAQ,EAAW,EAAE,UAAY,GAE/B,EAAE,SACJ,EAAQ,EAAW,EAAE,UAAY,MAG9B,GATY,GAYR,gBAAgB,SAAC,GAI1B,IAFF,IAAM,EAAiB,GACjB,EAAO,EAAU,OACd,EAAI,EAAG,EAAI,EAAM,GAAK,EAAG,CAChC,EAAKI,GAAK,GACV,IAAK,IAAI,EAAI,EAAG,EAAIgC,EAAM,GAAK,EACzB,IAAM,EACR,EAAK,GAAG,GAAK,EACgB,IAApB,EAAU,GAAG,IAAa,EAAU,GAAG,GAGhD,EAAK,GAAG,GAAKC,EAAUjC,GAAGkC,GAFlBC,EAAH,GAAG,GAAK,IAOjB,IAAG,IAAI,EAAI,EAAG,EAAI,EAAM,GAAK,EACzB,IAAK,EAAI,EAAG,EAAI,EAAM,GAAK,EAC7B,IAAS,EAAI,EAAG,EAAI,EAAM,GAAK,EACzB,EAAK,GAAG,GAAK,EAAK,GAAG,GAAK,EAAK,GAAG,KACpC,EAAK,GAAG,GAAK,EAAK,GAAG,GAAK,EAAK,GAAG,IAKxC,OAAK,GAGI,eAAe,SAAC,EAAa,GAEtC,MAEE,EAFG,MACL,EACE,EADG,MAED,EAAmB,GAEnB,EAEF,GAEF,IAAG,EACH,MAAM,IAAI,MAAM,uBAyBlB,OAvBI,GACE,EAAE,SAAQ,SAAC,EAAM,GACb,EAAE,EAAK,IAAM,EAEnB,EAAO,KADe,OAKtB,GACE,EAAE,SAAQ,SAAC,GAEX,MAEE,EAFI,OACN,EACE,EADI,OAEF,EAAS,EAAQ,GACjB,EAAS,EAAQ,GACvB,EAAO,GAAQ,GAAU,EACpB,IACH,EAAO,GAAQ,GAAU,MAKxB,GAQI,cAAc,SAAC,EAAkB,GAC1C,IAAI,EAAmB,GAQzB,OAPE,EAAK,SAAQ,SAAC,GACd,IAAM,EAAmB,GACzB,EAAI,SAAQ,SAAC,GACX,EAAO,KAAK,EAAI,MAElB,EAAO,KAAK,MAEP,GAwBI,iBAAiB,SAC5B,EACA,GAEkB,mBAAP,GArBM,SAAb,EAA4C,EAAS,GACvD,GAAE,GAAQ,EAAK,SACf,IAAK,IAAI,EAAI,EAAK,SAAS,OAAS,EAAG,GAAK,EAAG,IAC7C,IAAK,EAAW,EAAK,SAAS,GAAI,GAAK,OAI3C,QAAK,EAAG,GAiBR,CAAW,EAAM,K,wjBCrIN,WAAW,SAAC,GACvB,OAAQ,OAAR,GAA+B,WAAf,EAAO,IAEZ,QAAQ,SAAI,GACrB,GAAa,OAAX,EACE,OAAG,EAEP,GAAE,aAAkB,KAChB,OAAG,IAAI,KAAK,EAAO,WAEvB,GAAE,aAAkB,MAAO,CAC3B,IAAM,EAAK,GAIX,OAHE,EAAiB,SAAQ,SAAC,GAC1B,EAAG,KAAK,MAEH,EAAG,KAAI,SAACV,GAAW,qBAE5B,GAAsB,WAAlB,EAAO,IAAuB,IAAW,GAAI,CAC/C,IAAM,EAAK,KAAM,GAMjB,OAHA,OAAO,KAAK,GAAI,SAAQ,SAAC,GACvB,EAAG,GAAK,QAAW,EAAG,OAEjB,EAEP,OAAK,I,qGC1BI,aAAa,SAAC,GACzB,MAAe,mBAAR,I,mYCDM,eAASW,EAAGC,GACzB,IAAIC,EAAOC,EAAW,EAKtB,SAASC,IACP,IAAIxC,EAEAyC,EADAhB,EAAIa,EAAMI,OAEVC,EAAK,EACLC,EAAK,EAET,IAAK5C,EAAI,EAAGA,EAAIyB,IAAKzB,EACF2C,IAAjBF,EAAOH,EAAMtC,IAAeoC,EAAGQ,GAAMH,EAAKJ,EAG5C,IAAKM,GAAMA,EAAKlB,EAAIW,GAAKG,EAAUK,GAAMA,EAAKnB,EAAIY,GAAKE,EAAUvC,EAAI,EAAGA,EAAIyB,IAAKzB,GAC/EyC,EAAOH,EAAMtC,IAASoC,GAAKO,EAAIF,EAAKJ,GAAKO,EAoB7C,OAnCS,MAALR,IAAWA,EAAI,GACV,MAALC,IAAWA,EAAI,GAkBnBG,EAAMK,WAAa,SAASC,GAC1BR,EAAQQ,GAGVN,EAAMJ,EAAI,SAASU,GACjB,OAAOC,UAAUL,QAAUN,GAAKU,EAAGN,GAASJ,GAG9CI,EAAMH,EAAI,SAASS,GACjB,OAAOC,UAAUL,QAAUL,GAAKS,EAAGN,GAASH,GAG9CG,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,GAAYO,EAAGN,GAASD,GAG9CC,GChCT,SAASQ,EAAIC,EAAMb,EAAGC,EAAG/B,GACvB,GAAI4C,MAAMd,IAAMc,MAAMb,GAAI,OAAOY,EAEjC,IAAIE,EAOAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzD,EACAkC,EAbAO,EAAOQ,EAAKS,MACZC,EAAO,CAACC,KAAMtD,GACduD,EAAKZ,EAAKa,IACVC,EAAKd,EAAKe,IACVC,EAAKhB,EAAKiB,IACVC,EAAKlB,EAAKmB,IAWd,IAAK3B,EAAM,OAAOQ,EAAKS,MAAQC,EAAMV,EAGrC,KAAOR,EAAKC,QAGV,IAFIc,EAAQpB,IAAMgB,GAAMS,EAAKI,GAAM,IAAIJ,EAAKT,EAASa,EAAKb,GACtDK,EAASpB,IAAMgB,GAAMU,EAAKI,GAAM,IAAIJ,EAAKV,EAASc,EAAKd,EACvDF,EAASV,IAAQA,EAAOA,EAAKzC,EAAIyD,GAAU,EAAID,IAAS,OAAOL,EAAOnD,GAAK2D,EAAMV,EAMvF,GAFAK,GAAML,EAAKoB,GAAGlE,KAAK,KAAMsC,EAAKmB,MAC9BL,GAAMN,EAAKqB,GAAGnE,KAAK,KAAMsC,EAAKmB,MAC1BxB,IAAMkB,GAAMjB,IAAMkB,EAAI,OAAOI,EAAKY,KAAO9B,EAAMU,EAASA,EAAOnD,GAAK2D,EAAOV,EAAKS,MAAQC,EAAMV,EAGlG,GACEE,EAASA,EAASA,EAAOnD,GAAK,IAAIwE,MAAM,GAAKvB,EAAKS,MAAQ,IAAIc,MAAM,IAChEhB,EAAQpB,IAAMgB,GAAMS,EAAKI,GAAM,IAAIJ,EAAKT,EAASa,EAAKb,GACtDK,EAASpB,IAAMgB,GAAMU,EAAKI,GAAM,IAAIJ,EAAKV,EAASc,EAAKd,SACnDrD,EAAIyD,GAAU,EAAID,KAAYtB,GAAKqB,GAAMF,IAAO,EAAKC,GAAMF,IACrE,OAAOD,EAAOjB,GAAKO,EAAMU,EAAOnD,GAAK2D,EAAMV,EC9C9B,ICAA,WAASR,EAAMoB,EAAIE,EAAIE,EAAIE,GACxCvE,KAAK6C,KAAOA,EACZ7C,KAAKiE,GAAKA,EACVjE,KAAKmE,GAAKA,EACVnE,KAAKqE,GAAKA,EACVrE,KAAKuE,GAAKA,GCLL,SAASM,EAASnE,GACvB,OAAOA,EAAE,GCDJ,SAASoE,EAASpE,GACvB,OAAOA,EAAE,GCYI,SAASqE,EAASrC,EAAOF,EAAGC,GACzC,IAAIY,EAAO,IAAI2B,EAAc,MAALxC,EAAYqC,EAAWrC,EAAQ,MAALC,EAAYqC,EAAWrC,EAAGwC,IAAKA,IAAKA,IAAKA,KAC3F,OAAgB,MAATvC,EAAgBW,EAAOA,EAAK6B,OAAOxC,GAG5C,SAASsC,EAASxC,EAAGC,EAAGwB,EAAIE,EAAIE,EAAIE,GAClCvE,KAAKyE,GAAKjC,EACVxC,KAAK0E,GAAKjC,EACVzC,KAAKkE,IAAMD,EACXjE,KAAKoE,IAAMD,EACXnE,KAAKsE,IAAMD,EACXrE,KAAKwE,IAAMD,EACXvE,KAAK8D,WAAQqB,EAGf,SAASC,EAAUrB,GAEjB,IADA,IAAIsB,EAAO,CAACrB,KAAMD,EAAKC,MAAOW,EAAOU,EAC9BtB,EAAOA,EAAKY,MAAMA,EAAOA,EAAKA,KAAO,CAACX,KAAMD,EAAKC,MACxD,OAAOqB,EAGT,IAAIC,EAAYP,EAAS/C,UAAYgD,EAAShD,UAE9CsD,EAAUD,KAAO,WACf,IAEI3C,EACA6C,EAHAF,EAAO,IAAIL,EAAShF,KAAKyE,GAAIzE,KAAK0E,GAAI1E,KAAKkE,IAAKlE,KAAKoE,IAAKpE,KAAKsE,IAAKtE,KAAKwE,KACzE3B,EAAO7C,KAAK8D,MAIhB,IAAKjB,EAAM,OAAOwC,EAElB,IAAKxC,EAAKC,OAAQ,OAAOuC,EAAKvB,MAAQsB,EAAUvC,GAAOwC,EAGvD,IADA3C,EAAQ,CAAC,CAAC8C,OAAQ3C,EAAM4C,OAAQJ,EAAKvB,MAAQ,IAAIc,MAAM,KAChD/B,EAAOH,EAAMgD,OAClB,IAAK,IAAItF,EAAI,EAAGA,EAAI,IAAKA,GACnBmF,EAAQ1C,EAAK2C,OAAOpF,MAClBmF,EAAMzC,OAAQJ,EAAMiD,KAAK,CAACH,OAAQD,EAAOE,OAAQ5C,EAAK4C,OAAOrF,GAAK,IAAIwE,MAAM,KAC3E/B,EAAK4C,OAAOrF,GAAKgF,EAAUG,IAKtC,OAAOF,GAGTC,EAAUlC,IL3DK,SAAS1C,GACtB,IAAM8B,GAAKxC,KAAKyE,GAAGlE,KAAK,KAAMG,GAC1B+B,GAAKzC,KAAK0E,GAAGnE,KAAK,KAAMG,GAC5B,OAAO0C,EAAIpD,KAAK4F,MAAMpD,EAAGC,GAAID,EAAGC,EAAG/B,IKyDrC4E,EAAUJ,OLXH,SAAgBlB,GACrB,IAAItD,EAAGN,EACHoC,EACAC,EAFMZ,EAAImC,EAAKlB,OAGf+C,EAAK,IAAIjB,MAAM/C,GACfiE,EAAK,IAAIlB,MAAM/C,GACfoC,EAAK8B,IACL5B,EAAK4B,IACL1B,GAAM0B,IACNxB,GAAMwB,IAGV,IAAK3F,EAAI,EAAGA,EAAIyB,IAAKzB,EACfkD,MAAMd,GAAKxC,KAAKyE,GAAGlE,KAAK,KAAMG,EAAIsD,EAAK5D,MAAQkD,MAAMb,GAAKzC,KAAK0E,GAAGnE,KAAK,KAAMG,MACjFmF,EAAGzF,GAAKoC,EACRsD,EAAG1F,GAAKqC,EACJD,EAAIyB,IAAIA,EAAKzB,GACbA,EAAI6B,IAAIA,EAAK7B,GACbC,EAAI0B,IAAIA,EAAK1B,GACbA,EAAI8B,IAAIA,EAAK9B,IAInB,GAAIwB,EAAKI,GAAMF,EAAKI,EAAI,OAAOvE,KAM/B,IAHAA,KAAK4F,MAAM3B,EAAIE,GAAIyB,MAAMvB,EAAIE,GAGxBnE,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBgD,EAAIpD,KAAM6F,EAAGzF,GAAI0F,EAAG1F,GAAI4D,EAAK5D,IAG/B,OAAOJ,MKrBTsF,EAAUM,MJ7DK,SAASpD,EAAGC,GACzB,GAAIa,MAAMd,GAAKA,IAAMc,MAAMb,GAAKA,GAAI,OAAOzC,KAE3C,IAAIiE,EAAKjE,KAAKkE,IACVC,EAAKnE,KAAKoE,IACVC,EAAKrE,KAAKsE,IACVC,EAAKvE,KAAKwE,IAKd,GAAIlB,MAAMW,GACRI,GAAMJ,EAAK+B,KAAKC,MAAMzD,IAAM,EAC5B+B,GAAMJ,EAAK6B,KAAKC,MAAMxD,IAAM,MAIzB,CAMH,IALA,IAEIc,EACAnD,EAHA8F,EAAI7B,EAAKJ,GAAM,EACfpB,EAAO7C,KAAK8D,MAITG,EAAKzB,GAAKA,GAAK6B,GAAMF,EAAK1B,GAAKA,GAAK8B,GAGzC,OAFAnE,GAAKqC,EAAI0B,IAAO,EAAK3B,EAAIyB,GACzBV,EAAS,IAAIqB,MAAM,IAAWxE,GAAKyC,EAAMA,EAAOU,EAAQ2C,GAAK,EACrD9F,GACN,KAAK,EAAGiE,EAAKJ,EAAKiC,EAAG3B,EAAKJ,EAAK+B,EAAG,MAClC,KAAK,EAAGjC,EAAKI,EAAK6B,EAAG3B,EAAKJ,EAAK+B,EAAG,MAClC,KAAK,EAAG7B,EAAKJ,EAAKiC,EAAG/B,EAAKI,EAAK2B,EAAG,MAClC,KAAK,EAAGjC,EAAKI,EAAK6B,EAAG/B,EAAKI,EAAK2B,EAI/BlG,KAAK8D,OAAS9D,KAAK8D,MAAMhB,SAAQ9C,KAAK8D,MAAQjB,GAOpD,OAJA7C,KAAKkE,IAAMD,EACXjE,KAAKoE,IAAMD,EACXnE,KAAKsE,IAAMD,EACXrE,KAAKwE,IAAMD,EACJvE,MIqBTsF,EAAUtB,KC9DK,WACb,IAAIA,EAAO,GAIX,OAHAhE,KAAKmG,OAAM,SAAStD,GAClB,IAAKA,EAAKC,OAAQ,GAAGkB,EAAK2B,KAAK9C,EAAKmB,YAAcnB,EAAOA,EAAK8B,SAEzDX,GD0DTsB,EAAUc,OE/DK,SAASlD,GACtB,OAAOC,UAAUL,OACX9C,KAAK4F,OAAO1C,EAAE,GAAG,IAAKA,EAAE,GAAG,IAAI0C,OAAO1C,EAAE,GAAG,IAAKA,EAAE,GAAG,IACrDI,MAAMtD,KAAKkE,UAAOiB,EAAY,CAAC,CAACnF,KAAKkE,IAAKlE,KAAKoE,KAAM,CAACpE,KAAKsE,IAAKtE,KAAKwE,OF6D7Ec,EAAUe,KG9DK,SAAS7D,EAAGC,EAAG6D,GAC5B,IAAItC,EAGAK,EACAE,EACAgC,EACAC,EAKAC,EACArG,EAXA6D,EAAKjE,KAAKkE,IACVC,EAAKnE,KAAKoE,IAKVsC,EAAK1G,KAAKsE,IACVqC,EAAK3G,KAAKwE,IACVoC,EAAQ,GACR/D,EAAO7C,KAAK8D,MAYhB,IARIjB,GAAM+D,EAAMjB,KAAK,IAAIkB,EAAKhE,EAAMoB,EAAIE,EAAIuC,EAAIC,IAClC,MAAVL,EAAgBA,EAASP,KAE3B9B,EAAKzB,EAAI8D,EAAQnC,EAAK1B,EAAI6D,EAC1BI,EAAKlE,EAAI8D,EAAQK,EAAKlE,EAAI6D,EAC1BA,GAAUA,GAGLG,EAAIG,EAAMlB,OAGf,OAAM7C,EAAO4D,EAAE5D,QACPwB,EAAKoC,EAAExC,IAAMyC,IACbnC,EAAKkC,EAAEtC,IAAMwC,IACbJ,EAAKE,EAAEpC,IAAMJ,IACbuC,EAAKC,EAAElC,IAAMJ,GAGrB,GAAItB,EAAKC,OAAQ,CACf,IAAIU,GAAMa,EAAKkC,GAAM,EACjB9C,GAAMc,EAAKiC,GAAM,EAErBI,EAAMjB,KACJ,IAAIkB,EAAKhE,EAAK,GAAIW,EAAIC,EAAI8C,EAAIC,GAC9B,IAAIK,EAAKhE,EAAK,GAAIwB,EAAIZ,EAAID,EAAIgD,GAC9B,IAAIK,EAAKhE,EAAK,GAAIW,EAAIe,EAAIgC,EAAI9C,GAC9B,IAAIoD,EAAKhE,EAAK,GAAIwB,EAAIE,EAAIf,EAAIC,KAI5BrD,GAAKqC,GAAKgB,IAAO,EAAKjB,GAAKgB,KAC7BiD,EAAIG,EAAMA,EAAM9D,OAAS,GACzB8D,EAAMA,EAAM9D,OAAS,GAAK8D,EAAMA,EAAM9D,OAAS,EAAI1C,GACnDwG,EAAMA,EAAM9D,OAAS,EAAI1C,GAAKqG,OAK7B,CACH,IAAIK,EAAKtE,GAAKxC,KAAKyE,GAAGlE,KAAK,KAAMsC,EAAKmB,MAClC+C,EAAKtE,GAAKzC,KAAK0E,GAAGnE,KAAK,KAAMsC,EAAKmB,MAClCgD,EAAKF,EAAKA,EAAKC,EAAKA,EACxB,GAAIC,EAAKV,EAAQ,CACf,IAAI5F,EAAIsF,KAAKiB,KAAKX,EAASU,GAC3B/C,EAAKzB,EAAI9B,EAAGyD,EAAK1B,EAAI/B,EACrBgG,EAAKlE,EAAI9B,EAAGiG,EAAKlE,EAAI/B,EACrBsD,EAAOnB,EAAKmB,MAKlB,OAAOA,GHHTsB,EAAU4B,OIjEK,SAASxG,GACtB,GAAI4C,MAAMd,GAAKxC,KAAKyE,GAAGlE,KAAK,KAAMG,KAAO4C,MAAMb,GAAKzC,KAAK0E,GAAGnE,KAAK,KAAMG,IAAK,OAAOV,KAEnF,IAAIuD,EAEA4D,EACAC,EACAzC,EAKAnC,EACAC,EACAe,EACAC,EACAG,EACAC,EACAzD,EACAkC,EAfAO,EAAO7C,KAAK8D,MAIZG,EAAKjE,KAAKkE,IACVC,EAAKnE,KAAKoE,IACVC,EAAKrE,KAAKsE,IACVC,EAAKvE,KAAKwE,IAWd,IAAK3B,EAAM,OAAO7C,KAIlB,GAAI6C,EAAKC,OAAQ,OAAa,CAG5B,IAFIc,EAAQpB,IAAMgB,GAAMS,EAAKI,GAAM,IAAIJ,EAAKT,EAASa,EAAKb,GACtDK,EAASpB,IAAMgB,GAAMU,EAAKI,GAAM,IAAIJ,EAAKV,EAASc,EAAKd,EACrDF,EAASV,IAAMA,EAAOA,EAAKzC,EAAIyD,GAAU,EAAID,IAAS,OAAO5D,KACnE,IAAK6C,EAAKC,OAAQ,OACdS,EAAQnD,EAAI,EAAK,IAAMmD,EAAQnD,EAAI,EAAK,IAAMmD,EAAQnD,EAAI,EAAK,MAAI+G,EAAW5D,EAAQjB,EAAIlC,GAIhG,KAAOyC,EAAKmB,OAAStD,GAAG,GAAM0G,EAAWvE,IAAMA,EAAOA,EAAK8B,MAAO,OAAO3E,KAIzE,OAHI2E,EAAO9B,EAAK8B,cAAa9B,EAAK8B,KAG9ByC,GAAkBzC,EAAOyC,EAASzC,KAAOA,SAAcyC,EAASzC,KAAO3E,MAGtEuD,GAGLoB,EAAOpB,EAAOnD,GAAKuE,SAAcpB,EAAOnD,IAGnCyC,EAAOU,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,KACnDV,KAAUU,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,MACvDV,EAAKC,SACPqE,EAAUA,EAAS7E,GAAKO,EACvB7C,KAAK8D,MAAQjB,GAGb7C,OAbaA,KAAK8D,MAAQa,EAAM3E,OJwBzCsF,EAAU+B,UIRH,SAAmBrD,GACxB,IAAK,IAAI5D,EAAI,EAAGyB,EAAImC,EAAKlB,OAAQ1C,EAAIyB,IAAKzB,EAAGJ,KAAKkH,OAAOlD,EAAK5D,IAC9D,OAAOJ,MJOTsF,EAAU5F,KKnEK,WACb,OAAOM,KAAK8D,OLmEdwB,EAAUlD,KMpEK,WACb,IAAIA,EAAO,EAIX,OAHApC,KAAKmG,OAAM,SAAStD,GAClB,IAAKA,EAAKC,OAAQ,KAAKV,QAAaS,EAAOA,EAAK8B,SAE3CvC,GNgETkD,EAAUa,MOnEK,SAASmB,GACtB,IAAgBb,EAAsBlB,EAAOtB,EAAIE,EAAIE,EAAIE,EAArDqC,EAAQ,GAAO/D,EAAO7C,KAAK8D,MAE/B,IADIjB,GAAM+D,EAAMjB,KAAK,IAAIkB,EAAKhE,EAAM7C,KAAKkE,IAAKlE,KAAKoE,IAAKpE,KAAKsE,IAAKtE,KAAKwE,MAChEiC,EAAIG,EAAMlB,OACf,IAAK4B,EAASzE,EAAO4D,EAAE5D,KAAMoB,EAAKwC,EAAExC,GAAIE,EAAKsC,EAAEtC,GAAIE,EAAKoC,EAAEpC,GAAIE,EAAKkC,EAAElC,KAAO1B,EAAKC,OAAQ,CACvF,IAAIU,GAAMS,EAAKI,GAAM,EAAGZ,GAAMU,EAAKI,GAAM,GACrCgB,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAO/B,EAAIC,EAAIY,EAAIE,KACxDgB,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAOtB,EAAIR,EAAID,EAAIe,KACxDgB,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAO/B,EAAIW,EAAIE,EAAIZ,KACxD8B,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAOtB,EAAIE,EAAIX,EAAIC,IAGhE,OAAOzD,MPwDTsF,EAAUiC,WQpEK,SAASD,GACtB,IAA2Bb,EAAvBG,EAAQ,GAAIjC,EAAO,GAEvB,IADI3E,KAAK8D,OAAO8C,EAAMjB,KAAK,IAAIkB,EAAK7G,KAAK8D,MAAO9D,KAAKkE,IAAKlE,KAAKoE,IAAKpE,KAAKsE,IAAKtE,KAAKwE,MAC5EiC,EAAIG,EAAMlB,OAAO,CACtB,IAAI7C,EAAO4D,EAAE5D,KACb,GAAIA,EAAKC,OAAQ,CACf,IAAIyC,EAAOtB,EAAKwC,EAAExC,GAAIE,EAAKsC,EAAEtC,GAAIE,EAAKoC,EAAEpC,GAAIE,EAAKkC,EAAElC,GAAIf,GAAMS,EAAKI,GAAM,EAAGZ,GAAMU,EAAKI,GAAM,GACxFgB,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAOtB,EAAIE,EAAIX,EAAIC,KACxD8B,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAO/B,EAAIW,EAAIE,EAAIZ,KACxD8B,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAOtB,EAAIR,EAAID,EAAIe,KACxDgB,EAAQ1C,EAAK,KAAI+D,EAAMjB,KAAK,IAAIkB,EAAKtB,EAAO/B,EAAIC,EAAIY,EAAIE,IAE9DI,EAAKgB,KAAKc,GAEZ,KAAOA,EAAI9B,EAAKe,OACd4B,EAASb,EAAE5D,KAAM4D,EAAExC,GAAIwC,EAAEtC,GAAIsC,EAAEpC,GAAIoC,EAAElC,IAEvC,OAAOvE,MRoDTsF,EAAU9C,EFnEK,SAASU,GACtB,OAAOC,UAAUL,QAAU9C,KAAKyE,GAAKvB,EAAGlD,MAAQA,KAAKyE,IEmEvDa,EAAU7C,EDpEK,SAASS,GACtB,OAAOC,UAAUL,QAAU9C,KAAK0E,GAAKxB,EAAGlD,MAAQA,KAAK0E,IULxC,eAASlC,GACtB,OAAO,WACL,OAAOA,ICFI,WAASgF,GACtB,OAA0B,MAAlBA,IAAW,KCGrB,SAAShF,EAAE9B,GACT,OAAOA,EAAE8B,EAAI9B,EAAE+G,GAGjB,SAAShF,EAAE/B,GACT,OAAOA,EAAE+B,EAAI/B,EAAEgH,GAGF,eAASpB,GACtB,IAAI5D,EACAiF,EACAH,EACA7E,EAAW,EACXiF,EAAa,EAIjB,SAAShF,IASP,IARA,IAAIxC,EACAiD,EACAR,EACAgF,EACAC,EACAC,EACAC,EANGnG,EAAIa,EAAMI,OAQRmF,EAAI,EAAGA,EAAIL,IAAcK,EAEhC,IADA5E,EAAO0B,EAASrC,EAAOF,EAAGC,GAAG8E,WAAWW,GACnC9H,EAAI,EAAGA,EAAIyB,IAAKzB,EACnByC,EAAOH,EAAMtC,GACb2H,EAAKJ,EAAM9E,EAAKsF,OAAQH,EAAMD,EAAKA,EACnCF,EAAKhF,EAAKL,EAAIK,EAAK4E,GACnBK,EAAKjF,EAAKJ,EAAII,EAAK6E,GACnBrE,EAAK8C,MAAMiC,GAIf,SAASA,EAAMC,EAAMpE,EAAIE,EAAIE,EAAIE,GAC/B,IAAIP,EAAOqE,EAAKrE,KAAMsE,EAAKD,EAAKnH,EAAGA,EAAI6G,EAAKO,EAC5C,IAAItE,EAiBJ,OAAOC,EAAK4D,EAAK3G,GAAKmD,EAAKwD,EAAK3G,GAAKiD,EAAK2D,EAAK5G,GAAKqD,EAAKuD,EAAK5G,EAhB5D,GAAI8C,EAAKmE,MAAQtF,EAAKsF,MAAO,CAC3B,IAAI3F,EAAIqF,EAAK7D,EAAKxB,EAAIwB,EAAKyD,GACvBhF,EAAIqF,EAAK9D,EAAKvB,EAAIuB,EAAK0D,GACvBrH,EAAImC,EAAIA,EAAIC,EAAIA,EAChBpC,EAAIa,EAAIA,IACA,IAANsB,IAA6BnC,IAApBmC,EAAI+F,EAAOf,IAAkBhF,GAChC,IAANC,IAA6BpC,IAApBoC,EAAI8F,EAAOf,IAAkB/E,GAC1CpC,GAAKa,GAAKb,EAAI2F,KAAKiB,KAAK5G,KAAOA,EAAIsC,EACnCE,EAAK4E,KAAOjF,GAAKnC,IAAMa,GAAKoH,GAAMA,IAAON,EAAMM,IAC/CzF,EAAK6E,KAAOjF,GAAKpC,GAAKa,EACtB8C,EAAKyD,IAAMjF,GAAKtB,EAAI,EAAIA,GACxB8C,EAAK0D,IAAMjF,EAAIvB,KASzB,SAASgH,EAAQG,GACf,GAAIA,EAAKrE,KAAM,OAAOqE,EAAKnH,EAAIyG,EAAMU,EAAKrE,KAAKmE,OAC/C,IAAK,IAAI/H,EAAIiI,EAAKnH,EAAI,EAAGd,EAAI,IAAKA,EAC5BiI,EAAKjI,IAAMiI,EAAKjI,GAAGc,EAAImH,EAAKnH,IAC9BmH,EAAKnH,EAAImH,EAAKjI,GAAGc,GAKvB,SAAS+B,IACP,GAAKP,EAAL,CACA,IAAItC,EAAqByC,EAAlBhB,EAAIa,EAAMI,OAEjB,IADA6E,EAAQ,IAAI/C,MAAM/C,GACbzB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGyC,EAAOH,EAAMtC,GAAIuH,EAAM9E,EAAKsF,QAAU7B,EAAOzD,EAAMzC,EAAGsC,IAqBhF,MA/EsB,mBAAX4D,IAAuBA,EAASkC,EAAmB,MAAVlC,EAAiB,GAAKA,IA6D1E1D,EAAMK,WAAa,SAASwF,EAAQC,GAClChG,EAAQ+F,EACRjB,EAASkB,EACTzF,KAGFL,EAAMgF,WAAa,SAAS1E,GAC1B,OAAOC,UAAUL,QAAU8E,GAAc1E,EAAGN,GAASgF,GAGvDhF,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,GAAYO,EAAGN,GAASD,GAGrDC,EAAM0D,OAAS,SAASpD,GACtB,OAAOC,UAAUL,QAAUwD,EAAsB,mBAANpD,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAAS0D,GAGlG1D,G,qOC/FT,SAASuF,EAAMzH,GACb,OAAOA,EAAEyH,MAGX,SAAS9B,EAAKsC,EAAUC,GACtB,IAAI/F,EAAO8F,EAAS1H,IAAI2H,GACxB,IAAK/F,EAAM,MAAM,IAAIgG,MAAM,mBAAqBD,GAChD,OAAO/F,EAGM,eAASiG,GACtB,IAEIC,EAEAC,EACAtG,EACAuG,EACAC,EACA1B,EARA2B,EAAKhB,EACLxF,EAYJ,SAAyByG,GACvB,OAAO,EAAIpD,KAAKqD,IAAIJ,EAAMG,EAAK5D,OAAO2C,OAAQc,EAAMG,EAAK3D,OAAO0C,SAX9DmB,EAAWd,EAAS,IAMpBZ,EAAa,EAQjB,SAAShF,EAAM2G,GACb,IAAK,IAAItB,EAAI,EAAGpG,EAAIiH,EAAMhG,OAAQmF,EAAIL,IAAcK,EAClD,IAAK,IAAWmB,EAAM5D,EAAQC,EAAQjD,EAAGC,EAAGpC,EAAGmJ,EAAtCpJ,EAAI,EAAqCA,EAAIyB,IAAKzB,EACxCoF,GAAjB4D,EAAON,EAAM1I,IAAkBoF,OAC/BhD,GADuCiD,EAAS2D,EAAK3D,QAC1CjD,EAAIiD,EAAOgC,GAAKjC,EAAOhD,EAAIgD,EAAOiC,IAAMc,EAAOf,GAC1D/E,EAAIgD,EAAOhD,EAAIgD,EAAOiC,GAAKlC,EAAO/C,EAAI+C,EAAOkC,IAAMa,EAAOf,GAG1DhF,GADAnC,IADAA,EAAI2F,KAAKiB,KAAKzE,EAAIA,EAAIC,EAAIA,IACjBuG,EAAU5I,IAAMC,EAAIkJ,EAAQR,EAAU3I,GACvCqC,GAAKpC,EACboF,EAAOgC,IAAMjF,GAAKgH,EAAIN,EAAK9I,IAC3BqF,EAAOiC,IAAMjF,EAAI+G,EACjBhE,EAAOiC,IAAMjF,GAAKgH,EAAI,EAAIA,GAC1BhE,EAAOkC,IAAMjF,EAAI+G,EAKvB,SAASvG,IACP,GAAKP,EAAL,CAEA,IAAItC,EAIAgJ,EAHAvH,EAAIa,EAAMI,OACVtC,EAAIsI,EAAMhG,OACV6F,EAAW,IAAIc,IAAI/G,EAAMgH,KAAI,SAAChJ,EAAGN,GAAJ,MAAU,CAAC+I,EAAGzI,EAAGN,EAAGsC,GAAQhC,OAG7D,IAAKN,EAAI,EAAG6I,EAAQ,IAAIrE,MAAM/C,GAAIzB,EAAII,IAAKJ,GACzCgJ,EAAON,EAAM1I,IAAS+H,MAAQ/H,EACH,WAAvB,EAAOgJ,EAAK5D,UAAqB4D,EAAK5D,OAASa,EAAKsC,EAAUS,EAAK5D,SAC5C,WAAvB,EAAO4D,EAAK3D,UAAqB2D,EAAK3D,OAASY,EAAKsC,EAAUS,EAAK3D,SACvEwD,EAAMG,EAAK5D,OAAO2C,QAAUc,EAAMG,EAAK5D,OAAO2C,QAAU,GAAK,EAC7Dc,EAAMG,EAAK3D,OAAO0C,QAAUc,EAAMG,EAAK3D,OAAO0C,QAAU,GAAK,EAG/D,IAAK/H,EAAI,EAAG8I,EAAO,IAAItE,MAAMpE,GAAIJ,EAAII,IAAKJ,EACxCgJ,EAAON,EAAM1I,GAAI8I,EAAK9I,GAAK6I,EAAMG,EAAK5D,OAAO2C,QAAUc,EAAMG,EAAK5D,OAAO2C,OAASc,EAAMG,EAAK3D,OAAO0C,QAGtGY,EAAY,IAAInE,MAAMpE,GAAImJ,IAC1BX,EAAY,IAAIpE,MAAMpE,GAAIoJ,KAG5B,SAASD,IACP,GAAKjH,EAEL,IAAK,IAAItC,EAAI,EAAGyB,EAAIiH,EAAMhG,OAAQ1C,EAAIyB,IAAKzB,EACzC2I,EAAU3I,IAAMuC,EAASmG,EAAM1I,GAAIA,EAAG0I,GAI1C,SAASc,IACP,GAAKlH,EAEL,IAAK,IAAItC,EAAI,EAAGyB,EAAIiH,EAAMhG,OAAQ1C,EAAIyB,IAAKzB,EACzC4I,EAAU5I,IAAMkJ,EAASR,EAAM1I,GAAIA,EAAG0I,GA8B1C,OA1Fa,MAATA,IAAeA,EAAQ,IAgE3BlG,EAAMK,WAAa,SAASwF,EAAQC,GAClChG,EAAQ+F,EACRjB,EAASkB,EACTzF,KAGFL,EAAMkG,MAAQ,SAAS5F,GACrB,OAAOC,UAAUL,QAAUgG,EAAQ5F,EAAGD,IAAcL,GAASkG,GAG/DlG,EAAMuG,GAAK,SAASjG,GAClB,OAAOC,UAAUL,QAAUqG,EAAKjG,EAAGN,GAASuG,GAG9CvG,EAAMgF,WAAa,SAAS1E,GAC1B,OAAOC,UAAUL,QAAU8E,GAAc1E,EAAGN,GAASgF,GAGvDhF,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,EAAwB,mBAANO,EAAmBA,EAAIsF,GAAUtF,GAAIyG,IAAsB/G,GAASD,GAGnHC,EAAM0G,SAAW,SAASpG,GACxB,OAAOC,UAAUL,QAAUwG,EAAwB,mBAANpG,EAAmBA,EAAIsF,GAAUtF,GAAI0G,IAAsBhH,GAAS0G,GAG5G1G,GCnHLiH,EAAO,CAACxI,MAAO,cAEnB,SAASyI,IACP,IAAK,IAAyCxI,EAArClB,EAAI,EAAGyB,EAAIsB,UAAUL,OAAQI,EAAI,GAAO9C,EAAIyB,IAAKzB,EAAG,CAC3D,KAAMkB,EAAI6B,UAAU/C,GAAK,KAAQkB,KAAK4B,GAAM,QAAQ6G,KAAKzI,GAAI,MAAM,IAAIuH,MAAM,iBAAmBvH,GAChG4B,EAAE5B,GAAK,GAET,OAAO,IAAI0I,EAAS9G,GAGtB,SAAS8G,EAAS9G,GAChBlD,KAAKkD,EAAIA,EAGX,SAAS+G,EAAeC,EAAWC,GACjC,OAAOD,EAAUE,OAAOC,MAAM,SAASX,KAAI,SAASpI,GAClD,IAAIX,EAAO,GAAIP,EAAIkB,EAAEgJ,QAAQ,KAE7B,GADIlK,GAAK,IAAGO,EAAOW,EAAEiJ,MAAMnK,EAAI,GAAIkB,EAAIA,EAAEiJ,MAAM,EAAGnK,IAC9CkB,IAAM6I,EAAMlI,eAAeX,GAAI,MAAM,IAAIuH,MAAM,iBAAmBvH,GACtE,MAAO,CAACkJ,KAAMlJ,EAAGX,KAAMA,MA6C3B,SAASM,EAAIuJ,EAAM7J,GACjB,IAAK,IAA4BF,EAAxBL,EAAI,EAAGyB,EAAI2I,EAAK1H,OAAW1C,EAAIyB,IAAKzB,EAC3C,IAAKK,EAAI+J,EAAKpK,IAAIO,OAASA,EACzB,OAAOF,EAAEY,MAKf,SAASoJ,EAAID,EAAM7J,EAAM2G,GACvB,IAAK,IAAIlH,EAAI,EAAGyB,EAAI2I,EAAK1H,OAAQ1C,EAAIyB,IAAKzB,EACxC,GAAIoK,EAAKpK,GAAGO,OAASA,EAAM,CACzB6J,EAAKpK,GAAKyJ,EAAMW,EAAOA,EAAKD,MAAM,EAAGnK,GAAGsK,OAAOF,EAAKD,MAAMnK,EAAI,IAC9D,MAIJ,OADgB,MAAZkH,GAAkBkD,EAAK7E,KAAK,CAAChF,KAAMA,EAAMU,MAAOiG,IAC7CkD,EAzDTR,EAAShI,UAAY8H,EAAS9H,UAAY,CACxC2I,YAAaX,EACbY,GAAI,SAASC,EAAUvD,GACrB,IAEIhG,EAFA4B,EAAIlD,KAAKkD,EACT4H,EAAIb,EAAeY,EAAW,GAAI3H,GAElC9C,GAAK,EACLyB,EAAIiJ,EAAEhI,OAGV,KAAIK,UAAUL,OAAS,GAAvB,CAOA,GAAgB,MAAZwE,GAAwC,mBAAbA,EAAyB,MAAM,IAAIuB,MAAM,qBAAuBvB,GAC/F,OAASlH,EAAIyB,GACX,GAAIP,GAAKuJ,EAAWC,EAAE1K,IAAIoK,KAAMtH,EAAE5B,GAAKmJ,EAAIvH,EAAE5B,GAAIuJ,EAASlK,KAAM2G,QAC3D,GAAgB,MAAZA,EAAkB,IAAKhG,KAAK4B,EAAGA,EAAE5B,GAAKmJ,EAAIvH,EAAE5B,GAAIuJ,EAASlK,KAAM,MAG1E,OAAOX,KAZL,OAASI,EAAIyB,GAAG,IAAKP,GAAKuJ,EAAWC,EAAE1K,IAAIoK,QAAUlJ,EAAIL,EAAIiC,EAAE5B,GAAIuJ,EAASlK,OAAQ,OAAOW,GAc/F+D,KAAM,WACJ,IAAIA,EAAO,GAAInC,EAAIlD,KAAKkD,EACxB,IAAK,IAAI5B,KAAK4B,EAAGmC,EAAK/D,GAAK4B,EAAE5B,GAAGiJ,QAChC,OAAO,IAAIP,EAAS3E,IAEtB9E,KAAM,SAASiK,EAAMO,GACnB,IAAKlJ,EAAIsB,UAAUL,OAAS,GAAK,EAAG,IAAK,IAAgCjB,EAAGP,EAA/B0J,EAAO,IAAIpG,MAAM/C,GAAIzB,EAAI,EAASA,EAAIyB,IAAKzB,EAAG4K,EAAK5K,GAAK+C,UAAU/C,EAAI,GACnH,IAAKJ,KAAKkD,EAAEjB,eAAeuI,GAAO,MAAM,IAAI3B,MAAM,iBAAmB2B,GACrE,IAAuBpK,EAAI,EAAGyB,GAAzBP,EAAItB,KAAKkD,EAAEsH,IAAoB1H,OAAQ1C,EAAIyB,IAAKzB,EAAGkB,EAAElB,GAAGiB,MAAM+G,MAAM2C,EAAMC,IAEjF5C,MAAO,SAASoC,EAAMO,EAAMC,GAC1B,IAAKhL,KAAKkD,EAAEjB,eAAeuI,GAAO,MAAM,IAAI3B,MAAM,iBAAmB2B,GACrE,IAAK,IAAIlJ,EAAItB,KAAKkD,EAAEsH,GAAOpK,EAAI,EAAGyB,EAAIP,EAAEwB,OAAQ1C,EAAIyB,IAAKzB,EAAGkB,EAAElB,GAAGiB,MAAM+G,MAAM2C,EAAMC,KAuBxElB,Q,SChFTtJ,EAAI,WCCH,SAASgC,EAAE9B,GAChB,OAAOA,EAAE8B,EAGJ,SAASC,EAAE/B,GAChB,OAAOA,EAAE+B,EAGX,IACIwI,EAAejF,KAAKkF,IAAM,EAAIlF,KAAKiB,KAAK,IAE7B,WAASvE,GACtB,IAAIyI,EDVAhJ,ECWAoH,EAAQ,EACR6B,EAAW,KACXC,EAAa,EAAIrF,KAAKsF,IAAIF,EAAU,EAAI,KACxCG,EAAc,EACdC,EAAgB,GAChBC,EAAS,IAAIhC,IACbiC,EAAUC,YAAMC,GAChBC,EAAQ/B,EAAS,OAAQ,OACzBtC,GDnBArF,EAAI,EACD,kBAAOA,GANN,QAMeA,EALf,YAKwB3B,GAAKA,ICsBrC,SAASoL,IACPE,IACAD,EAAMtL,KAAK,OAAQ4K,GACf5B,EAAQ6B,IACVM,EAAQK,OACRF,EAAMtL,KAAK,MAAO4K,IAItB,SAASW,EAAKlE,GACZ,IAAIxH,EAAqByC,EAAlBhB,EAAIa,EAAMI,YAEEqC,IAAfyC,IAA0BA,EAAa,GAE3C,IAAK,IAAIK,EAAI,EAAGA,EAAIL,IAAcK,EAOhC,IANAsB,IAAUgC,EAAchC,GAAS8B,EAEjCI,EAAOO,SAAQ,SAASpJ,GACtBA,EAAM2G,MAGHnJ,EAAI,EAAGA,EAAIyB,IAAKzB,EAEJ,OADfyC,EAAOH,EAAMtC,IACJ6L,GAAYpJ,EAAKL,GAAKK,EAAK4E,IAAM+D,GACrC3I,EAAKL,EAAIK,EAAKoJ,GAAIpJ,EAAK4E,GAAK,GAClB,MAAX5E,EAAKqJ,GAAYrJ,EAAKJ,GAAKI,EAAK6E,IAAM8D,GACrC3I,EAAKJ,EAAII,EAAKqJ,GAAIrJ,EAAK6E,GAAK,GAIrC,OAAOyD,EAGT,SAASgB,IACP,IAAK,IAA6BtJ,EAAzBzC,EAAI,EAAGyB,EAAIa,EAAMI,OAAc1C,EAAIyB,IAAKzB,EAAG,CAIlD,IAHAyC,EAAOH,EAAMtC,IAAS+H,MAAQ/H,EACf,MAAXyC,EAAKoJ,KAAYpJ,EAAKL,EAAIK,EAAKoJ,IACpB,MAAXpJ,EAAKqJ,KAAYrJ,EAAKJ,EAAII,EAAKqJ,IAC/B5I,MAAMT,EAAKL,IAAMc,MAAMT,EAAKJ,GAAI,CAClC,IAAI6D,EAxDQ,GAwDiBN,KAAKiB,KAAK,GAAM7G,GAAIgM,EAAQhM,EAAI6K,EAC7DpI,EAAKL,EAAI8D,EAASN,KAAKqG,IAAID,GAC3BvJ,EAAKJ,EAAI6D,EAASN,KAAKsG,IAAIF,IAEzB9I,MAAMT,EAAK4E,KAAOnE,MAAMT,EAAK6E,OAC/B7E,EAAK4E,GAAK5E,EAAK6E,GAAK,IAK1B,SAAS6E,EAAgB3J,GAEvB,OADIA,EAAMK,YAAYL,EAAMK,WAAWP,EAAO8E,GACvC5E,EAKT,OA1Da,MAATF,IAAeA,EAAQ,IAwD3ByJ,IAEOhB,EAAa,CAClBW,KAAMA,EAENU,QAAS,WACP,OAAOd,EAAQc,QAAQZ,GAAOT,GAGhCY,KAAM,WACJ,OAAOL,EAAQK,OAAQZ,GAGzBzI,MAAO,SAASQ,GACd,OAAOC,UAAUL,QAAUJ,EAAQQ,EAAGiJ,IAAmBV,EAAOO,QAAQO,GAAkBpB,GAAczI,GAG1G6G,MAAO,SAASrG,GACd,OAAOC,UAAUL,QAAUyG,GAASrG,EAAGiI,GAAc5B,GAGvD6B,SAAU,SAASlI,GACjB,OAAOC,UAAUL,QAAUsI,GAAYlI,EAAGiI,GAAcC,GAG1DC,WAAY,SAASnI,GACnB,OAAOC,UAAUL,QAAUuI,GAAcnI,EAAGiI,IAAeE,GAG7DE,YAAa,SAASrI,GACpB,OAAOC,UAAUL,QAAUyI,GAAerI,EAAGiI,GAAcI,GAG7DC,cAAe,SAAStI,GACtB,OAAOC,UAAUL,QAAU0I,EAAgB,EAAItI,EAAGiI,GAAc,EAAIK,GAGtEiB,aAAc,SAASvJ,GACrB,OAAOC,UAAUL,QAAU0E,EAAStE,EAAGuI,EAAOO,QAAQO,GAAkBpB,GAAc3D,GAGxF5E,MAAO,SAASjC,EAAMuC,GACpB,OAAOC,UAAUL,OAAS,GAAW,MAALI,EAAYuI,EAAOiB,OAAO/L,GAAQ8K,EAAOhB,IAAI9J,EAAM4L,EAAgBrJ,IAAMiI,GAAcM,EAAOxK,IAAIN,IAGpI0F,KAAM,SAAS7D,EAAGC,EAAG6D,GACnB,IAEIQ,EACAC,EACAC,EACAnE,EACA8J,EANAvM,EAAI,EACJyB,EAAIa,EAAMI,OAUd,IAHc,MAAVwD,EAAgBA,EAASP,IACxBO,GAAUA,EAEVlG,EAAI,EAAGA,EAAIyB,IAAKzB,GAInB4G,GAFAF,EAAKtE,GADLK,EAAOH,EAAMtC,IACCoC,GAEJsE,GADVC,EAAKtE,EAAII,EAAKJ,GACMsE,GACXT,IAAQqG,EAAU9J,EAAMyD,EAASU,GAG5C,OAAO2F,GAGT/B,GAAI,SAASjK,EAAMuC,GACjB,OAAOC,UAAUL,OAAS,GAAK+I,EAAMjB,GAAGjK,EAAMuC,GAAIiI,GAAcU,EAAMjB,GAAGjK,MCnJhE,aACb,IAAI+B,EACAG,EACA2E,EACA+B,EAEAR,EADApG,EAAW6F,GAAU,IAErBoE,EAAe,EACfC,EAAe9G,IACf+G,EAAS,IAEb,SAASlK,EAAMM,GACb,IAAI9C,EAAGyB,EAAIa,EAAMI,OAAQO,EAAO0B,EAASrC,EAAOF,EAAGC,GAAG8E,WAAWwF,GACjE,IAAKxD,EAAQrG,EAAG9C,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGyC,EAAOH,EAAMtC,GAAIiD,EAAK8C,MAAMiC,GAGjE,SAASnF,IACP,GAAKP,EAAL,CACA,IAAItC,EAAqByC,EAAlBhB,EAAIa,EAAMI,OAEjB,IADAiG,EAAY,IAAInE,MAAM/C,GACjBzB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGyC,EAAOH,EAAMtC,GAAI2I,EAAUlG,EAAKsF,QAAUxF,EAASE,EAAMzC,EAAGsC,IAGtF,SAASqK,EAAW1E,GAClB,IAAkB5B,EAAGhG,EAAe+B,EAAGC,EAAGrC,EAAtCuC,EAAW,EAASqK,EAAS,EAGjC,GAAI3E,EAAKvF,OAAQ,CACf,IAAKN,EAAIC,EAAIrC,EAAI,EAAGA,EAAI,IAAKA,GACtBqG,EAAI4B,EAAKjI,MAAQK,EAAIuF,KAAKiH,IAAIxG,EAAEpF,UACnCsB,GAAY8D,EAAEpF,MAAO2L,GAAUvM,EAAG+B,GAAK/B,EAAIgG,EAAEjE,EAAGC,GAAKhC,EAAIgG,EAAEhE,GAG/D4F,EAAK7F,EAAIA,EAAIwK,EACb3E,EAAK5F,EAAIA,EAAIuK,MAIV,EACHvG,EAAI4B,GACF7F,EAAIiE,EAAEzC,KAAKxB,EACbiE,EAAEhE,EAAIgE,EAAEzC,KAAKvB,EACb,GAAGE,GAAYoG,EAAUtC,EAAEzC,KAAKmE,aACzB1B,EAAIA,EAAE9B,MAGf0D,EAAKhH,MAAQsB,EAGf,SAASyF,EAAMC,EAAMhE,EAAInB,EAAGqD,GAC1B,IAAK8B,EAAKhH,MAAO,OAAO,EAExB,IAAImB,EAAI6F,EAAK7F,EAAIK,EAAKL,EAClBC,EAAI4F,EAAK5F,EAAII,EAAKJ,EAClByK,EAAI3G,EAAKlC,EACThE,EAAImC,EAAIA,EAAIC,EAAIA,EAIpB,GAAIyK,EAAIA,EAAIJ,EAASzM,EAQnB,OAPIA,EAAIwM,IACI,IAANrK,IAA6BnC,IAApBmC,EAAI+F,EAAOf,IAAkBhF,GAChC,IAANC,IAA6BpC,IAApBoC,EAAI8F,EAAOf,IAAkB/E,GACtCpC,EAAIuM,IAAcvM,EAAI2F,KAAKiB,KAAK2F,EAAevM,IACnDwC,EAAK4E,IAAMjF,EAAI6F,EAAKhH,MAAQkI,EAAQlJ,EACpCwC,EAAK6E,IAAMjF,EAAI4F,EAAKhH,MAAQkI,EAAQlJ,IAE/B,EAIJ,KAAIgI,EAAKvF,QAAUzC,GAAKwM,GAAxB,EAGDxE,EAAKrE,OAASnB,GAAQwF,EAAK1D,QACnB,IAANnC,IAA6BnC,IAApBmC,EAAI+F,EAAOf,IAAkBhF,GAChC,IAANC,IAA6BpC,IAApBoC,EAAI8F,EAAOf,IAAkB/E,GACtCpC,EAAIuM,IAAcvM,EAAI2F,KAAKiB,KAAK2F,EAAevM,KAGrD,GAAOgI,EAAKrE,OAASnB,IACnBqK,EAAInE,EAAUV,EAAKrE,KAAKmE,OAASoB,EAAQlJ,EACzCwC,EAAK4E,IAAMjF,EAAI0K,EACfrK,EAAK6E,IAAMjF,EAAIyK,SACR7E,EAAOA,EAAK1D,OAyBvB,OAtBA/B,EAAMK,WAAa,SAASwF,EAAQC,GAClChG,EAAQ+F,EACRjB,EAASkB,EACTzF,KAGFL,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,EAAwB,mBAANO,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASD,GAG3GC,EAAMuK,YAAc,SAASjK,GAC3B,OAAOC,UAAUL,QAAU8J,EAAe1J,EAAIA,EAAGN,GAASoD,KAAKiB,KAAK2F,IAGtEhK,EAAMwK,YAAc,SAASlK,GAC3B,OAAOC,UAAUL,QAAU+J,EAAe3J,EAAIA,EAAGN,GAASoD,KAAKiB,KAAK4F,IAGtEjK,EAAMyK,MAAQ,SAASnK,GACrB,OAAOC,UAAUL,QAAUgK,EAAS5J,EAAIA,EAAGN,GAASoD,KAAKiB,KAAK6F,IAGzDlK,GChHM,WAAS0D,EAAQ9D,EAAGC,GACjC,IAAIC,EAEAqG,EACAuE,EAFA3K,EAAW6F,EAAS,IAQxB,SAAS5F,EAAM2G,GACb,IAAK,IAAInJ,EAAI,EAAGyB,EAAIa,EAAMI,OAAQ1C,EAAIyB,IAAKzB,EAAG,CAC5C,IAAIyC,EAAOH,EAAMtC,GACb0G,EAAKjE,EAAKL,EAAIA,GAAK,KACnBuE,EAAKlE,EAAKJ,EAAIA,GAAK,KACnBvB,EAAI8E,KAAKiB,KAAKH,EAAKA,EAAKC,EAAKA,GAC7BkB,GAAKqF,EAASlN,GAAKc,GAAK6H,EAAU3I,GAAKmJ,EAAQrI,EACnD2B,EAAK4E,IAAMX,EAAKmB,EAChBpF,EAAK6E,IAAMX,EAAKkB,GAIpB,SAAShF,IACP,GAAKP,EAAL,CACA,IAAItC,EAAGyB,EAAIa,EAAMI,OAGjB,IAFAiG,EAAY,IAAInE,MAAM/C,GACtByL,EAAW,IAAI1I,MAAM/C,GAChBzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBkN,EAASlN,IAAMkG,EAAO5D,EAAMtC,GAAIA,EAAGsC,GACnCqG,EAAU3I,GAAKkD,MAAMgK,EAASlN,IAAM,GAAKuC,EAASD,EAAMtC,GAAIA,EAAGsC,IAwBnE,MA/CsB,mBAAX4D,IAAuBA,EAASkC,GAAUlC,IAC5C,MAAL9D,IAAWA,EAAI,GACV,MAALC,IAAWA,EAAI,GAyBnBG,EAAMK,WAAa,SAASC,GAC1BR,EAAQQ,EAAGD,KAGbL,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,EAAwB,mBAANO,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASD,GAG3GC,EAAM0D,OAAS,SAASpD,GACtB,OAAOC,UAAUL,QAAUwD,EAAsB,mBAANpD,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAAS0D,GAGzG1D,EAAMJ,EAAI,SAASU,GACjB,OAAOC,UAAUL,QAAUN,GAAKU,EAAGN,GAASJ,GAG9CI,EAAMH,EAAI,SAASS,GACjB,OAAOC,UAAUL,QAAUL,GAAKS,EAAGN,GAASH,GAGvCG,GCrDM,WAASJ,GACtB,IACIE,EACAqG,EACAlD,EAHAlD,EAAW6F,EAAS,IAOxB,SAAS5F,EAAM2G,GACb,IAAK,IAA6B1G,EAAzBzC,EAAI,EAAGyB,EAAIa,EAAMI,OAAc1C,EAAIyB,IAAKzB,GAC/CyC,EAAOH,EAAMtC,IAASqH,KAAO5B,EAAGzF,GAAKyC,EAAKL,GAAKuG,EAAU3I,GAAKmJ,EAIlE,SAAStG,IACP,GAAKP,EAAL,CACA,IAAItC,EAAGyB,EAAIa,EAAMI,OAGjB,IAFAiG,EAAY,IAAInE,MAAM/C,GACtBgE,EAAK,IAAIjB,MAAM/C,GACVzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnB2I,EAAU3I,GAAKkD,MAAMuC,EAAGzF,IAAMoC,EAAEE,EAAMtC,GAAIA,EAAGsC,IAAU,GAAKC,EAASD,EAAMtC,GAAIA,EAAGsC,IAiBtF,MA/BiB,mBAANF,IAAkBA,EAAIgG,EAAc,MAALhG,EAAY,GAAKA,IAkB3DI,EAAMK,WAAa,SAASC,GAC1BR,EAAQQ,EACRD,KAGFL,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,EAAwB,mBAANO,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASD,GAG3GC,EAAMJ,EAAI,SAASU,GACjB,OAAOC,UAAUL,QAAUN,EAAiB,mBAANU,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASJ,GAG7FI,GCrCM,WAASH,GACtB,IACIC,EACAqG,EACAjD,EAHAnD,EAAW6F,EAAS,IAOxB,SAAS5F,EAAM2G,GACb,IAAK,IAA6B1G,EAAzBzC,EAAI,EAAGyB,EAAIa,EAAMI,OAAc1C,EAAIyB,IAAKzB,GAC/CyC,EAAOH,EAAMtC,IAASsH,KAAO5B,EAAG1F,GAAKyC,EAAKJ,GAAKsG,EAAU3I,GAAKmJ,EAIlE,SAAStG,IACP,GAAKP,EAAL,CACA,IAAItC,EAAGyB,EAAIa,EAAMI,OAGjB,IAFAiG,EAAY,IAAInE,MAAM/C,GACtBiE,EAAK,IAAIlB,MAAM/C,GACVzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnB2I,EAAU3I,GAAKkD,MAAMwC,EAAG1F,IAAMqC,EAAEC,EAAMtC,GAAIA,EAAGsC,IAAU,GAAKC,EAASD,EAAMtC,GAAIA,EAAGsC,IAiBtF,MA/BiB,mBAAND,IAAkBA,EAAI+F,EAAc,MAAL/F,EAAY,GAAKA,IAkB3DG,EAAMK,WAAa,SAASC,GAC1BR,EAAQQ,EACRD,KAGFL,EAAMD,SAAW,SAASO,GACxB,OAAOC,UAAUL,QAAUH,EAAwB,mBAANO,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASD,GAG3GC,EAAMH,EAAI,SAASS,GACjB,OAAOC,UAAUL,QAAUL,EAAiB,mBAANS,EAAmBA,EAAIsF,GAAUtF,GAAID,IAAcL,GAASH,GAG7FG,I,2ZCvCT,a,wSCAA,IAII2K,EACAC,EALAC,EAAQ,EACRC,EAAU,EACVC,EAAW,EAIXC,EAAY,EACZC,EAAW,EACXC,EAAY,EACZC,EAA+B,YAAvB,oBAAOC,YAAP,cAAOA,eAA4BA,YAAYC,IAAMD,YAAcE,KAC3EC,EAA6B,YAAlB,oBAAOC,OAAP,cAAOA,UAAuBA,OAAOC,sBAAwBD,OAAOC,sBAAsBzM,KAAKwM,QAAU,SAASE,GAAKC,WAAWD,EAAG,KAE7I,SAASL,IACd,OAAOJ,IAAaM,EAASK,GAAWX,EAAWE,EAAME,MAAQH,GAGnE,SAASU,IACPX,EAAW,EAGN,SAASY,IACdzO,KAAK0O,MACL1O,KAAK2O,MACL3O,KAAK4O,MAAQ,KA0BR,SAASjD,EAAMrE,EAAUuH,EAAOC,GACrC,IAAIxN,EAAI,IAAImN,EAEZ,OADAnN,EAAEkL,QAAQlF,EAAUuH,EAAOC,GACpBxN,EAcT,SAASyN,IACPlB,GAAYD,EAAYG,EAAME,OAASH,EACvCL,EAAQC,EAAU,EAClB,KAdK,WACLO,MACER,EAEF,IADA,IAAkBuB,EAAd1N,EAAIiM,EACDjM,IACA0N,EAAInB,EAAWvM,EAAEqN,QAAU,GAAGrN,EAAEoN,MAAMnO,KAAK,KAAMyO,GACtD1N,EAAIA,EAAEsN,QAENnB,EAOAwB,GADF,QAGExB,EAAQ,EAWZ,WACE,IAAIyB,EAAmBC,EAAfC,EAAK7B,EAAcuB,EAAO/I,IAClC,KAAOqJ,GACDA,EAAGV,OACDI,EAAOM,EAAGT,QAAOG,EAAOM,EAAGT,OAC/BO,EAAKE,EAAIA,EAAKA,EAAGR,QAEjBO,EAAKC,EAAGR,MAAOQ,EAAGR,MAAQ,KAC1BQ,EAAKF,EAAKA,EAAGN,MAAQO,EAAK5B,EAAW4B,GAGzC3B,EAAW0B,EACXG,EAAMP,GAtBJQ,GACAzB,EAAW,GAIf,SAAS0B,IACP,IAAItB,EAAMF,EAAME,MAAOY,EAAQZ,EAAML,EACjCiB,EA7EU,MA6ESf,GAAae,EAAOjB,EAAYK,GAkBzD,SAASoB,EAAMP,GACTrB,IACAC,IAASA,EAAU8B,aAAa9B,IACxBoB,EAAOjB,EACP,IACNiB,EAAO/I,MAAU2H,EAAUa,WAAWQ,EAAMD,EAAOf,EAAME,MAAQH,IACjEH,IAAUA,EAAW8B,cAAc9B,MAElCA,IAAUC,EAAYG,EAAME,MAAON,EAAW+B,YAAYH,EAvGnD,MAwGZ9B,EAAQ,EAAGU,EAASY,KAjFxBN,EAAMzM,UAAY2J,EAAM3J,UAAY,CAClC2I,YAAa8D,EACbjC,QAAS,SAASlF,EAAUuH,EAAOC,GACjC,GAAwB,mBAAbxH,EAAyB,MAAM,IAAIqI,UAAU,8BACxDb,GAAgB,MAARA,EAAeb,KAASa,IAAkB,MAATD,EAAgB,GAAKA,GACzD7O,KAAK4O,OAASpB,IAAaxN,OAC1BwN,EAAUA,EAASoB,MAAQ5O,KAC1BuN,EAAWvN,KAChBwN,EAAWxN,MAEbA,KAAK0O,MAAQpH,EACbtH,KAAK2O,MAAQG,EACbO,KAEFtD,KAAM,WACA/L,KAAK0O,QACP1O,KAAK0O,MAAQ,KACb1O,KAAK2O,MAAQ5I,IACbsJ,Q,iCC5CN,oBAEe,YAAW,a,8qCCI1B,gBACA,YACA,QACA,QACA,SAKA,cAsEI,SAAF,EAAY,GAAR,IAAJ,EACE,cAAO,K,OArEF,SAAqB,CAAC,EAAG,GAGzB,eAA8B,KAG9B,eAA8B,KAG9B,kBAA0B,EAY1B,sBAAqC,KAGrC,sBAAqC,KAGrC,sBAAqC,KAGrC,kBAAiC,KAGjC,sBAAqC,KAGrC,eAAuB,GAMvB,aAAqB,KAGrB,WAAmB,KAGnB,QAAgB,GAGhB,kBAA0B,EAG1B,iBAAyB,EAEzB,OAAmB,aAGnB,cAA0B,aAGzB,eAA+B,EAQjC,GACF,EAAK,UAAU,G,EAqRnB,OA9V+B,OA6EtB,EAAF,wBAAP,WACM,MAAG,CACL,OAAQ,CAAC,EAAG,GACZ,aAAc,KACd,aAAc,KACd,gBAAgB,EACV,cAAI,EACJ,iBAAO,EACP,aAAQ,GACR,gBAAW,KACX,WAAM,KACN,SAAI,KACJ,MAAC,GACD,gBAAW,EACX,YAAM,EACN,qBAAgB,EAChB,oBAAe,GACf,oBAAe,IACf,oBAAe,GACf,gBAAW,GACX,KAAF,aACE,YAAK,aAEL,eAAS,IAQZ,iBAAP,SAAY,GACG,KACR,MAAQ,EAAK,OAAS,GAC3B,IAAM,EAAQ,EAAK,OAAS,GAFf,KAGR,MAAQ,EAAM,KAAI,YACrB,IAAM,EAAW,GACX,EAAa,CAAC,aAAc,aAAc,aAAc,YAMxD,OALN,OAAO,KAAK,GAAM,SAAQ,SAAC,GACnB,EAAW,QAAQ,IAAQ,IAC/B,EAAI,GAAO,EAAK,OAGb,KAXI,KAaR,SAAU,GAMV,oBAAP,SAAe,GACb,IAAM,EAAO,KACP,EAAQ,EAAK,MACb,EAAQ,EAAK,MAEf,MAAK,QAAL,CAGA,MAAa,EAAK,gBAChB,EAAW,EAAK,SAChB,EAAa,EAAK,WAClB,EAAQ,EAAK,MACf,GAAC,EAoGE,CACC,GAAF,EAMM,GALJ,EAAK,YAAc,EAAK,eAC1B,EAAK,aAAa,MAAM,GACxB,EAAK,aAAa,MAAM,IAElB,EAAG,MAAM,GACb,GAAS,EAAK,UAAW,EAAK,UAAU,MAAM,QAC7C,GAAI,IAAU,EAAK,UAAW,CAE3B,EAAY,EACf,YACA,IAAG,SAAC,GAAW,eACf,MAAM,GACL,EAAK,cACP,EAAU,SAAS,EAAK,cAEtB,EAAK,cACP,EAAU,SAAS,EAAK,cAE1B,EAAK,UAAY,EACjB,EAAW,MAAM,OAAQ,GAGzB,EAAK,gBACP,EAAK,eAAe,GAEtB,EAAW,MAAM,GAAO,UACxB,KAAK,SAAU,OA/Hf,IAEE,IAAM,EAAY,EAAQ,gBAMlB,GALJ,EAAK,cACP,EAAU,SAAS,EAAK,cAElB,EAAK,EAAQ,kBAAkB,MAAM,GAEzC,EAAK,WAAY,CACnB,IAAM,EAAe,YACX,EACP,QAAQ,EAAK,OAAO,IACpB,QAAQ,EAAK,OAAO,IACpB,SAAS,SACT,SAAS,EAAK,qBACb,GACF,EAAa,MAAM,GAEjB,GACF,EAAa,MAAM,GAEX,EACP,kBAAkB,EAAK,qBACvB,kBAAkB,EAAK,qBACvB,YAAY,EAAK,qBACjB,cAAc,EAAK,iBAEZO,EAAL,aAAe,EACVzE,EAAC,MAAM,QAAS,GAapB,GAXAA,EACL,MAAM,SAAU,EAAQ,YAAY,EAAK,OAAO,GAAI,EAAK,OAAO,KAChE,MAAM,SAAU,GAChB,MAAM,GACN,WAAW,GACX,SAAS,GAER,EAAK,gBACP,EAAK,eAAe,GAGlB,EAAO,CAEC,IAAJ,EAAY,EACf,YACA,IAAG,SAAC,GAAW,eACf,MAAM,GACL,EAAK,cACP,EAAU,SAAS,EAAK,cAEtB,EAAK,cACP,EAAU,SAAS,EAAK,cAEhB,EAAL,UAAY,EACjB,EAAW,MAAM,OAAQ,GASnB,GAPJ,EAAK,gBAAkB,MAEf,EAAL,eAAgB,EACrB,QAAQ,KACN,uEAGC,EAAK,cAUH,CAEK,EAAC,OAED,IADA,IAAJ,EAwIhB,SAA4B,GACxB,IAAI,EAAW,EAAW,WACtB,EAAc,EAAW,cACzB,EAAQ,EAAW,QACnB,EACJ,KAAK,KAAK,EAAW,IAAgB,EAAQ,IAC7C,KAAK,IAAI,EAAI,EAAW,cAExB,OADiB,KAAK,KAAK,GA/IF,CAAmB,GAC7B,EAAc,EAAG,GAAe,EAAY,IACvC,EAAD,OAEC,YACV,CACE,MAAK,EACL,YAAW,EACX,WAAU,EACV,KAAM,iBAAe,WAEvB,GAGJ,EAAK,SAAU,OA1BL,EACP,GAAG,QAAQ,WACV,EAAK,UAEN,GAAG,OAAO,WACT,EAAK,SAAU,EACX,EAAK,aAAa,EAAK,iBAE/B,EAAK,SAAU,EAqBT,EAAH,gBAAkB,EACvB,EAAK,SAAU,EACf,MAAO,GACP,EAAK,SAAU,EACf,QAAQ,KAAK,MAsCZ,2BAAP,SAAsB,GAChB,IAGA,EACA,EAHE,EADO,KACS,SAChB,EAFO,KAEY,YAGnB,EALO,KAKgB,gBAUzB,GAPF,EADE,WAAS,GACO,WAAM,UACf,aAAW,GACF,EAEA,WAAM,UAGrB,EAWE,GAAI,aAAW,GACd,EAAS,YAEb,OADa,EAAS,GACR,EAAgB,SAE3B,GAAI,UAAQ,GAAW,CACtB,IACA,GADS,EAAS,GAAK,EAAS,GAAK,EAAS,GAAK,EAAS,IAC1C,EACxB,EAAe,YAAK,SAAS,EAAT,SACf,GAAI,WAAS,GAAW,CACvB,MAAS,EAAW,EACpB0E,EAAS,YAAK,SAAS,EAAT,SAEpB,EAAe,WAAM,gBAvBf,EAAS,YACL,OAAJ,EAAE,KACA,UAAQ,EAAE,OACA,EAAE,KAAK,GAAK,EAAE,KAAK,GAAK,EAAE,KAAK,GAAK,EAAE,KAAK,IAC1C,EAAI,EAAgB,GAE5B,EAAE,KAAO,EAAI,EAAgB,GAE/B,GAAK,EAAgB,IAmB5B1E,EAAO,MACT,iBACA,EAAQ,aAAa,GAAc,SAAS,KAQvC,EAAF,oBAAP,SAAiB,GACF,KACJ,UADI,KAEN,gBAAgB,OAFV,KAGN,SAAU,GAHJ,KAKR,gBAAkB,KACnB,OAAG,OANM,KAMO,IAGf,oBAAP,WACe,KACJ,UADI,KAEN,gBAAgB,OAFV,KAGN,SAAU,GAHJ,KAKR,MAAQ,KALA,KAMR,MAAQ,KANA,KAOR,WAAY,GAErB,EA9VA,CAAiC,QA8WjC,SAAS,IAEP,MAC+B,oBAAtB,mBACP,gBAAgB,kBAlXP,iB,+mBCfb,gBAYA,qBACE,SAAS,EAAS,GAChB,OAAO,WAAM,UAGb,IAqBE,EArBA,EAAU,SAAC,GACb,OAAO,EAAE,SAEP,EAAuD,EAAS,GAChE,EAAqD,GAAU,GAC/D,EAA2D,EAAS,KACpE,EAA2D,EAAS,IACpE,EAAS,CAAC,EAAG,GAEb,EAAiB,GACjB,EAAgB,GAChB,EAAe,GACf,EAAU,IACV,EAAU,IACV,EAAY,CACd,KAAM,CACJ,EAAG,EACH,EAAG,IAGH,EAAyB,GAEzB,EAAW,QACX,GAAiB,EACjB,EAAW,GAEb,SAAO,EAAM,GACT,IAAC,EACH,OAAO,EAET,EAAc,OACd,IAEA,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,OAAI,EAAE,EAAI,EAAQ,EAAU,EAAI,IAAK,GACrE,EAAO,EAAM,IACR,KAAO,EAAK,EAAQ,IAAO,EAAI,EAAK,GAAK,EACxC,EAAD,KAAO,EAAK,EAAQ,IAAO,EAAI,EAAK,GAAK,EAIhD,SAAO,IACF,GAIL,WACA,IAAK,IAAU,EAAM,OACnB,OAGF,QAA0B,IAAtB,EAAQ,EAAM,IAChB,MAAM,MACJ,6IAMA,IAAE,GAqBA,EAAc,GACd,EAAc,GACd,EAAc,GAGhB,EAAqB,GAErB,EAkCJ,SAAiC,GAC7B,IAAE,EAAsB,GAqBxB,OAnBA,EAAE,SAAQ,SAAC,GACP,MAAM,EAAQ,GACf,EAAe,KACV,EAAO,GAAO,CACpB,MAAO,EACP,iBAAkB,OAIpB,EAAE,SAAQ,SAAC,GACb,IAAM,EAAM,EAAQ,GACd,EAAW,EAAc,GACzB,EAAW,EAAe,GAC1B,EAAG,MAAQ,EAAS,MAAQ,EAC5B,EAAG,iBACP,EAAS,iBAAmB,KAAK,IAAM,EAAW,GAAY,IAC1D,EAAS,GAAO,KAGjB,EAxDU,CAA0B,GACvC,EA0DJ,SAAiC,GAC7B,IAAE,EAAqB,GACrB,EAAoB,GAyB1B,OAxBI,EAAE,SAAQ,SAAC,GACP,MA0CR,SAAkB,GAClB,IAAM,EAAW,EAAQ,EAAS,EAAE,SAC9B,EAAW,EAAQ,EAAS,EAAE,SAEhC,OAAG,GAAY,EACZ,EAAQ,IAAI,EACZ,EAAQ,IAAI,EAhDL,CAAW,GACnB,EAAQ,OACe,IAAvB,EAAc,KACR,IAAc,IAElB,GAAG,EACT,EAAc,GAAO,KAGP,OAAO,QAAQ,GAEvB,SAAQ,SAAC,G,IAAC,EAAG,KAAE,EAAK,KACpB,EAAS,EAAI,MAAM,KAAK,GACxB,EAAS,EAAI,MAAM,KAAK,QACf,IAAX,QAAmC,IAAX,GAC1B,EAAa,KAAK,CAChB,OAAM,EACN,OAAM,EACN,MAAK,OAKJ,EArFS,CAA0B,GAE3B,OAAO,KAAK,GAEd,SAAQ,SAAC,EAAK,GACzB,IAAM,EAAM,EAAe,GAErB,EAAC,KAAK,CACV,GAAI,EACJ,KAAM,EAAI,MACF,EAAL,KAAK,KAAK,EAAI,iBAAmB,KAAK,MAErC,EAAC,GAAO,KAGZ,EAAU,SAAQ,SAAC,GACrB,IAAM,EAAS,EAAO,EAAE,QAClB,EAAS,EAAO,EAAE,aACT,IAAX,QAAmC,IAAX,GAC1B,EAAO,KAAK,CACV,OAAM,EACN,OAAM,EACN,MAAO,EAAE,WAKR,CACC,MAAC,EACD,MAAC,IAtCT,IAKI,EAJE,EACA,EACA,EAGF,EAzBA,EAAY,EACb,gBAAgB,EAAI,OACpB,MAAM,IAAK,EAAQ,OAAO,GAAS,SAAS,KAC5C,MAAM,IAAK,EAAQ,OAAO,GAAS,SAAS,KAC5C,MAAM,UAAW2E,EAAQ,cAAa,SAAC,GAAW,cAAK,WAAW,IAClE,MAAM,SAAU,EAAQ,gBAAgB,SAAS,IACjD,MACC,QACA,EACG,UAAU,EAAI,MAAM,OAAS,EAAI,MAAQ,IACzC,SAAS,GACT,SAAS,IAGhB,EAAgB,EAAc,QAE1B,IAjCA,GAqIJ,SAAO,IAaH,OAZA,EAAG,CACC,MACJ,EAAG,EACH,EAAG,IAGH,EAAU,SAAQ,SAAC,GACf,EAAD,EAAE,IAAM,CACX,EAAG,EAAE,EAAI,EAAO,GAChB,EAAG,EAAE,EAAI,EAAO,OAGb,EAYP,SAAO,EAAY,GACf,EAAO,GACP,EAAE,SAAQ,SAAC,GACb,EAAS,EAAK,IAAM,KA4KxB,OApCA,EAAM,WAAa,SAAC,GAClB,EAAQ,EACR,KAGF,EAAM,SAzIJ,SAAmB,GACf,OAAC,UAAU,QACX,EAAO,EACX,IACO,GAHuB,GA0IhC,EAAM,QApIJ,SAAkB,GACd,OAAC,UAAU,OACE,iBAAN,GACT,EAAU,SAAC,GACT,OAAO,EAAE,IAEJ,IAEL,EAAM,EACH,GARuB,GAqIhC,EAAM,eA1HJ,SAAyB,GACrB,OAAC,UAAU,QACX,EAAa,EACV,GAFuB,GA2HhC,EAAM,SAtHJ,SAAmB,GACf,OAAC,UAAU,QACX,EAAO,EACJ,GAFuB,GAuHhC,EAAM,QAlHJ,SAAkB,GAClB,OAAI,UAAU,QACZ,EAAU,EACH,GAGF,GA8GT,EAAM,QA3GJ,SAAkB,GACd,iBAAU,QACN,EAAI,EACH,GAGF,GAuGT,EAAM,MApGJ,SAAgB,GACZ,iBAAU,QACZ,EAAY,GAAK,IACjB,EAAQ,GAAK,GACN,GAEF,GAgGT,EAAM,MA7FJ,SAAgB,GACZ,iBAAU,QACN,EAAE,GAAK,GACP7M,IACC,GAEF,GAyFT,EAAM,cAtFJ,SAAwB,GACpB,iBAAU,QAEV,EADe,mBAAN,EACO,EAEA,GAAU,GAEtBA,IACC,GAGF,GA8ET,EAAM,SAAW,EAAM,cAEvB,EAAM,YA7EJ,SAAsB,GAClB,iBAAU,QAEV,EADe,mBAAN,EACK,EAEA,GAAU,GAEpB,IACC,GAGF,GAoET,EAAM,kBAjEJ,SAA4B,GACxB,iBAAU,QAEV,EADe,mBAAN,EACW,EAEA,GAAU,GAEhC,IACO,GAGF,GAwDT,EAAM,kBArDJ,SAA4B,GAC5B,OAAI,UAAU,QAEV,EADe,mBAAN,EACW,EAEA,GAAU,GAEhC,IACO,GAGF,GA4CT,EAAM,OAzCN,SAAmB,GACjB,OAAI,UAAU,QACZ,EAAS,EACF,GAGF,GAqCT,EAAM,SAAW,EAEV,I,0GCvYI,iBAAiB,CAE5B,IAAK,aAEH,IAAG,aAEH,MAAK,eAEL,KAAI,cACJ,OAAM,iBACN,OAAM,qB","file":"extends/layout/forceLayout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G6\"] = factory();\n\telse\n\t\troot[\"G6\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 472);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nvar Base = /** @class */ (function () {\n    function Base() {\n        this.nodes = [];\n        this.edges = [];\n        this.combos = [];\n        this.positions = [];\n        this.destroyed = false;\n        this.onLayoutEnd = function () { };\n    }\n    Base.prototype.layout = function (data) {\n        this.init(data);\n        return this.execute(true);\n    };\n    Base.prototype.init = function (data) {\n        this.nodes = data.nodes || [];\n        this.edges = data.edges || [];\n        this.combos = data.combos || [];\n    };\n    Base.prototype.execute = function (reloadData) { };\n    Base.prototype.executeWithWorker = function () { };\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    Base.prototype.updateCfg = function (cfg) {\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    };\n    Base.prototype.getType = function () {\n        return 'base';\n    };\n    Base.prototype.destroy = function () {\n        this.nodes = null;\n        this.edges = null;\n        this.combos = null;\n        this.positions = null;\n        this.destroyed = true;\n    };\n    return Base;\n}());\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./string\"), exports);\n__exportStar(require(\"./array\"), exports);\n__exportStar(require(\"./number\"), exports);\n__exportStar(require(\"./math\"), exports);\n__exportStar(require(\"./object\"), exports);\n__exportStar(require(\"./function\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.camelize = exports.isString = void 0;\nvar isString = function (val) { return typeof val === 'string'; };\nexports.isString = isString;\nvar cacheStringFunction = function (fn) {\n    var cache = Object.create(null);\n    return (function (str) {\n        var hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nvar camelizeRE = /-(\\w)/g;\nexports.camelize = cacheStringFunction(function (str) {\n    return str.replace(camelizeRE, function (_, c) { return (c ? c.toUpperCase() : ''); });\n});\n// export const capitalize = cacheStringFunction(\n//   (str: string) => str.charAt(0).toUpperCase() + str.slice(1),\n// )\n//# sourceMappingURL=string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = void 0;\nexports.isArray = Array.isArray;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toNumber = exports.isNaN = exports.isNumber = void 0;\nvar isNumber = function (val) { return typeof val === 'number'; };\nexports.isNumber = isNumber;\nvar isNaN = function (num) { return Number.isNaN(Number(num)); };\nexports.isNaN = isNaN;\nvar toNumber = function (val) {\n    var n = parseFloat(val);\n    return exports.isNaN(n) ? val : n;\n};\nexports.toNumber = toNumber;\n//# sourceMappingURL=number.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseTreeUp = exports.scaleMatrix = exports.getAdjMatrix = exports.floydWarshall = exports.getDegree = void 0;\nvar getDegree = function (n, nodeIdxMap, edges) {\n    var degrees = [];\n    for (var i = 0; i < n; i++) {\n        degrees[i] = 0;\n    }\n    if (!edges)\n        return degrees;\n    edges.forEach(function (e) {\n        if (e.source) {\n            degrees[nodeIdxMap[e.source]] += 1;\n        }\n        if (e.target) {\n            degrees[nodeIdxMap[e.target]] += 1;\n        }\n    });\n    return degrees;\n};\nexports.getDegree = getDegree;\nvar floydWarshall = function (adjMatrix) {\n    // initialize\n    var dist = [];\n    var size = adjMatrix.length;\n    for (var i = 0; i < size; i += 1) {\n        dist[i] = [];\n        for (var j = 0; j < size; j += 1) {\n            if (i === j) {\n                dist[i][j] = 0;\n            }\n            else if (adjMatrix[i][j] === 0 || !adjMatrix[i][j]) {\n                dist[i][j] = Infinity;\n            }\n            else {\n                dist[i][j] = adjMatrix[i][j];\n            }\n        }\n    }\n    // floyd\n    for (var k = 0; k < size; k += 1) {\n        for (var i = 0; i < size; i += 1) {\n            for (var j = 0; j < size; j += 1) {\n                if (dist[i][j] > dist[i][k] + dist[k][j]) {\n                    dist[i][j] = dist[i][k] + dist[k][j];\n                }\n            }\n        }\n    }\n    return dist;\n};\nexports.floydWarshall = floydWarshall;\nvar getAdjMatrix = function (data, directed) {\n    var nodes = data.nodes, edges = data.edges;\n    var matrix = [];\n    // map node with index in data.nodes\n    var nodeMap = {};\n    if (!nodes) {\n        throw new Error('invalid nodes data!');\n    }\n    if (nodes) {\n        nodes.forEach(function (node, i) {\n            nodeMap[node.id] = i;\n            var row = [];\n            matrix.push(row);\n        });\n    }\n    if (edges) {\n        edges.forEach(function (e) {\n            var source = e.source, target = e.target;\n            var sIndex = nodeMap[source];\n            var tIndex = nodeMap[target];\n            matrix[sIndex][tIndex] = 1;\n            if (!directed) {\n                matrix[tIndex][sIndex] = 1;\n            }\n        });\n    }\n    return matrix;\n};\nexports.getAdjMatrix = getAdjMatrix;\n/**\n * scale matrix\n * @param matrix [ [], [], [] ]\n * @param ratio\n */\nvar scaleMatrix = function (matrix, ratio) {\n    var result = [];\n    matrix.forEach(function (row) {\n        var newRow = [];\n        row.forEach(function (v) {\n            newRow.push(v * ratio);\n        });\n        result.push(newRow);\n    });\n    return result;\n};\nexports.scaleMatrix = scaleMatrix;\n/**\n * depth first traverse, from leaves to root, children in inverse order\n *  if the fn returns false, terminate the traverse\n */\nvar traverseUp = function (data, fn) {\n    if (data && data.children) {\n        for (var i = data.children.length - 1; i >= 0; i--) {\n            if (!traverseUp(data.children[i], fn))\n                return;\n        }\n    }\n    if (!fn(data)) {\n        return false;\n    }\n    return true;\n};\n/**\n * depth first traverse, from leaves to root, children in inverse order\n * if the fn returns false, terminate the traverse\n */\nvar traverseTreeUp = function (data, fn) {\n    if (typeof fn !== 'function') {\n        return;\n    }\n    traverseUp(data, fn);\n};\nexports.traverseTreeUp = traverseTreeUp;\n//# sourceMappingURL=math.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = exports.isObject = void 0;\nvar isObject = function (val) {\n    return val !== null && typeof val === 'object';\n};\nexports.isObject = isObject;\nvar clone = function (target) {\n    if (target === null) {\n        return target;\n    }\n    if (target instanceof Date) {\n        return new Date(target.getTime());\n    }\n    if (target instanceof Array) {\n        var cp_1 = [];\n        target.forEach(function (v) {\n            cp_1.push(v);\n        });\n        return cp_1.map(function (n) { return exports.clone(n); });\n    }\n    if (typeof target === 'object' && target !== {}) {\n        var cp_2 = __assign({}, target);\n        Object.keys(cp_2).forEach(function (k) {\n            cp_2[k] = exports.clone(cp_2[k]);\n        });\n        return cp_2;\n    }\n    return target;\n};\nexports.clone = clone;\n//# sourceMappingURL=object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFunction = void 0;\nvar isFunction = function (val) {\n    return typeof val === 'function';\n};\nexports.isFunction = isFunction;\n//# sourceMappingURL=function.js.map","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./force\"), exports);\n//# sourceMappingURL=index.js.map","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import { ForceLayout } from '@antv/layout/lib/layout/force';\n\nexport default ForceLayout;\n","\"use strict\";\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ForceLayout = void 0;\nvar d3Force = __importStar(require(\"d3-force\"));\nvar force_in_a_box_1 = __importDefault(require(\"./force-in-a-box\"));\nvar util_1 = require(\"../../util\");\nvar base_1 = require(\"../base\");\nvar constants_1 = require(\"../constants\");\n/**\n * 经典力导布局 force-directed\n */\nvar ForceLayout = /** @class */ (function (_super) {\n    __extends(ForceLayout, _super);\n    function ForceLayout(options) {\n        var _this = _super.call(this) || this;\n        /** 向心力作用点 */\n        _this.center = [0, 0];\n        /** 节点作用力 */\n        _this.nodeStrength = null;\n        /** 边的作用力, 默认为根据节点的入度出度自适应 */\n        _this.edgeStrength = null;\n        /** 是否防止节点相互覆盖 */\n        _this.preventOverlap = false;\n        /** 聚类节点作用力 */\n        _this.clusterNodeStrength = null;\n        /** 聚类边作用力 */\n        _this.clusterEdgeStrength = null;\n        /** 聚类边长度 */\n        _this.clusterEdgeDistance = null;\n        /** 聚类节点大小 / 直径，直径越大，越分散 */\n        _this.clusterNodeSize = null;\n        /** 用于 foci 的力 */\n        _this.clusterFociStrength = null;\n        /** 默认边长度 */\n        _this.linkDistance = 50;\n        /** 迭代阈值的衰减率 [0, 1]，0.028 对应最大迭代数为 300 */\n        _this.alphaDecay = 0.028;\n        /** 停止迭代的阈值 */\n        _this.alphaMin = 0.001;\n        /** 当前阈值 */\n        _this.alpha = 0.3;\n        /** 防止重叠的力强度 */\n        _this.collideStrength = 1;\n        /** 是否启用web worker。前提是在web worker里执行布局，否则无效\t*/\n        _this.workerEnabled = false;\n        _this.tick = function () { };\n        /** 布局完成回调 */\n        _this.onLayoutEnd = function () { };\n        /** 是否正在布局 */\n        _this.ticking = undefined;\n        if (options) {\n            _this.updateCfg(options);\n        }\n        return _this;\n    }\n    ForceLayout.prototype.getDefaultCfg = function () {\n        return {\n            center: [0, 0],\n            nodeStrength: null,\n            edgeStrength: null,\n            preventOverlap: false,\n            nodeSize: undefined,\n            nodeSpacing: undefined,\n            linkDistance: 50,\n            forceSimulation: null,\n            alphaDecay: 0.028,\n            alphaMin: 0.001,\n            alpha: 0.3,\n            collideStrength: 1,\n            clustering: false,\n            clusterNodeStrength: -1,\n            clusterEdgeStrength: 0.1,\n            clusterEdgeDistance: 100,\n            clusterFociStrength: 0.8,\n            clusterNodeSize: 10,\n            tick: function () { },\n            onLayoutEnd: function () { },\n            // 是否启用web worker。前提是在web worker里执行布局，否则无效\n            workerEnabled: false\n        };\n    };\n    /**\n     * 初始化\n     * @param {object} data 数据\n     */\n    ForceLayout.prototype.init = function (data) {\n        var self = this;\n        self.nodes = data.nodes || [];\n        var edges = data.edges || [];\n        self.edges = edges.map(function (edge) {\n            var res = {};\n            var expectKeys = [\"targetNode\", \"sourceNode\", \"startPoint\", \"endPoint\"];\n            Object.keys(edge).forEach(function (key) {\n                if (!(expectKeys.indexOf(key) > -1)) {\n                    res[key] = edge[key];\n                }\n            });\n            return res;\n        });\n        self.ticking = false;\n    };\n    /**\n     * 执行布局\n     */\n    ForceLayout.prototype.execute = function (reloadData) {\n        var self = this;\n        var nodes = self.nodes;\n        var edges = self.edges;\n        // 如果正在布局，忽略布局请求\n        if (self.ticking) {\n            return;\n        }\n        var simulation = self.forceSimulation;\n        var alphaMin = self.alphaMin;\n        var alphaDecay = self.alphaDecay;\n        var alpha = self.alpha;\n        if (!simulation) {\n            try {\n                // 定义节点的力\n                var nodeForce = d3Force.forceManyBody();\n                if (self.nodeStrength) {\n                    nodeForce.strength(self.nodeStrength);\n                }\n                simulation = d3Force.forceSimulation().nodes(nodes);\n                if (self.clustering) {\n                    var clusterForce = force_in_a_box_1.default();\n                    clusterForce\n                        .centerX(self.center[0])\n                        .centerY(self.center[1])\n                        .template(\"force\")\n                        .strength(self.clusterFociStrength);\n                    if (edges) {\n                        clusterForce.links(edges);\n                    }\n                    if (nodes) {\n                        clusterForce.nodes(nodes);\n                    }\n                    clusterForce\n                        .forceLinkDistance(self.clusterEdgeDistance)\n                        .forceLinkStrength(self.clusterEdgeStrength)\n                        .forceCharge(self.clusterNodeStrength)\n                        .forceNodeSize(self.clusterNodeSize);\n                    self.clusterForce = clusterForce;\n                    simulation.force(\"group\", clusterForce);\n                }\n                simulation\n                    .force(\"center\", d3Force.forceCenter(self.center[0], self.center[1]))\n                    .force(\"charge\", nodeForce)\n                    .alpha(alpha)\n                    .alphaDecay(alphaDecay)\n                    .alphaMin(alphaMin);\n                if (self.preventOverlap) {\n                    self.overlapProcess(simulation);\n                }\n                // 如果有边，定义边的力\n                if (edges) {\n                    // d3 的 forceLayout 会重新生成边的数据模型，为了避免污染源数据\n                    var edgeForce = d3Force\n                        .forceLink()\n                        .id(function (d) { return d.id; })\n                        .links(edges);\n                    if (self.edgeStrength) {\n                        edgeForce.strength(self.edgeStrength);\n                    }\n                    if (self.linkDistance) {\n                        edgeForce.distance(self.linkDistance);\n                    }\n                    self.edgeForce = edgeForce;\n                    simulation.force(\"link\", edgeForce);\n                }\n                if (self.workerEnabled && !isInWorker()) {\n                    // 如果不是运行在web worker里，不用web worker布局\n                    self.workerEnabled = false;\n                    console.warn(\"workerEnabled option is only supported when running in web worker.\");\n                }\n                if (!self.workerEnabled) {\n                    simulation\n                        .on(\"tick\", function () {\n                        self.tick();\n                    })\n                        .on(\"end\", function () {\n                        self.ticking = false;\n                        if (self.onLayoutEnd)\n                            self.onLayoutEnd();\n                    });\n                    self.ticking = true;\n                }\n                else {\n                    // worker is enabled\n                    simulation.stop();\n                    var totalTicks = getSimulationTicks(simulation);\n                    for (var currentTick = 1; currentTick <= totalTicks; currentTick++) {\n                        simulation.tick();\n                        // currentTick starts from 1.\n                        postMessage({\n                            nodes: nodes,\n                            currentTick: currentTick,\n                            totalTicks: totalTicks,\n                            type: constants_1.LAYOUT_MESSAGE.TICK\n                        }, undefined);\n                    }\n                    self.ticking = false;\n                }\n                self.forceSimulation = simulation;\n                self.ticking = true;\n            }\n            catch (e) {\n                self.ticking = false;\n                console.warn(e);\n            }\n        }\n        else {\n            if (reloadData) {\n                if (self.clustering && self.clusterForce) {\n                    self.clusterForce.nodes(nodes);\n                    self.clusterForce.links(edges);\n                }\n                simulation.nodes(nodes);\n                if (edges && self.edgeForce)\n                    self.edgeForce.links(edges);\n                else if (edges && !self.edgeForce) {\n                    // d3 的 forceLayout 会重新生成边的数据模型，为了避免污染源数据\n                    var edgeForce = d3Force\n                        .forceLink()\n                        .id(function (d) { return d.id; })\n                        .links(edges);\n                    if (self.edgeStrength) {\n                        edgeForce.strength(self.edgeStrength);\n                    }\n                    if (self.linkDistance) {\n                        edgeForce.distance(self.linkDistance);\n                    }\n                    self.edgeForce = edgeForce;\n                    simulation.force(\"link\", edgeForce);\n                }\n            }\n            if (self.preventOverlap) {\n                self.overlapProcess(simulation);\n            }\n            simulation.alpha(alpha).restart();\n            this.ticking = true;\n        }\n    };\n    /**\n     * 防止重叠\n     * @param {object} simulation 力模拟模型\n     */\n    ForceLayout.prototype.overlapProcess = function (simulation) {\n        var self = this;\n        var nodeSize = self.nodeSize;\n        var nodeSpacing = self.nodeSpacing;\n        var nodeSizeFunc;\n        var nodeSpacingFunc;\n        var collideStrength = self.collideStrength;\n        if (util_1.isNumber(nodeSpacing)) {\n            nodeSpacingFunc = function () { return nodeSpacing; };\n        }\n        else if (util_1.isFunction(nodeSpacing)) {\n            nodeSpacingFunc = nodeSpacing;\n        }\n        else {\n            nodeSpacingFunc = function () { return 0; };\n        }\n        if (!nodeSize) {\n            nodeSizeFunc = function (d) {\n                if (d.size) {\n                    if (util_1.isArray(d.size)) {\n                        var res = d.size[0] > d.size[1] ? d.size[0] : d.size[1];\n                        return res / 2 + nodeSpacingFunc(d);\n                    }\n                    return d.size / 2 + nodeSpacingFunc(d);\n                }\n                return 10 + nodeSpacingFunc(d);\n            };\n        }\n        else if (util_1.isFunction(nodeSize)) {\n            nodeSizeFunc = function (d) {\n                var size = nodeSize(d);\n                return size + nodeSpacingFunc(d);\n            };\n        }\n        else if (util_1.isArray(nodeSize)) {\n            var larger = nodeSize[0] > nodeSize[1] ? nodeSize[0] : nodeSize[1];\n            var radius_1 = larger / 2;\n            nodeSizeFunc = function (d) { return radius_1 + nodeSpacingFunc(d); };\n        }\n        else if (util_1.isNumber(nodeSize)) {\n            var radius_2 = nodeSize / 2;\n            nodeSizeFunc = function (d) { return radius_2 + nodeSpacingFunc(d); };\n        }\n        else {\n            nodeSizeFunc = function () { return 10; };\n        }\n        // forceCollide's parameter is a radius\n        simulation.force(\"collisionForce\", d3Force.forceCollide(nodeSizeFunc).strength(collideStrength));\n    };\n    /**\n     * 更新布局配置，但不执行布局\n     * @param {object} cfg 需要更新的配置项\n     */\n    ForceLayout.prototype.updateCfg = function (cfg) {\n        var self = this;\n        if (self.ticking) {\n            self.forceSimulation.stop();\n            self.ticking = false;\n        }\n        self.forceSimulation = null;\n        Object.assign(self, cfg);\n    };\n    ForceLayout.prototype.destroy = function () {\n        var self = this;\n        if (self.ticking) {\n            self.forceSimulation.stop();\n            self.ticking = false;\n        }\n        self.nodes = null;\n        self.edges = null;\n        self.destroyed = true;\n    };\n    return ForceLayout;\n}(base_1.Base));\nexports.ForceLayout = ForceLayout;\n// Return total ticks of d3-force simulation\nfunction getSimulationTicks(simulation) {\n    var alphaMin = simulation.alphaMin();\n    var alphaTarget = simulation.alphaTarget();\n    var alpha = simulation.alpha();\n    var totalTicksFloat = Math.log((alphaMin - alphaTarget) / (alpha - alphaTarget)) /\n        Math.log(1 - simulation.alphaDecay());\n    var totalTicks = Math.ceil(totalTicksFloat);\n    return totalTicks;\n}\n// 判断是否运行在web worker里\nfunction isInWorker() {\n    // eslint-disable-next-line no-undef\n    return (typeof WorkerGlobalScope !== \"undefined\" &&\n        self instanceof WorkerGlobalScope);\n}\n//# sourceMappingURL=force.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3Force = __importStar(require(\"d3-force\"));\n// https://github.com/john-guerra/forceInABox/blob/master/src/forceInABox.js\nfunction forceInABox() {\n    function constant(_) {\n        return function () { return _; };\n    }\n    var groupBy = function (d) {\n        return d.cluster;\n    };\n    var forceNodeSize = constant(1);\n    var forceCharge = constant(-1);\n    var forceLinkDistance = constant(100);\n    var forceLinkStrength = constant(0.1);\n    var offset = [0, 0];\n    var nodes = [];\n    var nodesMap = {};\n    var links = [];\n    var centerX = 100;\n    var centerY = 100;\n    var foci = {\n        none: {\n            x: 0,\n            y: 0,\n        },\n    };\n    var templateNodes = [];\n    var templateForce;\n    var template = 'force';\n    var enableGrouping = true;\n    var strength = 0.1;\n    function force(alpha) {\n        if (!enableGrouping) {\n            return force;\n        }\n        templateForce.tick();\n        getFocisFromTemplate();\n        for (var i = 0, n = nodes.length, node = void 0, k = alpha * strength; i < n; ++i) {\n            node = nodes[i];\n            node.vx += (foci[groupBy(node)].x - node.x) * k;\n            node.vy += (foci[groupBy(node)].y - node.y) * k;\n        }\n    }\n    function initialize() {\n        if (!nodes)\n            return;\n        initializeWithForce();\n    }\n    function initializeWithForce() {\n        if (!nodes || !nodes.length) {\n            return;\n        }\n        if (groupBy(nodes[0]) === undefined) {\n            throw Error(\"Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()\");\n        }\n        // checkLinksAsObjects();\n        var net = getGroupsGraph();\n        templateForce = d3Force\n            .forceSimulation(net.nodes)\n            .force('x', d3Force.forceX(centerX).strength(0.1))\n            .force('y', d3Force.forceY(centerY).strength(0.1))\n            .force('collide', d3Force.forceCollide(function (d) { return d.r; }).iterations(4))\n            .force('charge', d3Force.forceManyBody().strength(forceCharge))\n            .force('links', d3Force\n            .forceLink(net.nodes.length ? net.links : [])\n            .distance(forceLinkDistance)\n            .strength(forceLinkStrength));\n        templateNodes = templateForce.nodes();\n        getFocisFromTemplate();\n    }\n    function getGroupsGraph() {\n        var gnodes = [];\n        var glinks = [];\n        var dNodes = {};\n        var clustersList = [];\n        var clustersCounts = {};\n        var clustersLinks = [];\n        clustersCounts = computeClustersNodeCounts(nodes);\n        clustersLinks = computeClustersLinkCounts(links);\n        clustersList = Object.keys(clustersCounts);\n        clustersList.forEach(function (key, index) {\n            var val = clustersCounts[key];\n            // Uses approx meta-node size\n            gnodes.push({\n                id: key,\n                size: val.count,\n                r: Math.sqrt(val.sumforceNodeSize / Math.PI),\n            });\n            dNodes[key] = index;\n        });\n        clustersLinks.forEach(function (l) {\n            var source = dNodes[l.source];\n            var target = dNodes[l.target];\n            if (source !== undefined && target !== undefined) {\n                glinks.push({\n                    source: source,\n                    target: target,\n                    count: l.count,\n                });\n            }\n        });\n        return {\n            nodes: gnodes,\n            links: glinks,\n        };\n    }\n    function computeClustersNodeCounts(nodes) {\n        var clustersCounts = {};\n        nodes.forEach(function (d) {\n            var key = groupBy(d);\n            if (!clustersCounts[key]) {\n                clustersCounts[key] = {\n                    count: 0,\n                    sumforceNodeSize: 0,\n                };\n            }\n        });\n        nodes.forEach(function (d) {\n            var key = groupBy(d);\n            var nodeSize = forceNodeSize(d);\n            var tmpCount = clustersCounts[key];\n            tmpCount.count = tmpCount.count + 1;\n            tmpCount.sumforceNodeSize =\n                tmpCount.sumforceNodeSize + Math.PI * (nodeSize * nodeSize) * 1.3;\n            clustersCounts[key] = tmpCount;\n        });\n        return clustersCounts;\n    }\n    function computeClustersLinkCounts(links) {\n        var dClusterLinks = {};\n        var clusterLinks = [];\n        links.forEach(function (l) {\n            var key = getLinkKey(l);\n            var count = 0;\n            if (dClusterLinks[key] !== undefined) {\n                count = dClusterLinks[key];\n            }\n            count += 1;\n            dClusterLinks[key] = count;\n        });\n        var entries = Object.entries(dClusterLinks);\n        entries.forEach(function (_a) {\n            var key = _a[0], count = _a[1];\n            var source = key.split('~')[0];\n            var target = key.split('~')[1];\n            if (source !== undefined && target !== undefined) {\n                clusterLinks.push({\n                    source: source,\n                    target: target,\n                    count: count,\n                });\n            }\n        });\n        return clusterLinks;\n    }\n    function getFocisFromTemplate() {\n        foci = {\n            none: {\n                x: 0,\n                y: 0,\n            },\n        };\n        templateNodes.forEach(function (d) {\n            foci[d.id] = {\n                x: d.x - offset[0],\n                y: d.y - offset[1],\n            };\n        });\n        return foci;\n    }\n    function getLinkKey(l) {\n        var sourceID = groupBy(nodesMap[l.source]);\n        var targetID = groupBy(nodesMap[l.target]);\n        return sourceID <= targetID\n            ? sourceID + \"~\" + targetID\n            : targetID + \"~\" + sourceID;\n    }\n    function genNodesMap(nodes) {\n        nodesMap = {};\n        nodes.forEach(function (node) {\n            nodesMap[node.id] = node;\n        });\n    }\n    function setTemplate(x) {\n        if (!arguments.length)\n            return template;\n        template = x;\n        initialize();\n        return force;\n    }\n    function setGroupBy(x) {\n        if (!arguments.length)\n            return groupBy;\n        if (typeof x === 'string') {\n            groupBy = function (d) {\n                return d[x];\n            };\n            return force;\n        }\n        groupBy = x;\n        return force;\n    }\n    function setEnableGrouping(x) {\n        if (!arguments.length)\n            return enableGrouping;\n        enableGrouping = x;\n        return force;\n    }\n    function setStrength(x) {\n        if (!arguments.length)\n            return strength;\n        strength = x;\n        return force;\n    }\n    function setCenterX(_) {\n        if (arguments.length) {\n            centerX = _;\n            return force;\n        }\n        return centerX;\n    }\n    function setCenterY(_) {\n        if (arguments.length) {\n            centerY = _;\n            return force;\n        }\n        return centerY;\n    }\n    function setNodes(_) {\n        if (arguments.length) {\n            genNodesMap(_ || []);\n            nodes = _ || [];\n            return force;\n        }\n        return nodes;\n    }\n    function setLinks(_) {\n        if (arguments.length) {\n            links = _ || [];\n            initialize();\n            return force;\n        }\n        return links;\n    }\n    function setForceNodeSize(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceNodeSize = _;\n            }\n            else {\n                forceNodeSize = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceNodeSize;\n    }\n    function setForceCharge(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceCharge = _;\n            }\n            else {\n                forceCharge = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceCharge;\n    }\n    function setForceLinkDistance(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceLinkDistance = _;\n            }\n            else {\n                forceLinkDistance = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceLinkDistance;\n    }\n    function setForceLinkStrength(_) {\n        if (arguments.length) {\n            if (typeof _ === 'function') {\n                forceLinkStrength = _;\n            }\n            else {\n                forceLinkStrength = constant(+_);\n            }\n            initialize();\n            return force;\n        }\n        return forceLinkStrength;\n    }\n    function setOffset(_) {\n        if (arguments.length) {\n            offset = _;\n            return force;\n        }\n        return offset;\n    }\n    force.initialize = function (_) {\n        nodes = _;\n        initialize();\n    };\n    force.template = setTemplate;\n    force.groupBy = setGroupBy;\n    force.enableGrouping = setEnableGrouping;\n    force.strength = setStrength;\n    force.centerX = setCenterX;\n    force.centerY = setCenterY;\n    force.nodes = setNodes;\n    force.links = setLinks;\n    force.forceNodeSize = setForceNodeSize;\n    // Legacy support\n    force.nodeSize = force.forceNodeSize;\n    force.forceCharge = setForceCharge;\n    force.forceLinkDistance = setForceLinkDistance;\n    force.forceLinkStrength = setForceLinkStrength;\n    force.offset = setOffset;\n    force.getFocis = getFocisFromTemplate;\n    return force;\n}\nexports.default = forceInABox;\n//# sourceMappingURL=force-in-a-box.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAYOUT_MESSAGE = void 0;\n/** layout message type */\nexports.LAYOUT_MESSAGE = {\n    // run layout\n    RUN: \"LAYOUT_RUN\",\n    // layout ended with success\n    END: \"LAYOUT_END\",\n    // layout error\n    ERROR: \"LAYOUT_ERROR\",\n    // layout tick, used in force directed layout\n    TICK: \"LAYOUT_TICK\",\n    GPURUN: \"GPU_LAYOUT_RUN\",\n    GPUEND: \"GPU_LAYOUT_END\"\n};\n//# sourceMappingURL=constants.js.map"],"sourceRoot":""}