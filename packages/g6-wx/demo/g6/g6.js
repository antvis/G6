!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G6=e():t.G6=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=257)}([function(t,e,n){"use strict";n.d(e,"e",(function(){return x})),n.d(e,"x",(function(){return M})),n.d(e,"l",(function(){return O})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"s",(function(){return S})),n.d(e,"u",(function(){return C})),n.d(e,"w",(function(){return P})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return T})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"k",(function(){return w})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return m})),n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return B})),n.d(e,"r",(function(){return I})),n.d(e,"d",(function(){return D})),n.d(e,"v",(function(){return X})),n.d(e,"t",(function(){return Y}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i={}.toString,o=function(t,e){return i.call(t)==="[object "+e+"]"},a=function(t){return o(t,"Function")},s=function(t){return null==t},u=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=function(t){var e=c(t);return null!==t&&"object"===e||"function"===e};var l=function(t,e){if(t)if(u(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(h(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t){return"object"===f(t)&&null!==t},p=function(t){if(!d(t)||!o(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var g=function(t){if(u(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},v=function(t){if(u(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},y=Array.prototype,m=(y.splice,y.indexOf,Array.prototype.splice,function(t){return o(t,"String")});var b=Object.prototype.hasOwnProperty;var x=function(t,e){if(!e||!u(t))return{};for(var n,r={},i=a(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var s=t[o];n=i(s),b.call(r,n)?r[n].push(s):r[n]=[s]}return r};var M=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var w=function(t){return o(t,"Number")};Number.isInteger&&Number.isInteger;function O(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var S=function(t,e){return(t%e+e)%e},E=(Math.PI,parseInt,Math.PI/180),C=function(t){return E*t},k=(Object.values,function(t){return s(t)?"":t.toString()});var P=function(t){var e=k(t);return e.charAt(0).toUpperCase()+e.substring(1)},T=function(t){return o(t,"Boolean")};Object.prototype;function j(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function I(t,e,n,r){return e&&j(t,e),n&&j(t,n),r&&j(t,r),t}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _=function t(e){if("object"!==A(e)||null===e)return e;var n;if(u(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===A(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===A(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};function N(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&p(o)?(p(t[i])||(t[i]={}),n<r?N(t[i],o,n+1,r):t[i]=e[i]):u(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var L=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)N(t,e[r]);return t};Object.prototype.hasOwnProperty;var B=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(m(e)||m(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(d(e)||d(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},D=function(t,e,n){for(var r=0,i=m(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},R=(Object.prototype.hasOwnProperty,{}),X=function(t){return R[t=t||"g"]?R[t]+=1:R[t]=1,t+R[t]},Y=function(){};!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create},function(t,e,n){"use strict";n.d(e,"t",(function(){return b})),n.d(e,"i",(function(){return M})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return v})),n.d(e,"o",(function(){return w})),n.d(e,"q",(function(){return S})),n.d(e,"s",(function(){return C})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return x})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return _})),n.d(e,"n",(function(){return P})),n.d(e,"r",(function(){return L})),n.d(e,"p",(function(){return B}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i={}.toString,o=function(t,e){return i.call(t)==="[object "+e+"]"},a=function(t){return o(t,"Function")},s=function(t){return null==t},u=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=function(t){var e=c(t);return null!==t&&"object"===e||"function"===e};var l=function(t,e){if(t)if(u(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(h(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t){return"object"===f(t)&&null!==t},p=function(t){if(!d(t)||!o(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var g=function(t){if(u(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},v=function(t){if(u(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},y=Array.prototype,m=(y.splice,y.indexOf,Array.prototype.splice,function(t){return o(t,"String")});Object.prototype.hasOwnProperty;var b=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n};var x=function(t){return o(t,"Number")};Number.isInteger&&Number.isInteger;function M(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var w=function(t,e){return(t%e+e)%e},O=(Math.PI,parseInt,Math.PI/180),S=function(t){return O*t},E=(Object.values,function(t){return s(t)?"":t.toString()});var C=function(t){var e=E(t);return e.charAt(0).toUpperCase()+e.substring(1)};Object.prototype;function k(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function P(t,e,n,r){return e&&k(t,e),n&&k(t,n),r&&k(t,r),t}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j=function t(e){if("object"!==T(e)||null===e)return e;var n;if(u(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===T(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===T(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};function I(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&p(o)?(p(t[i])||(t[i]={}),n<r?I(t[i],o,n+1,r):t[i]=e[i]):u(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var A=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)I(t,e[r]);return t};Object.prototype.hasOwnProperty;var _=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(m(e)||m(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(d(e)||d(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},N=(Object.prototype.hasOwnProperty,{}),L=function(t){return N[t=t||"g"]?N[t]+=1:N[t]=1,t+N[t]},B=function(){};!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}()},function(t,e,n){"use strict";n.d(e,"i",(function(){return nt})),n.d(e,"h",(function(){return je})),n.d(e,"d",(function(){return Ie})),n.d(e,"m",(function(){return _e})),n.d(e,"l",(function(){return Ut})),n.d(e,"g",(function(){return zt})),n.d(e,"f",(function(){return qt})),n.d(e,"j",(function(){return ge})),n.d(e,"k",(function(){return Ae})),n.d(e,"r",(function(){return Re})),n.d(e,"p",(function(){return Ye})),n.d(e,"b",(function(){return ye})),n.d(e,"n",(function(){return Le})),n.d(e,"q",(function(){return Xe})),n.d(e,"o",(function(){return Fe})),n.d(e,"c",(function(){return Be})),n.d(e,"a",(function(){return De})),n.d(e,"e",(function(){return ze}));var r={};n.r(r),n.d(r,"compare",(function(){return v})),n.d(r,"getLineIntersect",(function(){return m})),n.d(r,"getRectIntersectByPoint",(function(){return b})),n.d(r,"getCircleIntersectByPoint",(function(){return x})),n.d(r,"getEllipseIntersectByPoint",(function(){return M})),n.d(r,"applyMatrix",(function(){return w})),n.d(r,"invertMatrix",(function(){return O})),n.d(r,"getCircleCenterByPoints",(function(){return S})),n.d(r,"distance",(function(){return E})),n.d(r,"scaleMatrix",(function(){return C})),n.d(r,"floydWarshall",(function(){return k})),n.d(r,"getAdjMatrix",(function(){return P})),n.d(r,"translate",(function(){return T})),n.d(r,"move",(function(){return j})),n.d(r,"scale",(function(){return I})),n.d(r,"rotate",(function(){return A})),n.d(r,"getDegree",(function(){return _})),n.d(r,"isPointInPolygon",(function(){return L})),n.d(r,"intersectBBox",(function(){return B})),n.d(r,"isPolygonsIntersect",(function(){return D})),n.d(r,"Line",(function(){return R})),n.d(r,"getBBoxBoundLine",(function(){return X})),n.d(r,"itemIntersectByLine",(function(){return F})),n.d(r,"fractionToLine",(function(){return z})),n.d(r,"getPointsCenter",(function(){return U})),n.d(r,"squareDist",(function(){return q})),n.d(r,"pointLineSquareDist",(function(){return W})),n.d(r,"isPointsOverlap",(function(){return G})),n.d(r,"pointRectSquareDist",(function(){return H}));var i={};n.r(i),n.d(i,"uniqueId",(function(){return rt})),n.d(i,"formatPadding",(function(){return it})),n.d(i,"cloneEvent",(function(){return ot})),n.d(i,"isViewportChanged",(function(){return at})),n.d(i,"isNaN",(function(){return st})),n.d(i,"calculationItemsBBox",(function(){return ut})),n.d(i,"processParallelEdges",(function(){return ct}));var o={};n.r(o),n.d(o,"getBBox",(function(){return yt})),n.d(o,"getLoopCfgs",(function(){return mt})),n.d(o,"getLabelPosition",(function(){return bt})),n.d(o,"traverseTree",(function(){return Mt})),n.d(o,"traverseTreeUp",(function(){return wt})),n.d(o,"getLetterWidth",(function(){return Ot})),n.d(o,"getTextSize",(function(){return St})),n.d(o,"plainCombosToTrees",(function(){return Et})),n.d(o,"reconstructTree",(function(){return Ct})),n.d(o,"getComboBBox",(function(){return kt})),n.d(o,"shouldRefreshEdge",(function(){return Pt})),n.d(o,"cloneBesidesImg",(function(){return Tt}));var a={};n.r(a),n.d(a,"getSpline",(function(){return Qt})),n.d(a,"getControlPoint",(function(){return Kt})),n.d(a,"pointsToPolygon",(function(){return $t})),n.d(a,"pathToPoints",(function(){return Jt})),n.d(a,"getClosedSpline",(function(){return te})),n.d(a,"roundedHull",(function(){return ie})),n.d(a,"paddedHull",(function(){return oe}));var s=n(0),u={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),Object(s.c)(n,(function(e,n){t.on(n,e)})),document.addEventListener("visibilitychange",(function(){e.keydown=!1}))},unbind:function(t){var e=this.events;"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),Object(s.c)(e,(function(e,n){t.off(n,e)}))},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},c=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: "+e);var r=Object(s.a)(u);Object.assign(r,n);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var r={};n&&(Object(s.c)(n,(function(t,n){r[n]=Object(s.x)(e,t)})),this.events=r)};i.prototype=r,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),h=c,l=n(1),f=n(91),d=n(5),p=n(47),g=d.a.transform,v=function(t){return function(e,n){return e[t]-n[t]}},y=function(t,e,n){return t>=e&&t<=n},m=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,c=r.y-n.y,h=a*c-s*u,l=1/h;if(h*h>1e-4*(a*a+s*s)*(u*u+c*c)){var f=(i*c-o*u)*l,d=(i*s-o*a)*l;return y(f,0,1)&&y(d,0,1)?{x:t.x+f*a,y:t.y+f*s}:null}return null},b=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=m(a[c-1],a[c],s,e));c++);return u},x=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x-n,a=e.y-r;if(Math.sqrt(o*o+a*a)<i)return null;var s=Math.sign(o),u=Math.sign(a),c=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(c))*s,y:r+Math.abs(i*Math.sin(c))*u}},M=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},w=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),d.d.transformMat3(r,r,e),{x:r[0],y:r[1]}},O=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=d.b.invert([1,0,0,0,1,0,0,0,1],e);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return d.d.transformMat3(i,i,r),{x:i[0],y:i[1]}},S=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=i*o-r*a;return{x:-(a*s-i*u)/c,y:-(r*u-o*s)/c}},E=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},C=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n},k=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},P=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)})),i},T=function(t,e){t.translate(e.x,e.y)},j=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getCanvasBBox(),i=e.x-r.minX,o=e.y-r.minY,a=g(n,[["t",i,o]]);t.setMatrix(a)},I=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e;Object(s.f)(e)||(r=[e,e]),Object(s.f)(e)&&1===e.length&&(r=[e[0],e[0]]),n=g(n,[["s",r[0],r[1]]]),t.setMatrix(n)},A=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=g(n,[["r",e]]),t.setMatrix(n)},_=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r};function N(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var L=function(t,e,n){var r=!1,i=t.length;function o(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=t[a],u=t[(a+1)%i];if(N(s,u,[e,n]))return!0;o(s[1]-n)>0!=o(u[1]-n)>0&&o(e-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},B=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},D=function(t,e){var n=function(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=n(t),o=n(e);if(!B(i,o))return!1;var a=!1;if(Object(s.c)(e,(function(e){if(L(t,e[0],e[1]))return a=!0,!1})),a)return!0;if(Object(s.c)(t,(function(t){if(L(e,t[0],t[1]))return a=!0,!1})),a)return!0;var u=r(t),c=r(e),h=!1;return Object(s.c)(c,(function(t){if(function(t,e){var n=!1;return Object(s.c)(t,(function(t){if(m(t.from,t.to,e.from,e.to))return n=!0,!1})),n}(u,t))return h=!0,!1})),h},R=function(){function t(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},t}(),X=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},Y=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},F=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=X(r,n[a]),u=s[0],c=s[1],h=s[2],l=s[3];o[a]=m({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:c},{x:h,y:l}),o[a]&&(i+=1)}return[o,i]},z=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=X(r,n[a]),u=s[0],c=s[1],h=s[2],l=s[3],f=Y(e,new R(u,c,h,l));(f=Math.abs(f-.5))>=0&&f<=1&&(o+=1,i=f<i?f:i)}return 0===o?-1:i},U=function(t){var e=0,n=0;if(t.length>0){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},q=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},W=function(t,e){var n,r=e.x1,i=e.y1,o=e.x2-r,a=e.y2-i,s=t.x-r,u=t.y-i,c=s*o+u*a;n=c<=0||(c=(s=o-s)*o+(u=a-u)*a)<=0?0:c*c/(o*o+a*a);var h=s*s+u*u-n;return h<0&&(h=0),h},G=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},H=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s},V="rgb(95, 149, 255)",Z="rgb(253, 253, 253)",Q="rgb(247, 250, 255)",K="rgb(224, 224, 224)",$="rgb(224, 224, 224)",J={version:"0.2.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:V,fill:"rgb(239, 244, 255)"},size:20,color:V,linkPoints:{size:8,lineWidth:1,fill:Q,stroke:V}},nodeStateStyles:{active:{fill:Q,stroke:V,lineWidth:2,shadowColor:V,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:V,lineWidth:4,shadowColor:V,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:K,lineAppendWidth:2},color:K},edgeStateStyles:{active:{stroke:V,lineWidth:1},selected:{stroke:V,lineWidth:2,shadowColor:V,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:V,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Z,lineWidth:1,stroke:$,r:5,width:20,height:10},size:[20,5],color:$,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:V,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:V,lineWidth:2,fill:Z,shadowColor:V,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:Z,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:Z,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},tt=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;Object(s.c)(t,(function(t){Object(s.c)(t,(function(e,n){Object(s.o)(e)&&(t[n]={type:e})}))}))},t.prototype.setBehaviors=function(t){var e,n=this.graph,r=this.modes[t],i=[];Object(s.c)(r||[],(function(t){var r=c.getBehavior(t.type||t);r&&(e=new r(t))&&(e.bind(n),i.push(e))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return Object(s.c)(e,(function(e){t.indexOf(e)<0&&(Object(s.o)(e)&&(e={type:e}),t.push(e))})),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach((function(t){var r="";r=Object(s.o)(t)?t:t.type,e.indexOf(r)<0&&n.push(t)})),n},t.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit("beforemodechange",{mode:t}),Object(s.c)(this.currentBehaves,(function(t){t.delegate&&t.delegate.remove(),t.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,r){var i,o=this;if(i=Object(s.f)(e)?e:[e],Object(s.f)(n))return Object(s.c)(n,(function(e){o.modes[e]?o.modes[e]=r?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):r&&(o.modes[e]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?t.mergeBehaviors(this.modes[a]||[],i):t.filterBehaviors(this.modes[a]||[],i),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){Object(s.o)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((u=r[a]).type===t.type||u===t.type)return u===t.type&&(u={type:u}),Object.assign(u,e),r[a]=u,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var u;if((u=r[a]).type===t.type)return u.updateCfg(e),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}();function et(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var nt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return Object(l.b)(e,t),e}(n(210).Event),rt=function(t){return t+"-"+Math.random()+Date.now()},it=function(t){var e=0,n=0,r=0,i=0;if(Object(s.k)(t))e=n=r=i=t;else if(Object(s.o)(t)){e=n=r=i=parseInt(t,10)}else Object(s.f)(t)&&(e=t[0],r=Object(s.j)(t[1])?t[0]:t[1],i=Object(s.j)(t[2])?t[0]:t[2],n=Object(s.j)(t[3])?r:t[3]);return[e,r,i,n]},ot=function(t){var e=new nt(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},at=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},st=function(t){return Number.isNaN(Number(t))},ut=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,h=a.maxY;s<e&&(e=s),u<r&&(r=u),c>n&&(n=c),h>i&&(i=h)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},ct=function(t,e,n,r,i){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=t.length,a=2*e,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],h={},l=0;l<o;l++){var f=t[l],d=f.source,p=f.target,g=d+"-"+p;if(!c[l]){u[g]||(u[g]=[]),c[l]=!0,u[g].push(f);for(var v=0;v<o;v++)if(l!==v){var y=t[v],m=y.source,b=y.target;c[v]||(d===b&&p===m?(u[g].push(y),c[v]=!0,h[m+"|"+b+"|"+(u[g].length-1)]=!0):d===m&&p===b&&(u[g].push(y),c[v]=!0))}}}for(var x in u)for(var M=u[x],w=M.length,O=0;O<w;O++){var S=M[O];if(S.source!==S.target)if(1===w&&r&&S.source!==S.target)S.type=r;else{S.type=n;var E=(O%2==0?1:-1)*(h[S.source+"|"+S.target+"|"+O]?-1:1);S.curveOffset=w%2==1?E*Math.ceil(O/2)*a:E*(Math.floor(O/2)*a+e)}else i&&(S.type=i),S.loopCfg={position:s[O%8],dist:20*Math.floor(O/8)+50}}return t},ht=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),r=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(){var t=this.graph,e=t.get("group");e.resetMatrix();var n=e.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;t.translate(r.x-i,r.y-o)}},t.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),n=t.get("width"),r=t.get("height"),i=t.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;t.translate(a.x-s,a.y-u);var c=(n-e[1]-e[3])/o.width,h=(r-e[0]-e[2])/o.height,l=c;c>h&&(l=h),t.zoom(l,a)}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return it(t)},t.prototype.focusPoint=function(t,e,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],u=(o.y-t.y)*a[4],c=0,h=0,f=0,d=0;this.graph.get("canvas").animate((function(t){f=s*t,d=u*t,r.graph.translate(f-c,d-h),c=f,h=d}),Object(l.a)({},n))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),O({x:t,y:e},n)},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),w({x:t,y:e},n)},t.prototype.focus=function(t,e,n){Object(s.o)(t)&&(t=this.graph.findById(t));var r=t.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),t&&this.focusPoint({x:r[6],y:r[7]},e,n)},t.prototype.changeSize=function(t,e){var n=this.graph;if(!Object(s.k)(t)||!Object(s.k)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach((function(r){if(r.get("gridContainer")){var i=n.get("minZoom");et(r.get("container"),{width:t+"px",height:e+"px"}),et(r.get("gridContainer"),{width:t/i+"px",height:e/i+"px",left:0,top:0})}}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}(),lt={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ft=Math.PI,dt=Math.sin,pt=Math.cos,gt=dt(ft/8),vt=pt(ft/8),yt=function(t,e){var n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=w(r,o),i=w(i,o)}var a=r.x,s=r.y,u=i.x,c=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},mt=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e.getKeyShape().getBBox(),i=t.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||J.defaultLoopPosition,s=[n[6],n[7]],u=[t.startPoint.x,t.startPoint.y],c=[t.endPoint.x,t.endPoint.y],h=r.height/2,l=r.height/2,f=h*gt,p=h*vt,g=l*gt,v=l*vt;if(u[0]===c[0]&&u[1]===c[1]){switch(a){case"top":u=[s[0]-f,s[1]-p],c=[s[0]+g,s[1]-v];break;case"top-right":h=r.height/2,l=r.width/2,u=[s[0]+(f=h*gt),s[1]-(p=h*vt)],c=[s[0]+(v=l*vt),s[1]-(g=l*gt)];break;case"right":h=r.width/2,l=r.width/2,u=[s[0]+(p=h*vt),s[1]-(f=h*gt)],c=[s[0]+(v=l*vt),s[1]+(g=l*gt)];break;case"bottom-right":h=r.width/2,l=r.height/2,u=[s[0]+(p=h*vt),s[1]+(f=h*gt)],c=[s[0]+(g=l*gt),s[1]+(v=l*vt)];break;case"bottom":h=r.height/2,l=r.height/2,u=[s[0]+(f=h*gt),s[1]+(p=h*vt)],c=[s[0]-(g=l*gt),s[1]+(v=l*vt)];break;case"bottom-left":h=r.height/2,l=r.width/2,u=[s[0]-(f=h*gt),s[1]+(p=h*vt)],c=[s[0]-(v=l*vt),s[1]+(g=l*gt)];break;case"left":h=r.width/2,l=r.width/2,u=[s[0]-(p=h*vt),s[1]+(f=h*gt)],c=[s[0]-(v=l*vt),s[1]-(g=l*gt)];break;case"top-left":h=r.width/2,l=r.height/2,u=[s[0]-(p=h*vt),s[1]-(f=h*gt)],c=[s[0]-(g=l*gt),s[1]-(v=l*vt)];break;default:h=r.width/2,l=r.width/2,u=[s[0]-(f=h*gt),s[1]-(p=h*vt)],c=[s[0]+(g=l*gt),s[1]-(v=l*vt)]}if(!1===i.clockwise){var y=[u[0],u[1]];u=[c[0],c[1]],c=[y[0],y[1]]}}var m=[u[0]-s[0],u[1]-s[1]],b=(h+o)/h,x=(l+o)/l;!1===i.clockwise&&(b=(l+o)/l,x=(h+o)/h);var M=d.c.scale([0,0],m,b),w=[s[0]+M[0],s[1]+M[1]],O=[c[0]-s[0],c[1]-s[1]],S=d.c.scale([0,0],O,x),E=[s[0]+S[0],s[1]+S[1]];return t.startPoint={x:u[0],y:u[1]},t.endPoint={x:c[0],y:c[1]},t.controlPoints=[{x:w[0],y:w[1]},{x:E[0],y:E[1]}],t},bt=function(t,e,n,r,i){var o=[],a=t.getPoint(e);if(null===a)return{x:0,y:0,angle:0};if(e<1e-4)o=t.getStartTangent().reverse();else if(e>.9999)o=t.getEndTangent();else{var s=t.getPoint(e+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var u=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(u<0&&(u+=2*ft),n&&(a.x+=pt(u)*n,a.y+=dt(u)*n),r){var c=u-ft/2;u>.5*ft&&u<1.5*ft&&(c-=ft),a.x+=pt(c)*r,a.y+=dt(c)*r}var h={x:a.x,y:a.y,angle:u};return i?(u>.5*ft&&u<1.5*ft&&(u-=ft),Object(l.a)({rotate:u},h)):h},xt=function t(e,n){if(!1===n(e))return!1;if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return!1;return!0},Mt=function(t,e){"function"==typeof e&&xt(t,e)},wt=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!1!==n(e)}(t,e)},Ot=function(t,e){return e*(lt[t]||1)},St=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach((function(t){r.test(t)?n+=e:n+=Ot(t,e)})),[n,e]},Et=function(t,e){var n=[],r={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=Object(s.a)(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo "+o.id+" can not be the same as the combo's id"),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo "+o.id+" does not exist!"),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var u=r[a.parentId];if(u)u.children?u.children.push(o):u.children=[o];else{var c={id:a.parentId,children:[a]};r[a.parentId]=c,r[o.id]=o}}else if(Object(s.o)(t.parentId)){var h=r[t.parentId];if(h)h.children?h.children.push(o):h.children=[o],r[o.id]=o;else{var l={id:t.parentId,children:[o]};r[l.id]=l,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(e||[]).forEach((function(t){o[t.id]=t;var e=r[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",r[t.id]=n}}));var a=0;return n.forEach((function(t){t.depth=a+10,xt(t,(function(t){var e,n=r[t.id].itemType;e="node"===n?r[t.comboId]:r[t.parentId],t.depth=e&&"node"===n?a+1:a+10,a<t.depth&&(a=t.depth);var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),n},Ct=function(t,e,n){var r,i=t,o={root:{children:t}},a=!1,s="root";(t||[]).forEach((function(t){if(!a)return t.id===e?(r=t,"combo"===t.itemType?r.parentId=n:r.comboId=n,void(a=!0)):void Mt(t,(function(t){return o[t.id]={children:t.children},i=o[t.parentId||t.comboId||"root"].children,!t||!t.removed&&e!==t.id||!i||(s=t.parentId||t.comboId||"root",r=t,"combo"===t.itemType?r.parentId=n:r.comboId=n,a=!0,!1)}))}));var u=(i=o[s].children)?i.indexOf(r):-1;if(u>-1&&i.splice(u,1),a||(r={id:e,itemType:"node",comboId:n},o[e]={children:void 0}),e){var c=!1;if(n){var h=0;(t||[]).forEach((function(t){c||Mt(t,(function(t){return n!==t.id||(c=!0,t.children?t.children.push(r):t.children=[r],h=t.depth,"node"===r.itemType?r.depth=h+2:r.depth=h+1,!1)}))}))}else n&&c||"node"===r.itemType||t.push(r);var l=r.depth;Mt(r,(function(t){return"node"===t.itemType?l+=2:l+=1,t.depth=l,!0}))}return t},kt=function(t,e){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return t&&0!==t.length?(t.forEach((function(t){var r=e.findById(t.id);if(r&&r.isVisible()){r.set("bboxCanvasCache",void 0);var i=r.getCanvasBBox();i.x&&n.minX>i.minX&&(n.minX=i.minX),i.y&&n.minY>i.minY&&(n.minY=i.minY),i.x&&n.maxX<i.maxX&&(n.maxX=i.maxX),i.y&&n.maxY<i.maxY&&(n.maxY=i.maxY)}})),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,Object.keys(n).forEach((function(t){n[t]!==1/0&&n[t]!==-1/0||(n[t]=void 0)})),n):n},Pt=function(t){var e=Object(s.k)(t.x)||Object(s.k)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||Object(s.k)(t.style.r)||Object(s.k)(t.style.width)||Object(s.k)(t.style.height)||Object(s.k)(t.style.rx)||Object(s.k)(t.style.ry)),e},Tt=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];if(Object(s.m)(r)){var i={};Object.keys(r).forEach((function(t){var e=r[t];("img"!==t||Object(s.o)(e))&&(i[t]=Object(s.a)(e))})),e[n]=i}else e[n]=Object(s.a)(r)})),e};function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!=typeof n)return n;for(var r=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some((function(t){return r(a)===t}))},u=null,c=0,h="";c<i.length;){var l=i[c],f=s('"',"'");if(f||l.trim()){var d="\\"===i[c-1],p=s("}"),g=s("]"),v=s(","),y=r(o);if(f)if(r(a)!==l||d)h+=l;else{a.pop();var m=e(h);y.push(m),u=m,h=""}else if(g&&","===l)h&&(y.push(e(h)),h="");else if(p&&":"===l)a.push(","),h&&(y.push(h),h="");else if(v&&","===l)h&&(y.push(e(h)),h=""),a.pop();else if("}"===l&&(p||v)){h&&(y.push(e(h)),h=""),v&&a.pop();for(var b={},x=1;x<y.length;x+=2)b[y[x-1]]=y[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===l&&g?(h&&(y.push(e(h)),h=""),o.pop(),o.length&&r(o).push(y),a.pop(),u=y):"{"===l?(o.push([]),a.push("}")):"["===l?(o.push([]),a.push("]")):'"'===l?a.push('"'):"'"===l?a.push("'"):h+=l;c+=1}else c+=1}return u||h}function At(t,e){var n;void 0===e&&(e={x:0,y:0});var r=Object(l.a)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var i=t.attrs,o=void 0===i?{}:i,a=o.marginTop,s=Object(l.a)({},e);a&&(s.y+=a);for(var u=0;u<t.children.length;u++){t.children[u].attrs.key=(o.key||"root")+" -"+u+" ";var c=At(t.children[u],s);if(c.bbox){var h=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,h.width+h.x>r.width&&(r.width=h.width+h.x),h.height+h.y>r.height&&(r.height=h.height+h.y)}}}return t.bbox=function(t,e,n){var r,i,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=St(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,t.attrs=Object(l.a)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,r),t.attrs=Object(l.a)(Object(l.a)({},t.attrs),t.bbox),t}function _t(t){var e={},n=function(e){var n=function(t){return function(e){for(var n=t.length,r=[],i=0,o="";i<n;)if("{"===t[i]&&"{"===t[i+1])r.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(r.length){var a=r.pop();o=Object(s.d)(e,o,a.endsWith("=")?'"{'+o+'}"':o),r.push(a+o)}i+=2,o=""}else o+=t[i],i+=1;return r.push(o),r.map((function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'+t+'}"':t})).join("")}}("function"==typeof t?t(e):t)(e),r=document.createElement("div");r.innerHTML=n;var i=At(function t(e,n){var r={},i=e.getAttributeNames&&e.getAttributeNames()||[],o=e.children&&Array.from(e.children).map((function(e){return t(e,n)})),a={},s=e.tagName?e.tagName.toLowerCase():"group";return"text"===s&&(r.text=e.innerText),a.type=s,"img"===s&&(a.type="image"),Array.from(i).forEach((function(t){var n=t.split("-").reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})),i=e.getAttribute(t);try{if("style"===n||"attrs"===n){var o=It(i);r=Object(l.a)(Object(l.a)({},r),o)}else a[n]=It(i)}catch(t){if("style"===n)throw t;a[n]=i}})),a.attrs=r,n&&n.style&&a.name&&"object"===jt(n.style[a.name])&&(a.attrs=Object(l.a)(Object(l.a)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(l.a)(Object(l.a)({},a.attrs),n.style)),o.length&&(a.children=o),a}(r.children[0],e));return r.remove(),i};return{draw:function(t,r){var i=n(t),o=r;return function t(e){var n=e.attrs,i=void 0===n?{}:n,a=e.bbox,s=e.type,u=e.children,c=Object(l.c)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var h=r.addShape(e.type,Object(l.a)({attrs:i,origin:{bbox:a,type:s,children:u}},c));e.keyshape&&(o=h)}e.children&&e.children.forEach((function(e){return t(e)}))}(i),e[t.id]=[i],o},update:function(t,r){e[t.id]||(e[t.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(t),s=function t(e,n){var r,i,o,a,s=(e||{}).type,u=((null==n?void 0:n.attrs)||{}).key;if(u&&e&&(e.attrs.key=u),!e&&n)return{action:"delete",val:n,type:s,key:u};if(e&&!n)return{action:"add",val:e,type:s};if(!e&&!n)return{action:"same",type:s};var c=[];if((null===(r=e.children)||void 0===r?void 0:r.length)>0||(null===(i=n.children)||void 0===i?void 0:i.length)>0)for(var h=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),l=n.children||[],f=e.children||[],d=0;d<h;d+=1)c.push(t(f[d],l[d]));var p=Object.keys(n.attrs),g=Object.keys(e.attrs);return n.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:n,key:u,children:c}:p.filter((function(t){return"children"!==t})).some((function(t){return e.attrs[t]!==n.attrs[t]||!g.includes(t)}))?{action:"change",val:e,children:c,type:s,key:u}:{action:"same",children:c,type:s,key:u}}(a,e[t.id].pop()),u=function t(e){var n;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))},c=function t(e){var n,r=o.find((function(t){return t.attrs.key===e.attrs.key}));r&&i.removeChild(r),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map((function(e){return t(e)}))};!function t(e){var n=e.key;if("group"!==e.type){var i=o.find((function(t){return t.attrs.key===n}));switch(e.action){case"change":if(i){var a=e.val.keyshape?r.getOriginStyle():{};i.attr(Object(l.a)(Object(l.a)({},a),e.val.attrs))}break;case"add":u(e.val);break;case"delete":c(e.val);break;case"restructure":c(e.formerTarget),u(e.nowTarget)}}e.children&&e.children.forEach((function(e){return t(e)}))}(s),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Nt={};function Lt(t){return Nt[t]||(Nt[t]=Object(s.w)(t)),Nt[t]}var Bt={defaultShapeType:"defaultType",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(t,e,n){var r=this.getShape(t),i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n){var r=this.getShape(t);r.update&&r.update(e,n),r.afterUpdate&&r.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Dt={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},Rt=function(){function t(){}return t.registerFactory=function(e,n){var r=Lt(e),i=Bt,o=Object(l.a)(Object(l.a)({},i),n);return t[r]=o,o.className=r,o},t.getFactory=function(e){return t[Lt(e)]},t.registerNode=function(e,n,r){var i,o=t.Node;if("string"==typeof n||"function"==typeof n){var a=_t(n);i=Object(l.a)(Object(l.a)({},o.getShape("single-node")),a)}else if(n.jsx){a=_t(n.jsx);i=Object(l.a)(Object(l.a)(Object(l.a)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):Dt;i=Object(l.a)(Object(l.a)({},s),n)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,n,r){var i=t.Edge,o=r?i.getShape(r):Dt,a=Object(l.a)(Object(l.a)({},o),n);return a.type=e,a.itemType="edge",i[e]=a,a},t.registerCombo=function(e,n,r){var i=t.Combo,o=r?i.getShape(r):Dt,a=Object(l.a)(Object(l.a)({},o),n);return a.type=e,a.itemType="combo",i[e]=a,a},t}(),Xt=Rt;Rt.registerFactory("node",{defaultShapeType:"circle"}),Rt.registerFactory("edge",{defaultShapeType:"line"}),Rt.registerFactory("combo",{defaultShapeType:"circle"});var Yt=function(){function t(t){this._cfg={},this.destroyed=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=rt(i),this.get("model").id=r),this.set("id",r);var o=t.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),u=this.get("shapeFactory");if(u&&u[a]){var c=u[a].options;if(c&&c.stateStyles){var h=this.get("styles")||n.stateStyles;h=Object(s.b)({},c.stateStyles,h),this.set("styles",h)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=yt(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=yt(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model");e.clear();var r=n.visible;if(void 0===r||r||this.changeVisibility(r),t){this.updatePosition(n);var i=this.getShapeCfg(n),o=i.type,a=t.draw(o,i,e);a&&(this.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",o),this.restoreStates(t,o)}},t.prototype.setOriginStyle=function(t){var e=this.get("group").get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.getOriginStyle();i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle();Object(s.c)(e,(function(t){var e=t.get("name"),n=t.attr();if(e&&e!==i){var u=a[e];o[e]||(o[e]={}),u?Object.keys(n).forEach((function(t){var r=n[t];r!==u[t]&&(o[e][t]=r)})):o[e]="image"!==t.get("type")?Object(s.a)(n):r.getShapeStyleByName(e)}else{var c=t.attr(),h=Object(l.a)(Object(l.a)({},a),a[i]);Object.keys(c).forEach((function(t){var e=c[t];h[t]!==e&&(i?o[i][t]=e:o[t]=e)}))}})),o.path&&delete o.path,o.matrix&&delete o.matrix,o.x&&delete o.x,o.y&&delete o.y,o[i]&&o[i].x&&delete o[i].x,o[i]&&o[i].y&&delete o[i].y,r.set("originStyle",o)}else{var u={};Object(s.c)(e,(function(t){var e=t.get("type"),n=t.get("name");if(n&&n!==i)u[n]="image"!==e?Object(s.a)(t.attr()):r.getShapeStyleByName(n);else{var o=r.getShapeStyleByName();if(o.path&&delete o.path,o.matrix&&delete o.matrix,i)if(n)u[i]=o;else{var a=rt("shape");t.set("name",a),u[a]="image"!==e?Object(s.a)(t.attr()):r.getShapeStyleByName(n)}else Object.assign(u,o)}})),r.set("originStyle",u)}},t.prototype.restoreStates=function(t,e){var n=this,r=n.get("states");Object(s.c)(r,(function(r){t.setState(e,r,!0,n)}))},t.prototype.init=function(){var t=Xt.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){Object(s.n)(t)?this._cfg=Object(l.a)(Object(l.a)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n.find((function(e){return e.get("name")===t})):this.getKeyShape()){var r={};return Object(s.c)(e.attr(),(function(t,e){"img"!==e&&(r[e]=t)})),r}return{}},t.prototype.getShapeCfg=function(t){var e=this.get("styles");if(e){var n=t;return n.style=Object(l.a)(Object(l.a)({},e),t.style),n}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?(Object(s.c)(t.getStates(),(function(n){e=Object.assign(e,t.getStateStyle(n))})),e):this.getOriginStyle()},t.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t;Object(s.o)(e)&&(i=t+":"+e,o=t+":");var a=n;if(Object(s.g)(e)){var u=n.indexOf(o);if(e){if(u>-1)return;n.push(i)}else u>-1&&n.splice(u,1)}else if(Object(s.o)(e)){var c=n.filter((function(t){return t.includes(o)}));c.length>0&&this.clearStates(c),(a=a.filter((function(t){return!t.includes(o)}))).push(i),this.set("states",a)}if(r){var h=this.get("model").type;r.setState(h,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),i=e.get("model").type;t||(t=n),Object(s.o)(t)&&(t=[t]);var o=n.filter((function(e){return-1===t.indexOf(e)}));e.set("states",o),t.forEach((function(t){r.setState(i,t,!1,e)}))},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(){var t=this.get("model");this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},t.prototype.isOnlyMove=function(t){return!1},t.prototype.update=function(t,e){void 0===e&&(e=!1);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=n.x,a=n.y;t.x=isNaN(t.x)?n.x:t.x,t.y=isNaN(t.y)?n.y:t.y;var u=this.get("styles");if(t.stateStyles){var c=t.stateStyles;Object(s.r)(u,c),delete t.stateStyles}Object.assign(n,t),e?this.updatePosition(t):(o===t.x&&a===t.y||this.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(){var t=this.get("shapeFactory"),e=this.get("model"),n=e.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var r=this.getShapeCfg(e);t.baseUpdate(n,r,this)}else this.draw();this.setOriginStyle(e),this.restoreStates(t,n)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=Object(s.j)(t.x)?e.x:t.x,r=Object(s.j)(t.y)?e.y:t.y,i=this.get("group");if(Object(s.j)(n)||Object(s.j)(r))return!1;e.x=n,e.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),T(i,{x:n,y:r}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get("bboxCache");return t||(t=this.calculateBBox(),this.set("bboxCache",t)),t},t.prototype.getCanvasBBox=function(){var t=this.get("bboxCanvasCache");return t||(t=this.calculateCanvasBBox(),this.set("bboxCanvasCache",t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),Ft={source:"start",target:"end"},zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=Ft[t]+"Point",r=t+"Node",i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),Object(s.n)(e)?(this.set(n,e),this.set(r,null)):(e.addEdge(this),this.set(r,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var r=Ft[t]+"Point",i=t+"Node",o=this.get(r);if(!o){var a=this.get(i),u=t+"Anchor",c=this.getPrePoint(t,n),h=e[u];Object(s.j)(h)||(o=a.getLinkPointByAnchor(h)),o=o||a.getLinkPoint(c),Object(s.j)(o.index)||this.set(t+"AnchorIndex",o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this.getEndPoint(n)},e.prototype.getEndPoint=function(t){var e=t+"Node",n=Ft[t]+"Point",r=this.get(e);return r?r.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+"Node",n=Ft[t]+"Point",r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e){var n=this.get("linkCenter"),r=t.prototype.getShapeCfg.call(this,e);if(n)r.startPoint=this.getEndCenter("source"),r.endPoint=this.getEndCenter("target");else{var i=r.controlPoints||this.getControlPointsByCenter(r);r.startPoint=this.getLinkPoint("source",e,i),r.endPoint=this.getLinkPoint("target",e,i)}return r.sourceNode=this.get("sourceNode"),r.targetNode=this.get("targetNode"),r},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("sourceNode"),n=this.get("targetNode");return e?delete t.sourceNode:t.source=this.get("startPoint"),n?delete t.targetNode:t.target=this.get("endPoint"),Object(s.o)(t.source)||Object(s.n)(t.source)||(t.source=t.source.getID()),Object(s.o)(t.target)||Object(s.n)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=!1);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(t.stateStyles){var a=t.stateStyles;Object(s.r)(o,a),delete t.stateStyles}Object.assign(n,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var e=this.get("sourceNode"),n=this.get("targetNode");e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(Yt),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=E(t[0],e),o=0;o<t.length;o++){var a=t[o],s=E(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){return n.filter((function(t){return t.getSource()===e})).map((function(t){return t.getTarget()}))}if("source"===t){return n.filter((function(t){return t.getTarget()===e})).map((function(t){return t.getSource()}))}return n.map((function(t){return t.getSource()===e?t.getTarget():t.getSource()}))},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(e=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=x({x:e,y:n,r:o.width/2},t);break;case"ellipse":a=M({x:e,y:n,rx:o.width/2,ry:o.height/2},t);break;default:a=b(o,t)}var u=a;return s.length&&(u||(u=t),u=this.getNearestPoint(s,u)),u||(u={x:e,y:n}),u},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=e.getAnchorPoints(o,i)||[];Object(s.c)(a,(function(e,r){var i={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:r};t.push(i)})),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(s.j)(t.x),n=!Object(s.j)(t.y),r=Object.keys(t);return 1===r.length&&(e||n)||2===r.length&&e&&n},e}(Yt),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var r=t,i={r:Math.hypot(n.height,n.width)/2||J.defaultCombo.size[0]/2,width:n.width||J.defaultCombo.size[0],height:n.height||J.defaultCombo.size[1]};r.style=Object(l.a)(Object(l.a)(Object(l.a)({},e),t.style),i);var o=t.padding||J.defaultCombo.padding;return Object(s.k)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set("sizeCache",i),r}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=yt(t,e);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get("sizeCache"),i=this.get("bboxCache")||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===t.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set("anchorPointsCache",null),n}},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Ut),Wt=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this,r=this.graph,i="vedge"===t?"edge":t,o=r.get(i+"Group")||r.get("group"),a=Object(s.w)(i),u=null,c=r.get(i+Object(s.w)("stateStyles"))||{},h=r.get("default"+a);e.stateStyles&&(c=e.stateStyles),h&&Object(s.c)(h,(function(t,n){Object(s.m)(t)&&!Object(s.f)(t)?e[n]=Object(s.b)({},t,e[n]):Object(s.f)(t)?e[n]=e[n]||Object(s.a)(h[n]):e[n]=e[n]||h[n]}));var l=r.get(i+"Mapper");if(l){var f=l(e);f.stateStyles&&(c=f.stateStyles,delete f.stateStyles),Object(s.c)(f,(function(t,n){Object(s.m)(t)&&!Object(s.f)(t)?e[n]=Object(s.b)({},e[n],t):e[n]=f[n]||e[n]}))}if(r.emit("beforeadditem",{type:t,model:e}),"edge"===t||"vedge"===t){var d=void 0,p=void 0;if(d=e.source,p=e.target,d&&Object(s.o)(d)&&(d=r.findById(d)),p&&Object(s.o)(p)&&(p=r.findById(p)),!d||!p)return void console.warn("The source or target node of edge "+e.id+" does not exist!");d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),p.getType&&"combo"===p.getType()&&(e.isComboEdge=!0),u=new zt({model:e,source:d,target:p,styles:c,linkCenter:r.get("linkCenter"),group:o.addGroup()})}else if("node"===t)u=new Ut({model:e,styles:c,group:o.addGroup()});else if("combo"===t){var g=e.children,v=kt(g,r);e.x=v.x||e.x||100*Math.random(),e.y=v.y||e.y||100*Math.random();var y=o.addGroup();y.setZIndex(e.depth);var m=(u=new qt({model:e,styles:c,bbox:v,group:y})).getModel();(g||[]).forEach((function(t){var e=r.findById(t.id);u.addChild(e),t.depth=m.depth+2})),e.collapsed&&setTimeout((function(){r.collapseCombo(u),n.updateCombo(u,[])}),250)}if(u)return r.get(t+"s").push(u),r.get("itemMap")[u.get("id")]=u,r.emit("afteradditem",{item:u,model:e}),u},t.prototype.updateItem=function(t,e){var n,r,i=this.graph;if(Object(s.o)(t)&&(t=i.findById(t)),t&&!t.destroyed){var o="";t.getType&&(o=t.getType());var a=i.get(o+"Mapper"),u=t.getModel(),c=t.isOnlyMove(e);if(a){var h=a(Object(s.b)({},u,e)),f=Object(s.b)({},u,h,e);h.stateStyles&&(t.set("styles",f.stateStyles),delete f.stateStyles),Object(s.c)(f,(function(t,n){e[n]=t}))}else Object(s.c)(e,(function(t,n){u[n]&&Object(s.m)(t)&&!Object(s.f)(t)&&(e[n]=Object(l.a)(Object(l.a)({},u[n]),e[n]))}));if(i.emit("beforeupdateitem",{item:t,cfg:e}),"edge"===o){if(e.source){var d=e.source;Object(s.o)(d)&&(d=i.findById(d)),t.setSource(d)}if(e.target){var p=e.target;Object(s.o)(p)&&(p=i.findById(p)),t.setTarget(p)}t.update(e)}if("node"===o||"combo"===o){t.update(e,c);var g=t.getEdges(),v=Pt(e);if(v&&"node"===o)Object(s.c)(g,(function(t){t.refresh()}));else if(v&&"combo"===o){var y=t.get("shapeFactory"),m=u.type||"circle";(void 0===u.animate||void 0===e.animate?null===(r=null===(n=y[m])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||e.animate)?setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&Object(s.c)(g,(function(t){t&&!t.destroyed&&t.refresh()}))}}),201):Object(s.c)(g,(function(t){t.refresh()}))}}i.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e){var n,r,i=this.graph;if(Object(s.o)(t)&&(t=i.findById(t)),t&&!t.destroyed){var o=kt(e,i);t.set("bbox",o),t.update({x:o.x,y:o.y});var a=t.getEdges()||[],u=a.length,c=t.getModel(),h=t.get("shapeFactory"),l=c.type||"circle";if(void 0===c.animate?null===(r=null===(n=h[l])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:c.animate)setTimeout((function(){if(t&&!t.destroyed){var e=t.getKeyShape();if(e&&!e.destroyed)for(var n=0;n<u;n++){var r=a[n];r&&!r.destroyed&&r.refresh()}}}),201);else for(var f=0;f<u;f++){var d=a[f];d&&!d.destroyed&&d.refresh()}}},t.prototype.collapseCombo=function(t){var e=this.graph;Object(s.o)(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach((function(t){e.hideItem(t)})),n.combos.forEach((function(t){e.hideItem(t)}))},t.prototype.expandCombo=function(t){var e=this.graph;Object(s.o)(t)&&(t=e.findById(t));var n=t.getChildren();n.nodes.forEach((function(t){e.showItem(t)})),n.combos.forEach((function(t){t.getModel().collapsed?t.show():e.showItem(t)}))},t.prototype.removeItem=function(t){var e=this,n=this.graph;if(Object(s.o)(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=Object(s.a)(t.getModel());n.emit("beforeremoveitem",{item:r});var i="";t.getType&&(i=t.getType());var o=n.get(i+"s"),a=o.indexOf(t);if(a>-1&&o.splice(a,1),"edge"===i){var u=n.get("v"+i+"s"),c=u.indexOf(t);c>-1&&u.splice(c,1)}var h=t.get("id");delete n.get("itemMap")[h];var l=n.get("comboTrees"),f=t.get("id");if("node"===i){var d=t.getModel().comboId;if(l){var p=l,g=!1;l.forEach((function(t){g||Mt(t,(function(t){if(t.id===f&&p){var e=p.indexOf(t);return p.splice(e,1),g=!0,!1}return p=t.children,!0}))}))}for(var v=(x=t.getEdges()).length-1;v>=0;v--)n.removeItem(x[v],!1);d&&n.updateCombo(d)}else if("combo"===i){var y,m=t.getModel().parentId,b=!1;(l||[]).forEach((function(t){b||Mt(t,(function(t){return t.id!==f||(y=t,b=!0,!1)}))})),y.removed=!0,y&&y.children&&y.children.forEach((function(t){e.removeItem(t.id)}));var x;for(v=(x=t.getEdges()).length;v>=0;v--)n.removeItem(x[v],!1);m&&n.updateCombo(m)}t.destroy(),n.emit("afterremoveitem",{item:r})}},t.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;Object(s.o)(n)&&(i=e+":"+n),t.hasState(i)===n&&n||Object(s.o)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,r=t;Object(s.o)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;Object(s.o)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;Object(s.o)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,r=this.graph;(t||[]).forEach((function(t){wt(t,(function(t){var r;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,r=e)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,r=this.graph;if(Object(s.o)(t)&&(t=r.findById(t)),t){if(r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&"node"===t.getType()){var i=t.getEdges();Object(s.c)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}else if(t.getType&&"combo"===t.getType()){var o=r.get("comboTrees"),a=t.get("id"),u=[],c=!1;(o||[]).forEach((function(t){c||t.children&&0!==t.children.length&&Mt(t,(function(t){return t.id!==a||(u=t.children,c=!0,!1)}))})),u&&u.forEach((function(t){var i=r.findById(t.id);n.changeItemVisibility(i,e)}));i=t.getEdges();Object(s.c)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)}))}return r.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Gt=null,Ht=function(){function t(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return t.checkCache=function(t,e,n){if(n[e]){var r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}},t.cacheState=function(t,e,n){n[e]||(n[e]=[]),n[e].push(t)},t.prototype.updateState=function(e,n,r){var i=this,o=t.checkCache,a=t.cacheState;if(!e.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;r?(o(e,n,c),a(e,n,u)):(o(e,n,u),a(e,n,c)),Gt&&clearTimeout(Gt),Gt=setTimeout((function(){Gt=null,i.updateGraphStates()}),16)}},t.prototype.updateStates=function(t,e,n){var r=this;Object(s.o)(e)?this.updateState(t,e,n):e.forEach((function(e){r.updateState(t,e,n)}))},t.prototype.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;Object(s.c)(e.disabled,(function(e,n){t[n]&&(t[n]=t[n].filter((function(t){return e.indexOf(t)<0&&!e.destroyed})))})),Object(s.c)(e.enabled,(function(e,n){if(t[n]){var r={};t[n].forEach((function(t){t.destroyed||(r[t.get("id")]=!0)})),e.forEach((function(e){if(!e.destroyed){var i=e.get("id");r[i]||(r[i]=!0,t[n].push(e))}}))}else t[n]=e})),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},t.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Gt&&clearTimeout(Gt),Gt=null,this.destroyed=!0},t}(),Vt=n(46),Zt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){if("\\"===t.charAt(0))return t.slice(1);var r=e[n];return 0===r&&(r="0"),r||""})):t},Qt=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,a=i.y;e.push(o),e.push(a)}var s=Object(Vt.a)(e);return s.unshift(["M",t[0].x,t[0].y]),s},Kt=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];d.c.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},$t=function(t,e){var n=t.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=t[i];r+=Zt(0===i?"M{x} {y}":"L{x} {y}",o)}return e&&(r+="Z"),r},Jt=function(t){var e=[];return t.forEach((function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e},te=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,c=t[a].x,h=t[a].y,l=t[a+1].x,f=t[a+1].y,d=c+(l-s)/6,p=h+(f-u)/6,g=l-((a!==t.length-2?t[a+2].x:l)-c)/6,v=f-((a!==t.length-2?t[a+2].y:f)-h)/6;o.push(["C",d,p,g,v,l,f])}return o.unshift(["M",r.x,r.y]),o},ee=function(t,e){return d.c.scale([0,0],d.c.normalize([0,0],t),e)},ne=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},re=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function ie(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M "+n+" A "+e+","+e+",0,0,0,"+r+" A "+e+","+e+",0,0,0,"+n}(t);if(2===t.length)return function(t){var n=d.c.scale([0,0],ne(t[0],t[1]),e),r=d.c.scale([0,0],n,-1),i=d.c.add([0,0],t[0],n),o=d.c.add([0,0],t[1],n),a=d.c.add([0,0],t[1],r),s=d.c.add([0,0],t[0],r);return"M "+i+" L "+o+" A "+[e,e,"0,0,0",a].join(",")+" L "+s+" A "+[e,e,"0,0,0",i].join(",")}(t);for(var n=new Array(t.length),r=0;r<n.length;++r){var i=0===r?t[t.length-1]:t[r-1],o=t[r],a=d.c.scale([0,0],ne(i,o),e);n[r]=[d.c.add([0,0],i,a),d.c.add([0,0],o,a)]}var s="A "+[e,e,"0,0,0,"].join(",");return(n=n.map((function(t,e){var r="";return 0===e&&(r="M "+n[n.length-1][1]+" "),r+=s+t[0]+" L "+t[1]}))).join(" ")}function oe(t,e){var n,r,i,o=t.length;if(!t||o<1)return"";if(1===o)return r=[(n=t)[0][0],n[0][1]-e],i=[n[0][0],n[0][1]+e],"M "+r+" A "+[e,e,"0,0,0",i].join(",")+" A "+[e,e,"0,0,0",r].join(",");if(2===o)return function(t){var n=re(t[0],t[1]),r=ee(n,e),i=d.c.add([0,0],t[0],d.c.scale([0,0],r,-1)),o=d.c.add([0,0],t[1],r),a=1.2*e,s=ee(d.c.normalize([0,0],n),a),u=d.c.scale([0,0],s,-1),c=d.c.add([0,0],i,u),h=d.c.add([0,0],o,u),l=d.c.add([0,0],i,s);return"M "+i+" C "+[c,h,o].join(",")+" S "+[l,i].join(",")+" Z"}(t);for(var a=t.map((function(e,n){var r=t[(n+1)%o];return{p:e,v:d.c.normalize([0,0],re(e,r))}})),s=0;s<a.length;++s){var u=s>0?s-1:o-1,c=d.c.normalize([0,0],d.c.add([0,0],a[u].v,d.c.scale([0,0],a[s].v,-1)));a[s].p=d.c.add([0,0],a[s].p,d.c.scale([0,0],c,e))}return a.map((function(t){var e=t.p;return{x:e[0],y:e[1]}}))}var ae=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},se=function(t){var e=t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}}));if(e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x})),1===e.length)return e;for(var n=[],r=0;r<e.length;r++){for(;n.length>=2&&ae(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}var i=[];for(r=e.length-1;r>=0;r--){for(;i.length>=2&&ae(i[i.length-2],i[i.length-1],e[r])<=0;)i.pop();i.push(e[r])}return i.pop(),n.pop(),n.concat(i)},ue={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function ce(t,e,n){var r=!1,i=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var r=0;return i(t-1,e-1)>=n&&(r+=1),i(t,e-1)>n&&(r+=2),i(t-1,e)>n&&(r+=4),i(t,e)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,c=0;c<e.width*e.height;c++){if(i=s,a=u,t.findIndex((function(t){return t.x===s&&t.y===u}))>-1){if(t[0].x===s&&t[0].y===u)return!0}else t.push({x:s,y:u});var h=o(s,u);switch(h){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: "+h),!0}}};this.march=function(){for(var t=0;t<e.width&&!r;t+=1)for(var s=0;s<e.height&&!r;s+=1)i(t,s)>n&&15!==o(t,s)&&(r=a(t,s));return r}}var he=function(t,e){var n=Number.POSITIVE_INFINITY,r=null;return t.forEach((function(t){var i=z(t,e);i>=0&&i<n&&(r=t,n=i)})),r};function le(t,e,n,r,i){var o=function(t,e,n){var r=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=q(o,a),u=new R(o.x,o.y,a.x,a.y),c=n.reduce((function(t,e){return z(e,u)>0?t+1:t}),0);s*Math.pow(c+1,2)<i&&(r=e,i=s*Math.pow(c+1,2))})),r}(t,n,e);if(null===o)return[];return function(t){for(var n=[];t.length>0;){var r=t.pop();if(0===t.length){n.push(r);break}var i=t.pop(),o=new R(r.x1,r.y1,i.x2,i.y2);he(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(function(t,e,n,r){var i=[],o=[];o.push(t);for(var a=!0,s=0,u=function(t,e){var n=!1;return e.forEach((function(e){n||(G(t,{x:e.x1,y:e.y1})||G(t,{x:e.x2,y:e.y2}))&&(n=!0)})),n},c=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(L(o,t.x,t.y))return!0}return!1};a&&s<n;){a=!1;for(var h=function(){var t=o.pop(),n=he(e,t);if(n){var h=F(n,t),l=h[0];if(2===h[1]){var f=function(s){for(var h=r,f=pe(n,h,l,s),d=u(f,o)||u(f,i),p=c(f,e);!d&&p&&h>=1;)f=pe(n,h/=1.5,l,s),d=u(f,o)||u(f,i),p=c(f,e);!f||d||s&&p||(o.push(new R(t.x1,t.y1,f.x,f.y)),o.push(new R(f.x,f.y,t.x2,t.y2)),a=!0)};f(!0),a||f(!1)}}a||i.push(t),s+=1};!a&&o.length;)h()}for(;o.length;)i.push(o.pop());return i}(new R(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),e,r,i))}var fe=function(t,e,n){var r=Object.assign(ue,n),i=U(t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}})));t=t.sort((function(t,e){return q({x:t.getModel().x,y:t.getModel().y},i)-q({x:e.getModel().x,y:e.getModel().y},i)}));var o=[],a=[];t.forEach((function(t){le(t,e,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(t){a.push(t)})),o.push(t)}));for(var s,u,c,h,l,f=function(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(t,a,r.nodeR0),d=(s=f.width,u=f.height,c=r.pixelGroupSize,h=Math.ceil(s/c),l=Math.ceil(u/c),{cells:new Float32Array(Math.max(0,h*l)).fill(0),width:h,height:l}),p=[],g=[],v=0;v<r.maxMarchingIterations;v++)if(de(t,e,a,f,d,r),g=[],new ce(p=[],d,r.threshold).march()){var y=p.map((function(t){return{x:Math.round(t.x*r.pixelGroupSize+f.minX),y:Math.round(t.y*r.pixelGroupSize+f.minY)}}));if(y){var m=y.length;if(r.skip>1)for(m=Math.floor(y.length/r.skip);m<3&&r.skip>1;)r.skip-=1,m=Math.floor(y.length/r.skip);for(var b=0,x=0;x<m;x+=1,b+=r.skip)g.push({x:y[b].x,y:y[b].y})}if(g&&function(){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=g.map((function(t){return[t.x,t.y]}));if(!L(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return g;if(r.threshold*=.9,v<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&e.length>0))break;r.nonMemberInfluenceFactor*=.8}}return g};function de(t,e,n,r,i,o){function a(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function s(t,e){return t*o.pixelGroupSize+e}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),c=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),h=function(t,e){return[Math.min(a(t.minX,e+r.minX),i.width),Math.min(a(t.minY,e+r.minY),i.height),Math.min(a(t.maxX,-e+r.minX),i.width),Math.min(a(t.maxY,-e+r.minY),i.height)]},l=function(t,e){for(var n=t.getBBox(),a=h(n,o.nodeR1),u=a[0],c=a[1],l=a[2],f=a[3],d=c;d<f;d+=1)for(var p=u;p<l;p+=1)if(!(e<0&&i[p+d*i.width]<=0)){var g=s(p,r.minX),v=s(d,r.minY),y=H({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(y<Math.pow(o.nodeR1,2)){var m=Math.sqrt(y)-o.nodeR1;i.cells[p+d*i.width]+=e*m*m}}};o.nodeInfluenceFactor&&t.forEach((function(t){l(t,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(t){!function(t,e){for(var n=t.getBBox(),a=h(n,o.edgeR1),u=a[0],c=a[1],l=a[2],f=a[3],d=c;d<f;d+=1)for(var p=u;p<l;p+=1)if(!(e<0&&i.cells[p+d*i.width]<=0)){var g=s(p,r.minX),v=s(d,r.minY),y=W({x:g,y:v},t);if(y<Math.pow(o.edgeR1,2)){var m=Math.sqrt(y)-o.edgeR1;i.cells[p+d*i.width]+=e*m*m}}}(t,o.edgeInfluenceFactor/c)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){l(t,o.negativeNodeInfluenceFactor/u)}))}function pe(t,e,n,r){var i=t.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},h=i.height*i.width;function l(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:l(a,u)<.5*h?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(o)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return l(o,s)<.5*h?o.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:o.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var ge=function(){function t(t,e){this.cfg=Object(s.b)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return Object(s.o)(e)?t.findById(e):e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return Object(s.o)(e)?t.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":i=ie((n=se(t)).map((function(t){return[t.x,t.y]})),this.padding),r=Object(Vt.b)(i);break;case"smooth-convex":2===(n=se(t)).length?(i=ie(n.map((function(t){return[t.x,t.y]})),this.padding),r=Object(Vt.b)(i)):n.length>2&&(i=oe(n.map((function(t){return[t.x,t.y]})),this.padding),r=te(i));break;case"bubble":r=(n=fe(t,e,this.cfg.bubbleCfg)).length>=2&&te(n)}return r},t.prototype.render=function(){this.group.addShape("path",{attrs:Object(l.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},t.prototype.addMember=function(t){if(t){Object(s.o)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){Object(s.o)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){Object(s.o)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){Object(s.o)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return Object(s.o)(t)?n.graph.findById(t):t}))),e&&(this.nonMembers=e.map((function(t){return Object(s.o)(t)?n.graph.findById(t):t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(l.a)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=Object(s.b)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return Object(s.o)(t)?e.graph.findById(t):t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return Object(s.o)(t)?e.graph.findById(t):t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,r=this,i=(e=Object(s.o)(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))n=Jt(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(t){var e=r.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),D(n,Jt(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),ve=d.a.transform,ye=function(t){function e(e){var n=t.call(this)||this;return n.cfg=Object(s.b)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new p.Stack(n.cfg.maxStep),n.redoStack=new p.Stack(n.cfg.maxStep)),n}return Object(l.b)(e,t),e.prototype.init=function(){this.initCanvas();var t=new ht(this),e=new tt(this),n=new Wt(this),r=new Ht(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el").id,n=t.addGroup({id:e+"-root",className:J.rootContainerClassName});if(this.get("groupByTypes")){var r=n.addGroup({id:e+"-edge",className:J.edgeContainerClassName}),i=n.addGroup({id:e+"-node",className:J.nodeContainerClassName}),o=n.addGroup({id:e+"-combo",className:J.comboContainerClassName});o.toBack(),this.set({nodeGroup:i,edgeGroup:r,comboGroup:o})}var a=n.addGroup({id:e+"-delegate",className:J.delegateContainerClassName});this.set({delegateGroup:a}),this.set("group",n)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,e){return Object(s.n)(t)?this.cfg=Object(l.a)(Object(l.a)({},this.cfg),t):this.cfg[t]=e,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){Object(s.o)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,r=this.get(t+"s");return Object(s.c)(r,(function(t,r){if(e(t,r))return n=t})),n},e.prototype.findAll=function(t,e){var n=[];return Object(s.c)(this.get(t+"s"),(function(t,r){e(t,r)&&n.push(t)})),n},e.prototype.findAllByState=function(t,e){return this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e){var n=this.get("group"),r=Object(s.a)(n.getMatrix());r||(r=[1,0,0,0,1,0,0,0,1]),r=ve(r,[["t",t,e]]),n.setMatrix(r),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,e){var n=this.get("group");j(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController").fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e){var n=this.get("group"),r=Object(s.a)(n.getMatrix()),i=this.get("minZoom"),o=this.get("maxZoom");r||(r=[1,0,0,0,1,0,0,0,1]),r=ve(r,e?[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]:[["s",t,t]]),i&&r[0]<i||o&&r[0]>o||(n.setMatrix(r),this.emit("viewportchange",{action:"zoom",matrix:r}),this.autoPaint())},e.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},e.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(t,i,o),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(Object(s.o)(t)&&(n=this.findById(t)),!n&&Object(s.o)(t))console.warn("The item to be removed does not exist!");else if(n){var r="";if(n.getType&&(r=n.getType()),e&&this.get("enabledStack")){var i=Object(l.a)(Object(l.a)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),u=a.length-1;u>=0;u--)o.edges.push(Object(l.a)(Object(l.a)({},a[u].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n);if(this.get("itemController").removeItem(n),"combo"===r){var c=Ct(this.get("comboTrees"));this.set("comboTrees",c)}}},e.prototype.addItem=function(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!e.id||!this.findById(e.id)){var a,u=this.get("comboTrees");if(u||(u=[]),"combo"===t){var c=this.get("itemMap"),h=!1;if(u.forEach((function(n){h||wt(n,(function(n){if(e.parentId===n.id){h=!0;var r=Object(l.a)({id:e.id,depth:n.depth+2},e);n.children?n.children.push(r):n.children=[r],e.depth=r.depth,a=o.addItem(t,e)}var i=c[n.id];return h&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!h){var f=Object(l.a)({id:e.id,depth:0},e);e.depth=f.depth,u.push(f),a=o.addItem(t,e)}this.set("comboTrees",u)}else if("node"===t&&Object(s.o)(e.comboId)&&u){var d;if((d=this.findById(e.comboId))&&d.getType&&"combo"!==d.getType())return void console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");a=o.addItem(t,e);var p=this.get("itemMap"),g=!1,v=!1;(u||[]).forEach((function(t){v||g||wt(t,(function(t){if(t.id===e.id)return v=!0,!1;if(e.comboId===t.id&&!v){g=!0;var n=Object(s.a)(e);n.itemType="node",t.children?t.children.push(n):t.children=[n],e.depth=t.depth+1}return g&&p[t.id].getType&&"combo"===p[t.id].getType()&&o.updateCombo(p[t.id],t.children),!0}))}))}else a=o.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(d=this.findById(e.comboId||e.parentId))&&d.addChild(a);var y=this.get("combos");if(y&&y.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var m=Object(l.a)(Object(l.a)({},a.getModel()),{itemType:t}),b={};switch(t){case"node":b.nodes=[m];break;case"edge":b.edges=[m];break;case"combo":b.combos=[m]}this.pushStack("add",{before:{},after:b})}return a}console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","")},e.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},e.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=Object(s.o)(t)?this.findById(t):t;var a=Object(s.a)(i.getModel()),u="";i.getType&&(u=i.getType());var c=Object(l.d)([],i.getStates());if("combo"===u&&Object(s.c)(c,(function(t){return r.setItemState(i,t,!1)})),o.updateItem(i,e),"combo"===u&&Object(s.c)(c,(function(t){return r.setItemState(i,t,!0)})),n&&this.get("enabledStack")){var h={nodes:[],edges:[],combos:[]},f={nodes:[],edges:[],combos:[]},d=Object(l.a)({id:a.id},e);switch(u){case"node":h.nodes.push(a),f.nodes.push(d);break;case"edge":h.edges.push(a),f.edges.push(d);break;case"combo":h.combos.push(a),f.combos.push(d)}"node"===u&&h.nodes.push(a),this.pushStack("update",{before:h,after:f})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){Object(s.o)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n);var r=this.get("stateController");Object(s.o)(n)?r.updateState(t,e+":"+n,!0):r.updateState(t,e,n)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i,a=e.combos,u=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),Object(s.c)(r,(function(e){t.add("node",e,!1,!1)})),u&&0!==u.length){var c=Et(u,r);this.set("comboTrees",c),t.addCombos(u)}Object(s.c)(o,(function(e){t.add("edge",e,!1,!1)}));var h=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var l=t.get("layoutController");if(l){if(l.layout((function(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter();t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",h)})),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",h);this.get("groupByTypes")||(u&&0!==u.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach((function(t){t.toFront()})):this.getEdges().forEach((function(t){t.toBack()})));this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var r,i=this,o=this.get("itemMap");Object(s.c)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===t){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(t,n,!1);r&&e[t+"s"].push(r)}))},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(t){return n.clearItemStates(t)})),this.getEdges().map((function(t){return n.clearItemStates(t)}));var r=this.get("canvas"),i=r.get("localRefresh");r.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var o=this.get("itemMap"),a={nodes:[],edges:[]},u=t.combos;if(u){var c=Et(u,t.nodes);this.set("comboTrees",c)}this.diffItems("node",a,t.nodes),Object(s.c)(o,(function(t,e){o[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete o[e],t.destroy()):a.nodes.indexOf(t)<0&&(delete o[e],n.remove(t,!1)))}));for(var h=this.getCombos(),l=h.length-1;l>=0;l--)h[l].destroyed&&h.splice(l,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",a,t.edges),Object(s.c)(o,(function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&a.edges.indexOf(t)<0&&(delete o[e],n.remove(t,!1))})),this.set({nodes:a.nodes,edges:a.edges});var f=this.get("layoutController");return f&&(f.changeData(),n.get("animate")&&!f.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){r.set("localRefresh",i)}),16),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var r,i="";if(t){if(Object(s.o)(t))i=t,r={id:t};else{if(!(i=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=t}var o=e.map((function(t){var e=n.findById(t),r="";e.getType&&(r=e.getType());var o={id:e.getID(),itemType:r};return"combo"===r?o.parentId=i:"node"===r&&(o.comboId=i),o}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(t){wt(t,(function(t){return t.id!==i||(t.itemType="combo",t.children=o,!1)}))})),a&&this.sortCombos()}},e.prototype.uncombo=function(t){var e=this,n=t;if(Object(s.o)(t)&&(n=this.findById(t)),!n||n.getType&&"combo"!==n.getType())console.warn("The item is not a combo!");else{var r=n.getModel().parentId,i=this.get("comboTrees");i||(i=[]);var o,a=this.get("itemMap"),u=n.get("id"),c=[],h=this.get("combos"),l=this.findById(r);if(i.forEach((function(i){o||wt(i,(function(i){if(i.id===u){o=i,n.getEdges().forEach((function(t){e.removeItem(t,!1)}));var s=h.indexOf(t);h.splice(s,1),delete a[u],n.destroy()}return!r||!o||i.id!==r||(l.removeCombo(n),-1!==(s=(c=i.children).indexOf(o))&&c.splice(s,1),o.children.forEach((function(t){var n=e.findById(t.id),i=n.getModel();n.getType&&"combo"===n.getType()?(t.parentId=r,delete t.comboId,i.parentId=r,delete i.comboId):n.getType&&"node"===n.getType()&&(t.comboId=r,i.comboId=r),l.addChild(n),c.push(t)})),!1)}))})),!r&&o){var f=i.indexOf(o);i.splice(f,1),o.children.forEach((function(t){t.parentId=void 0,e.findById(t.id).getModel().parentId=void 0,"node"!==t.itemType&&i.push(t)}))}}},e.prototype.updateCombos=function(){var t=this,e=this.get("comboTrees"),n=this.get("itemController"),r=this.get("itemMap");(e||[]).forEach((function(e){wt(e,(function(e){if(!e)return!0;var i=r[e.id];if(i&&i.getType&&"combo"===i.getType()){var o=Object(l.d)([],i.getStates());Object(s.c)(o,(function(e){return t.setItemState(i,e,!1)})),n.updateCombo(i,e.children),Object(s.c)(o,(function(e){return t.setItemState(i,e,!0)}))}return!0}))})),this.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,r=t;if(Object(s.o)(t)&&(r=this.findById(t)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{e=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(t){wt(t,(function(t){if(!t)return!0;var r=a[t.id];if(e===t.id&&r&&r.getType&&"combo"===r.getType()){var i=Object(l.d)([],r.getStates());Object(s.c)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!1)})),o.updateCombo(r,t.children),Object(s.c)(i,(function(t){r.getStateStyle(t)&&n.setItemState(r,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=Object(s.o)(t)?this.findById(t):t).getModel(),a=o.comboId||o.parentId,u="";if(r.getType&&(u=r.getType()),e&&"combo"===u){var c,h=this.get("comboTrees"),l=!0;if((h||[]).forEach((function(t){c||Mt(t,(function(t){if(!c)return t.id===r.getID()&&(c=t),!0}))})),Mt(c,(function(t){return t.id!==e||(l=!1,!1)})),!l)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===u?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:e}]):"node"===u&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var p=this.findById(o.parentId||o.comboId);p&&p.removeChild(r)}("combo"===u?o.parentId=e:"node"===u&&(o.comboId=e),e)&&((i=this.findById(e))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var g=Ct(this.get("comboTrees"),o.id,e);this.set("comboTrees",g),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return Object(s.c)(this.get("nodes"),(function(e){t.push(e.getModel())})),Object(s.c)(this.get("edges"),(function(t){e.push(t.getModel())})),Object(s.c)(this.get("combos"),(function(t){n.push(t.getModel())})),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),e=this.get("edges"),n=this.get("edges");Object(s.c)(t,(function(t){t.refresh()})),Object(s.c)(e,(function(t){t.refresh()})),Object(s.c)(n,(function(t){t.refresh()}))}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(s.o)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,r=t.getNodes(),i=r.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(e){Object(s.c)(i,(function(r){var i=t.findById(r.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model");if(!o){var s=i.getContainer().getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),o={x:s[6],y:s[7]},i.set("originAttrs",o)}if(n){var u=n(i,e,r,o);i.set("model",Object.assign(a,u))}else a.x=o.x+(r.x-o.x)*e,a.y=o.y+(r.y-o.y)*e}})),t.refreshPositions()}),{duration:e.duration,easing:e.easing,callback:function(){Object(s.c)(r,(function(t){t.set("originAttrs",null)})),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,e=this.get("nodes"),n=this.get("edges"),r=this.get("vedges"),i=this.get("combos"),o={};Object(s.c)(e,(function(e){t=e.getModel();var n=e.get("originAttrs");if(!n||t.x!==n.x||t.y!==n.y){var r=e.updatePosition({x:t.x,y:t.y});o[t.id]=r,t.comboId&&(o[t.comboId]=o[t.comboId]||r)}})),i&&0!==i.length&&this.updateCombos(),Object(s.c)(n,(function(t){var e=t.getSource().getModel(),n=t.getTarget().getModel();(o[e.id]||o[n.id]||t.getModel().isComboEdge)&&t.refresh()})),Object(s.c)(r,(function(t){t.refresh()})),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(t){return void 0===t&&(t=!1),this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(s.o)(t)&&(t={type:t});var n=this.get("layout"),r={};Object.assign(r,n,t),this.set("layout",r),e.isLayoutTypeSame(r)&&r.gpuEnabled===n.gpuEnabled?e.updateLayoutCfg(r):e.changeLayout(r)},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");e&&t&&(e.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var e=this;if(Object(s.o)(t)&&(t=this.findById(t)),t){this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").collapseCombo(t),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),u=!1,c={};(a||[]).forEach((function(t){c[t.id]=t})),(a||[]).forEach((function(t){u||Mt(t,(function(t){if(u&&c[t.id])return!1;if(n.parentId===t.id?(c={},t.children.forEach((function(t){c[t.id]=t}))):n.id===t.id&&(u=!0),u){var r=e.findById(t.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var h={},l=[];r.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var r=t.getSource(),a=t.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=e.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var u=s.id;if(h[n.id+"-"+u])return void(h[n.id+"-"+u]+=f.size||1);var c=e.addItem("vedge",{source:n.id,target:u,isVEdge:!0},!1);h[n.id+"-"+u]=f.size||1,l.push(c)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var f;if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var d=r.getModel();!r.isVisible();){if(!(r=e.findById(d.parentId||d.comboId))||!d.parentId&&!d.comboId)return;d=r.getModel()}var p=d.id;if(h[p+"-"+n.id])return void(h[p+"-"+n.id]+=f.size||1);c=e.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);h[p+"-"+n.id]=f.size||1,l.push(c)}}})),l.forEach((function(t){var n=t.getModel();e.updateItem(t,{size:h[n.source+"-"+n.target]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var e=this;if(Object(s.o)(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var n=t.getModel();this.get("itemController").expandCombo(t),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),u=!1,c={};(a||[]).forEach((function(t){c[t.id]=t})),(a||[]).forEach((function(t){u||Mt(t,(function(t){if(u&&c[t.id])return!1;if(n.parentId===t.id?(c={},t.children.forEach((function(t){c[t.id]=t}))):n.id===t.id&&(u=!0),u){var r=e.findById(t.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var h={},l={};r.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var r=t.getSource(),a=t.getTarget(),s=r.get("id"),u=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(var c=a.getModel();!a.isVisible();){if(!(a=e.findById(c.comboId||c.parentId))||!c.parentId&&!c.comboId)return;c=a.getModel()}u=c.id;for(var f=r.getModel();!r.isVisible();){if(!(r=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=r.getModel()}if(s=f.id,u){if(h[p=s+"-"+u])return h[p]+=t.getModel().size||1,void e.updateItem(l[p],{size:h[p]},!1);var d=e.addItem("vedge",{source:s,target:u,isVEdge:!0},!1);h[p]=t.getModel().size||1,l[p]=d}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||u===n.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(f=r.getModel();!r.isVisible();){if(!(r=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=r.getModel()}s=f.id;for(c=a.getModel();!a.isVisible();){if(!(a=e.findById(c.comboId||c.parentId))||!c.parentId&&!c.comboId)return;if(c.comboId===n.id||c.parentId===n.id)break;c=a.getModel()}if(u=c.id,s){var p;if(h[p=s+"-"+u])return h[p]+=t.getModel().size||1,void e.updateItem(l[p],{size:h[p]},!1);d=e.addItem("vedge",{target:u,source:s,isVEdge:!0},!1);h[p]=t.getModel().size||1,l[p]=d}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&t.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t){if(Object(s.o)(t)&&(t=this.findById(t)),!t.getType||"combo"===t.getType()){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var e=[],n={};(this.get("comboTrees")||[]).forEach((function(t){Mt(t,(function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],n[t.id]=t.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(t){var r=t.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);e[a]?e[a].push(r.id):e[a]=[r.id]})),e.forEach((function(e){if(e&&e.length)for(var n=e.length-1;n>=0;n--){var r=t.findById(e[n]);r&&r.toFront()}}))}},e.prototype.getNeighbors=function(t,e){var n=t;return Object(s.o)(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t;Object(s.o)(t)&&(r=this.findById(t));var i=this.get("degrees");i&&!n||(i=Object(p.getDegree)(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(e){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=e?Object(s.a)(e):{before:{},after:Object(s.a)(this.save())};"redo"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=Object(p.getAdjMatrix)(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=Object(p.getAdjMatrix)(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=Object(p.floydWarshall)(this.save(),e),this.set("shortestPathMatrix",r)),r},e.prototype.on=function(e,n,r){return t.prototype.on.call(this,e,n,r)},e.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var r=e.addGroup({id:t.id+"-container"}),i=new ge(this,Object(l.a)(Object(l.a)({},t),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e;e=Object(s.o)(t)?this.getHullById(t):t,delete this.get("hullMap")[e.id],e.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach((function(e){t[e].destroy()})),this.set("hullMap",{}))},e}(f.a);function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var be=d.a.transform,xe=["startArrow","endArrow"],Me={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},we={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:Me,combo:Me},Oe={options:{},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t){return Object(s.b)({labelCfg:{style:{fontFamily:"undefined"!=typeof window&&void 0!==window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:"undefined"!=typeof window&&void 0!==window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){var n=this.drawShape(t,e);(n.set("className",this.itemType+"-shape"),t.label)&&this.drawLabel(t,e).set("className",this.itemType+"-label");return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=this.getOptions(t).labelCfg||{},r=this.getLabelStyle(t,n,e),i=r.rotate;delete r.rotate;var o=e.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape"});if(i){var a=o.getBBox(),s=o.getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),r.rotateCenter)switch(r.rotateCenter){case"center":s=be(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=be(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=be(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);break;default:s=be(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]])}else s=be(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(t,e,o),c=this.itemType+"-label-bg";u.set("classname",c),o.toFront()}return o},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(s.r)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,t,i,e);return e.addShape("rect",{name:"text-bg-shape",attrs:o})},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e,n,r){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i=this.itemType+"Label",o=J[i]?J[i].style:null;return Object(l.a)(Object(l.a)(Object(l.a)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e){this.updateShapeStyle(t,e),this.updateLabel(t,e)},updateShapeStyle:function(t,e){var n=e.getContainer(),r=e.getKeyShape(),i=Object(s.r)({},r.attr(),t.style),o=function(t){var e,o=i[t];if(Object(s.n)(o)){var a=n.find((function(e){return e.get("name")===t}));a&&a.attr(o)}else r.attr(((e={})[t]=o,e))};for(var a in i)o(a)},updateLabel:function(t,e){var n=e.getContainer(),r=this.getOptions({}).labelCfg,i=this.itemType+"-label",o=n.find((function(t){return t.get("className")===i})),a=this.itemType+"-label-bg",u=n.find((function(t){return t.get("classname")===a}));if(t.label||""===t.label)if(o){var c={};e.getModel&&(c=e.getModel().labelCfg);var h=Object(s.b)({},r,c,t.labelCfg),f=this.getLabelStyleByPosition(t,h,n),d=t.labelCfg?t.labelCfg.style:void 0,p=h.style&&h.style.background,g=Object(l.a)(Object(l.a)(Object(l.a)({},o.attr()),f),d),v=g.rotate;if(delete g.rotate,v){var y=[1,0,0,0,1,0,0,0,1];y=be(y,[["t",-g.x,-g.y],["r",v],["t",g.x,g.y]]),o.resetMatrix(),o.attr(Object(l.a)(Object(l.a)({},g),{matrix:y}))}else o.resetMatrix(),o.attr(g);if(u)if(g.background){var m=this.getLabelBgStyleByPosition(o,t,h,n),b=Object(l.a)(Object(l.a)({},m),p);if(u.resetMatrix(),v){var x=[1,0,0,0,1,0,0,0,1];x=be(x,[["t",-b.x,-b.y],["r",v],["t",b.x,b.y]]),b.matrix=x}u.attr(b)}else n.removeChild(u);else g.background&&((u=this.drawLabelBg(t,n,o)).set("classname",a),o.toFront())}else{this.drawLabel(t,n).set("className",i)}},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o=n.get("keyShape");if(o){var a=n.getType(),u=Object(s.g)(e)?t:t+":"+e,c=this.getStateStyle(u,n),h=n.getStateStyle(u);if(h||c){var l=Object(s.r)({},h||c),f=n.getContainer(),d={x:1,y:1,cx:1,cy:1};if("combo"===a&&(d.r=1,d.width=1,d.height=1),e){var p=function(t){var e,n=l[t];if(Object(s.n)(n)&&!xe.includes(t)){var r=f.find((function(e){return e.get("name")===t}));r&&r.attr(n)}else o.attr(((e={})[t]=n,e))};for(var g in l)p(g)}else{var v=Tt(n.getCurrentStatesStyle()),y=n.getModel(),m=Object(s.r)({},y.style,Tt(n.getOriginStyle())),b=o.get("name"),x=o.attr(),M={};Object.keys(x).forEach((function(t){if("img"!==t){var e=x[t];e&&"object"===me(e)?M[t]=Object(s.a)(e):M[t]=e}}));var w={},O=function(t){var e=l[t];if(Object(s.n)(e)&&!xe.includes(t)){var n=f.find((function(e){return e.get("name")===t}));if(n){var r=Object(s.a)(n.attr());Object(s.c)(e,(function(e,i){if(t===b&&M[i]&&!d[i]){delete M[i];var s=m[t][i]||we[a][i];o.attr(i,s)}else if(r[i]||0===r[i]){delete r[i];var u=m[t][i]||we[a][i];n.attr(i,u)}})),w[t]=r}}else if(M[t]&&!d[t]){delete M[t];var i=m[t]||(m[b]?m[b][t]:void 0)||we[a][t];o.attr(t,i)}};for(var S in l)O(S);for(var g in b?w[b]=M:Object(s.r)(w,M),v)if(!d[g]){var E=v[g];Object(s.n)(E)&&!xe.includes(g)||(b?(Object(s.r)(m[b],((i={})[g]=E,i)),delete m[g]):Object(s.r)(m,((r={})[g]=E,r)),delete v[g])}var C={};Object(s.b)(C,m,w,v);var k=!1,P=function(t){var e,n,r=C[t];if(Object(s.n)(r)&&!xe.includes(t)){var i=f.find((function(e){return e.get("name")===t}));i&&(t===b&&("combo"===a&&(delete r.r,delete r.width,delete r.height),k=!0),i.attr(r))}else if(!k){var u=r||we[a][t];"combo"===a?b||o.attr(((e={})[t]=u,e)):o.attr(((n={})[t]=u,n))}};for(var T in C)P(T)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,u=void 0===a?{}:a,c=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===r?Object(s.a)(c):Object(s.r)({},u,c)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return this.getOptions(t).anchorPoints}},Se={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:J.nodeLabel.offset,getSize:function(t){var e=t.size||this.getOptions({}).size||J.defaultNode.size;return Object(s.f)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(s.f)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:t.label};var r=e.offset;Object(s.j)(r)&&(r=this.offset);var i,o=this.getSize(t),a=o[0],u=o[1];switch(n){case"top":i={x:0,y:0-u/2-r,textBaseline:"bottom"};break;case"bottom":i={x:0,y:u/2+r,textBaseline:"top"};break;case"left":i={x:0-a/2-r,y:0,textAlign:"right"};break;default:i={x:a/2+r,y:0,textAlign:"left"}}return i.text=t.label,i},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a,u=it(o.padding),c=i.width+u[1]+u[3],h=i.height+u[0]+u[2],f=n.offset;return Object(s.j)(f)&&(f=this.offset),a={x:i.minX-u[3],y:i.minY-u[0]},a=Object(l.a)(Object(l.a)(Object(l.a)({},a),o),{width:c,height:h})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"node-shape"})},updateLinkPoints:function(t,e){var n,r=this.getOptions(t).linkPoints,i=e.find((function(t){return"link-point-left"===t.get("className")})),o=e.find((function(t){return"link-point-right"===t.get("className")})),a=e.find((function(t){return"link-point-top"===t.get("className")})),u=e.find((function(t){return"link-point-bottom"===t.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),u&&!n&&(n=u.attr()),n||(n=r);var c=Object(s.r)({},n,t.linkPoints),h=c.fill,f=c.stroke,d=c.lineWidth,p=c.size/2;p||(p=c.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},v=g.left,y=g.right,m=g.top,b=g.bottom,x=this.getSize(t),M=x[0],w=x[1],O={r:p,fill:h,stroke:f,lineWidth:d};i?v||void 0===v?i.attr(Object(l.a)(Object(l.a)({},O),{x:-M/2,y:0})):i.remove():v&&e.addShape("circle",{attrs:Object(l.a)(Object(l.a)({},O),{x:-M/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(y||void 0===y||o.remove(),o.attr(Object(l.a)(Object(l.a)({},O),{x:M/2,y:0}))):y&&e.addShape("circle",{attrs:Object(l.a)(Object(l.a)({},O),{x:M/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a?(m||void 0===m||a.remove(),a.attr(Object(l.a)(Object(l.a)({},O),{x:0,y:-w/2}))):m&&e.addShape("circle",{attrs:Object(l.a)(Object(l.a)({},O),{x:0,y:-w/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),u?b||void 0===b?u.attr(Object(l.a)(Object(l.a)({},O),{x:0,y:w/2})):u.remove():b&&e.addShape("circle",{attrs:Object(l.a)(Object(l.a)({},O),{x:0,y:w/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(t,e,n,r){e.get("keyShape").attr(Object(l.a)({},n)),this.updateLabel(t,e),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,r=e.getContainer(),i=this.getOptions(t).icon,o=(t.icon?t.icon:{show:void 0}).show,a=r.find((function(t){return t.get("className")===n.type+"-icon"}));if(a)if(o||void 0===o){var u=Object(s.r)({},a.attr(),i),c=u.width,h=u.height;a.attr(Object(l.a)(Object(l.a)({},u),{x:-c/2,y:-h/2}))}else a.remove();else if(o){c=i.width,h=i.height;r.addShape("image",{attrs:Object(l.a)(Object(l.a)({},i),{x:-c/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var f=r.find((function(t){return"node-label"===t.get("className")}));f&&f.toFront()}}},Ee=Object(l.a)(Object(l.a)({},Oe),Se);Xt.registerNode("single-node",Ee);var Ce={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:J.defaultEdge.size,style:{x:0,y:0,stroke:J.defaultEdge.style.stroke,lineAppendWidth:J.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:J.edgeLabel.style.fill,fontSize:J.edgeLabel.style.fontSize}},stateStyles:Object(l.a)({},J.edgeStateStyles)},getPath:function(t){var e=[];return Object(s.c)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(s.r)({},e,n,t.style),i=t.size||J.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,u=this.getControlPoints(t),c=[o];u&&(c=c.concat(u)),c.push(a);var h=this.getPath(c);return Object(s.r)({},J.defaultEdge.style,{stroke:J.defaultEdge.color,lineWidth:i,path:h},r)},updateShapeStyle:function(t,e){var n=e.getContainer(),r={stroke:t.color},i=n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,u=t.endPoint,c=this.getControlPoints(t),h=[a];c&&(h=h.concat(c)),h.push(u);var l=i.attr(),f=Object(s.r)({},r,l,t.style),d=t.sourceNode,p=t.targetNode,g={radius:f.radius};c||(g={source:d,target:p,offset:f.offset,radius:f.radius}),l.endArrow&&!1===f.endArrow&&(t.style.endArrow={path:""}),l.startArrow&&f.startArrow;var v=this.getPath(h,g),y=Object(s.r)(r,i.attr(),{lineWidth:o,path:v},t.style);i&&i.attr(y)},getLabelStyleByPosition:function(t,e,n){var r,i=e.position||this.labelPosition,o={},a=n&&n.find((function(t){return"edge-shape"===t.get("className")}));r="start"===i?0:"end"===i?1:.5;var u,c=e.refX||this.refX,h=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+c,o.y=t.startPoint.y+h,o.text=t.label,o;u=Object(s.j)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var l=bt(a,r,c,h,u);return o.x=l.x,o.y=l.y,o.rotate=l.rotate,o.textAlign=this._getTextAlign(i,l.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e,n,r){if(!t)return{};var i=t.getBBox(),o=n.style&&n.style.background;if(!o)return{};var a,u=o.padding,c=i.width+u[1]+u[3],h=i.height+u[0]+u[2],f=n.position||this.labelPosition,d=Object(l.a)(Object(l.a)({},o),{width:c,height:h,x:i.minX-u[2],y:i.minY-u[0],rotate:0});a=Object(s.j)(n.autoRotate)?this.labelAutoRotate:n.autoRotate;var p,g=r&&r.find((function(t){return"edge-shape"===t.get("className")}));p="start"===f?0:"end"===f?1:.5;var v=n.refX||this.refX,y=n.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return d.x=e.startPoint.x+v-c/2,d.y=e.startPoint.y+y-h/2,d;var m=bt(g,p,v-c/2,y+h/2,a),b=m.angle;return b>.5*Math.PI&&b<1.5*Math.PI&&(m=bt(g,p,v+c/2,y+h/2,a)),a&&(d.x=m.x,d.y=m.y),d.rotate=m.rotate,d},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n})},drawLabel:function(t,e){var n,r=this.options.labelCfg;n="undefined"!=typeof window&&void 0!==window.getComputedStyle&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";var i=Object(s.b)({fontFamily:n},r,t.labelCfg),o=this.getLabelStyle(t,i,e),a=o.rotate;delete o.rotate;var u=e.addShape("text",{attrs:o,name:"text-shape"});if(a&&u.rotateAtStart(a),o.background){var c=this.drawLabelBg(t,e,u),h=this.itemType+"-label-bg";c.set("classname",h),u.toFront()}return u},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(s.b)({},r,t.labelCfg),o=this.getLabelStyle(t,i,e).rotate,a=this.getLabelBgStyleByPosition(n,t,i,e);delete a.rotate;var u=e.addShape("rect",{name:"text-bg-shape",attrs:a});return o&&u.rotateAtStart(o),u}},ke=Object(l.a)(Object(l.a)({},Oe),Ce);Xt.registerEdge("single-edge",ke),Xt.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Xt.registerEdge("spline",{getPath:function(t){return Qt(t)}},"single-edge"),Xt.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,r=t.startPoint,i=t.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=S(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=e.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=e.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)==(i.x-r.x)/(i.y-r.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),Object(s.f)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var u={x:i.x-r.x,y:i.y-r.y},c=Math.atan2(u.y,u.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+c)+o,y:t.curveOffset*Math.sin(-Math.PI/2+c)+a},e=S(r,n,i)}var h=E(r,e);return[{x:h,y:h}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),Xt.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,r=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(s.f)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),Object(s.f)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[Kt(n,r,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),Xt.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(s.k)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(s.k)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,r=t.endPoint;e=[Kt(n,r,t.curvePosition[0],t.curveOffset[0]),Kt(n,r,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),Xt.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(s.k)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(s.k)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(s.k)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.y-e.y,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),Xt.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(s.k)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(s.k)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(s.k)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.x-e.x,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x+r*this.curvePosition[0]+i[0],y:e.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),Xt.registerEdge("loop",{getPathPoints:function(t){return mt(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Pe={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:J.comboLabel.refX,refY:J.comboLabel.refY,options:{style:{stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize}},stateStyles:Object(l.a)({},J.comboStateStyles)},getSize:function(t){var e=Object(s.a)(t.size||this.options.size||J.defaultCombo.size);return Object(s.f)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(s.f)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(s.f)(i)&&(i=i[0]);var o=e.refX,a=e.refY;Object(s.j)(o)&&(o=this.refX),Object(s.j)(a)&&(a=this.refY);var u,c=this.getSize(t),h=(Math.max(r.r,c[0]/2)||c[0]/2)+i;switch(n){case"top":u={x:0,y:-h-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":u={x:0,y:h+a,textBaseline:"bottom",textAlign:"center"};break;case"left":u={x:-h+o,y:0,textAlign:"left"};break;case"center":u={x:0,y:0,text:t.label,textAlign:"center"};break;default:u={x:h+o,y:0,textAlign:"right"}}return u.text=t.label,u},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(Object(l.a)({},n)),this.updateLabel(t,e)}},Te=Object(l.a)(Object(l.a)({},Oe),Pe);Xt.registerCombo("single-combo",Te),Xt.registerCombo("circle",{options:{size:[J.defaultCombo.size[0],J.defaultCombo.size[0]],padding:J.defaultCombo.padding[0],animate:!0,style:{stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(l.a)({},J.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(s.f)(n)&&(n=n[0]);var r,i={stroke:t.color},o=Object(s.r)({},e,i,t.style);if(t.fixSize)r=Object(s.k)(t.fixSize)?t.fixSize:t.fixSize[0];else{var a=this.getSize(t);r=!Object(s.k)(o.r)||isNaN(o.r)?a[0]/2||J.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var u=Object(l.a)({x:0,y:0},o);return t.style?t.style.r=r:t.style={r:r},u},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(s.f)(r)&&(r=r[0]);var i,o=Object(s.a)(t.style);i=t.fixSize?Object(s.k)(t.fixSize)?t.fixSize:t.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=e.get("sizeCache");a&&(a.r=o.r);var u={stroke:t.color},c=e.get("keyShape"),h=Object(s.r)({},c.attr(),u,o);t.style?t.style.r=i:t.style={r:i},this.updateShape(t,e,h,!0)}},"single-combo"),Xt.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:J.defaultCombo.style.stroke,fill:J.defaultCombo.style.fill,lineWidth:J.defaultCombo.style.lineWidth},labelCfg:{style:{fill:J.comboLabel.style.fill,fontSize:J.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(l.a)({},J.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(s.k)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;Object(s.j)(o)&&(o=this.refX),Object(s.j)(a)&&(a=this.refY);var u,c=r.width/2+i[3],h=r.height/2+i[0];switch(n){case"top":u={x:0-c+o,y:0-h+a,textBaseline:"top",textAlign:"left"};break;case"bottom":u={x:0,y:h+a,textBaseline:"bottom",textAlign:"center"};break;case"left":u={x:0-c+a,y:0,textAlign:"left"};break;case"center":u={x:0,y:0,text:t.label,textAlign:"center"};break;default:u={x:c+o,y:0,textAlign:"right"}}return u.text=t.label,u},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(s.k)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:t.color},a=Object(s.r)({},e,o,t.style),u=this.getSize(t),c=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;c?Object(s.k)(c)?(r=c,i=c):(r=c[0],i=c[1]):(r=!Object(s.k)(a.width)||isNaN(a.width)?u[0]||J.defaultCombo.style.width:Math.max(a.width,u[0])||u[0],i=!Object(s.k)(a.height)||isNaN(a.height)?u[1]||J.defaultCombo.style.height:Math.max(a.height,u[1])||u[1]);var h=-r/2-n[3],f=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var d=Object(l.a)({x:h,y:f},a);return t.style?(t.style.width=r,t.style.height=i):t.style={width:r,height:i},d},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(s.k)(r)&&(r=[r,r,r,r]);var i,o,a=Object(s.a)(t.style),u=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;u?Object(s.k)(u)?(i=u,o=u):(i=u[0],o=u[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var c=e.get("sizeCache");c&&(c.width=a.width,c.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var h={stroke:t.color},l=e.get("keyShape"),f=Object(s.r)({},l.attr(),h,a);t.style?(t.style.width=i,t.style.height=o):t.style={width:i,height:o},this.updateShape(t,e,f,!1)},updateShape:function(t,e,n){var r=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr(Object(l.a)({},n)),this.updateLabel(t,e)}},"single-combo"),Xt.registerNode("simple-circle",{options:{size:J.defaultNode.size,style:{x:0,y:0,stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},stateStyles:Object(l.a)({},J.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("circle",{attrs:n,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(s.b)({},e,n),i=this.getSize(t)[0]/2;return Object(l.a)({x:0,y:0,r:i},r)},update:function(t,e){var n=this.getSize(t),r={stroke:t.color,r:n[0]/2},i=e.get("keyShape"),o=Object(s.b)({},i.attr(),r,t.style);this.updateShape(t,e,o,!0)}},"single-node"),Xt.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:J.defaultNode.style.stroke,fill:J.defaultNode.style.fill,lineWidth:J.defaultNode.style.lineWidth},labelCfg:{style:{fill:J.nodeLabel.style.fill,fontSize:J.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(l.a)({},J.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},r=Object(s.r)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(l.a)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){e.getContainer();var n=this.getOptions({}).style,r=this.getSize(t),i=e.get("keyShape");t.size||(r[0]=i.attr("width")||n.width,r[1]=i.attr("height")||n.height);var o={stroke:t.color,x:-r[0]/2,y:-r[1]/2,width:r[0],height:r[1]},a=Object(s.r)({},n,i.attr(),o);a=Object(s.r)(a,t.style),this.updateShape(t,e,a,!1)}},"single-node"),Xt.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n=this.getOptions(t).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;e.setClip({type:"circle",attrs:Object(l.a)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,c=n.height,h=i-u/2,f=o-c/2;e.setClip({type:"rect",attrs:Object(l.a)({x:h,y:f,width:u,height:c},a)})}else if("ellipse"===r){var d=n.rx,p=n.ry;e.setClip({type:"ellipse",attrs:Object(l.a)({x:i,y:o,rx:d,ry:p},a)})}else if("polygon"===r){var g=n.points;e.setClip({type:"polygon",attrs:Object(l.a)({points:g},a)})}else if("path"===r){var v=n.path;e.setClip({type:"path",attrs:Object(l.a)({path:v},a)})}}},getShapeStyle:function(t){var e=this.getOptions(t).style,n=this.getSize(t),r=this.getOptions(t).img,i=n[0],o=n[1];return e&&(i=e.width||n[0],o=e.height||n[1]),Object(l.a)({x:-i/2,y:-o/2,width:i,height:o,img:r},e)},updateShapeStyle:function(t,e){var n=e.getContainer(),r=this.itemType+"-shape",i=n.find((function(t){return t.get("className")===r}))||e.getKeyShape(),o=this.getShapeStyle(t);i&&i.attr(o)}},"single-node");var je,Ie={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 L "+(r+e)+",-"+t/2+" L "+(r+e)+","+t/2+" Z"},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 L "+(r+e)+",-"+t/2+"\n        L "+(r+2*e/3)+",0 L "+(r+e)+","+t/2+" Z"},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M "+2*e+", 0\n            a "+t+","+t+" 0 1,0 "+2*t+",0\n            a "+t+","+t+" 0 1,0 "+2*-t+",0"},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n;return"M "+r+","+-t/2+" \n        L "+(r+e)+","+-t/2+" \n        L "+(r+e)+","+t/2+" \n        L "+r+","+t/2+" Z"},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M "+r+",0 \n        L "+(r+e/2)+","+-t/2+" \n        L "+(r+e)+",0 \n        L "+(r+e/2)+","+t/2+" Z"},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+e+i;return"M "+a+",0 L "+(a+e)+",-"+t/2+" L "+(a+e)+","+t/2+" Z\n            M "+s+", -"+n/2+"\n            L "+(s+r)+" -"+n/2+"\n            L "+(s+r)+" "+n/2+"\n            L "+s+" "+n/2+"\n            Z"}},Ae={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},_e=Xt,Ne=d.a.transform,Le=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},i),o),a),r),{transform:Ne,mat3:d.b}),Be=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map((function(t){return(null==t?void 0:t.type)||""})):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t);return Array.isArray(this.layoutType)?this.layoutType.every((function(t,n){return t===e[n]})):(null==t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this.graph;t&&(t.get("animate")?t.positionsAnimate():t.refreshPositions())},t.prototype.changeLayout=function(t){this.layoutCfg=t,this.destoryLayoutMethods(),this.layout()},t.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods;null==t||t.forEach((function(t){t.destroy()}))},t.prototype.destroyLayout=function(){var t=this.graph;this.destoryLayoutMethods(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t=[],e=[],n=[],r=[],i=[],o=[],a=this.graph.getNodes(),s=this.graph.getEdges(),u=this.graph.getCombos(),c=a.length,h=0;h<c;h++){var l=a[h];if(l&&!l.destroyed){var f=l.getModel();l.isVisible()?t.push(f):e.push(f)}}var d=s.length;for(h=0;h<d;h++){var p=s[h];if(p&&!p.destroyed){f=p.getModel();p.isVisible()?f.isComboEdge?i.push(f):n.push(f):r.push(f)}}var g=u.length;for(h=0;h<g;h++){var v=u[h];if(!v.destroyed){f=v.getModel();v.isVisible()?o.push(f):r.push(f)}}return{nodes:t,hiddenNodes:e,edges:n,hiddenEdges:r,combos:o,hiddenCombos:[],comboEdges:i}},t.prototype.reLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=null==e?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},t.init(n.data),"force"===a&&(t.ticking=!1,t.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.relayout=function(t){var e=this,n=this.graph,r=this.layoutMethods,i=this.layoutCfg;if(t){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(i.center,o)}n.emit("beforelayout");var a=Promise.resolve();null==r||r.forEach((function(t,n){var r=i[n];a=a.then((function(){return e.reLayoutMethod(t,r)}))})),a.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(t){console.warn("relayout failed",t)}))},t.prototype.filterLayoutData=function(t,e){var n,r,i=t.nodes,o=t.edges,a=Object(l.c)(t,["nodes","edges"]);if(!i)return t;if(n=Object(s.i)(null==e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0},Object(s.i)(null==e?void 0:e.edgesFilter))r=e.edgesFilter;else{var u=i.reduce((function(t,e){return t[e.id]=!0,t}),{});r=function(t){return u[t.source]&&u[t.target]}}return Object(l.a)({nodes:i.filter(n),edges:o.filter(r)},a)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=Object(s.e)(e.getNodes(),(function(t){return t.getModel().layoutOrder})),r=Object.values(n).map((function(t){var e=ut(t);return e.size=[e.width,e.height],e}));return{groupNodes:Object.values(Object(s.e)(t,"layoutOrder")),layoutNodes:r}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!st(t[0].x)){for(var e=[0,0],n=t.length,r=0;r<n;r++){var i=t[r];e[0]+=i.x,e[1]+=i.y}e[0]/=t.length,e[1]/=t.length;for(r=0;r<n;r++){(i=t[r]).x-=e[0],i.y-=e[1]}}},t.prototype.initPositions=function(t,e){var n=this.graph;if(!e)return!1;var r=e?e.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var c=t[0]-i/2,h=t[1]-o/2,l=!0,f=0;f<r;f++){var d=e[f];st(d.x)&&(l=!1,d.x=f%a*s+c),st(d.y)&&(l=!1,d.y=Math.floor(f/a)*u+h)}return l}},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t}(),De=function(t){this.graph=t,this.destroyed=!1,this.initEvents()};!function(t){t.CLICK="click",t.DBLCLICK="dblclick",t.MOUSEDOWN="mousedown",t.MOUDEUP="mouseup",t.CONTEXTMENU="contextmenu",t.MOUSEENTER="mouseenter",t.MOUSEOUT="mouseout",t.MOUSEOVER="mouseover",t.MOUSEMOVE="mousemove",t.MOUSELEAVE="mouseleave",t.DRAGSTART="dragstart",t.DRAGEND="dragend",t.DRAG="drag",t.DRAGENTER="dragenter",t.DRAGLEAVE="dragleave",t.DRAGOVER="dragover",t.DRAGOUT="dragout",t.DDROP="drop",t.KEYUP="keyup",t.KEYDOWN="keydown",t.WHEEL="wheel",t.FOCUS="focus",t.BLUR="blur",t.TOUCHSTART="touchstart",t.TOUCHMOVE="touchmove",t.TOUCHEND="touchend",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_CLICK="node:click",t.NODE_DBLCLICK="node:dblclick",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEOUT="node:mouseout",t.NODE_MOUSEOVER="node:mouseover",t.NODE_DROP="node:drop",t.NODE_DRAGOVER="node:dragover",t.NODE_DRAGENTER="node:dragenter",t.NODE_DRAGLEAVE="node:dragleave",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DRAGEND="node:dragend",t.NODE_TAP="node:tap",t.NODE_PANSTART="node:panstart",t.NODE_PANMOVE="node:panmove",t.NODE_PANEND="node:panend",t.COMBO_CONTEXTMENU="combo:contextmenu",t.COMBO_CLICK="combo:click",t.COMBO_DBLCLICK="combo:dblclick",t.COMBO_MOUSEDOWN="combo:mousedown",t.COMBO_MOUSEUP="combo:mouseup",t.COMBO_MOUSEENTER="combo:mouseenter",t.COMBO_MOUSELEAVE="combo:mouseleave",t.COMBO_MOUSEMOVE="combo:mousemove",t.COMBO_MOUSEOUT="combo:mouseout",t.COMBO_MOUSEOVER="combo:mouseover",t.COMBO_DROP="combo:drop",t.COMBO_DRAGOVER="combo:dragover",t.COMBO_DRAGENTER="combo:dragenter",t.COMBO_DRAGLEAVE="combo:dragleave",t.COMBO_DRAGSTART="combo:dragstart",t.COMBO_DRAG="combo:drag",t.COMBO_DRAGEND="combo:dragend",t.COMBO_TAP="combo:tap",t.COMBO_PANSTART="combo:panstart",t.COMBO_PANMOVE="combo:panmove",t.COMBO_PANEND="combo:panend",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_CLICK="edge:click",t.EDGE_DBLCLICK="edge:dblclick",t.EDGE_MOUSEDOWN="edge:mousedown",t.EDGE_MOUSEUP="edge:mouseup",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_MOUSEMOVE="edge:mousemove",t.EDGE_MOUSEOUT="edge:mouseout",t.EDGE_MOUSEOVER="edge:mouseover",t.EDGE_DROP="edge:drop",t.EDGE_DRAGOVER="edge:dragover",t.EDGE_DRAGENTER="edge:dragenter",t.EDGE_DRAGLEAVE="edge:dragleave",t.CANVAS_CONTEXTMENU="canvas:contextmenu",t.CANVAS_CLICK="canvas:click",t.CANVAS_DBLCLICK="canvas:dblclick",t.CANVAS_MOUSEDOWN="canvas:mousedown",t.CANVAS_MOUSEUP="canvas:mouseup",t.CANVAS_MOUSEENTER="canvas:mouseenter",t.CANVAS_MOUSELEAVE="canvas:mouseleave",t.CANVAS_MOUSEMOVE="canvas:mousemove",t.CANVAS_MOUSEOUT="canvas:mouseout",t.CANVAS_MOUSEOVER="canvas:mouseover",t.CANVAS_DROP="canvas:drop",t.CANVAS_DRAGENTER="canvas:dragenter",t.CANVAS_DRAGLEAVE="canvas:dragleave",t.CANVAS_DRAGSTART="canvas:dragstart",t.CANVAS_DRAG="canvas:drag",t.CANVAS_DRAGEND="canvas:dragend",t.CANVAS_TAP="canvas:tap",t.CANVAS_PANSTART="canvas:panstart",t.CANVAS_PANMOVE="canvas:panmove",t.CANVAS_PANEND="canvas:panend",t.BEFORERENDER="beforerender",t.AFTERRENDER="afterrender",t.BEFOREADDITEM="beforeadditem",t.AFTERADDITEM="afteradditem",t.BEFOREREMOVEITEM="beforeremoveitem",t.AFTERREMOVEITEM="afterremoveitem",t.BEFOREUPDATEITEM="beforeupdateitem",t.AFTERUPDATEITEM="afterupdateitem",t.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",t.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",t.BEFOREITEMSTATECHANGE="beforeitemstatechange",t.AFTERITEMSTATECHANGE="afteritemstatechange",t.BEFOREITEMREFRESH="beforeitemrefresh",t.AFTERITEMREFRESH="afteritemrefresh",t.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",t.AFTERITEMSTATESCLEAR="afteritemstatesclear",t.BEFOREMODECHANGE="beforemodechange",t.AFTERMODECHANGE="aftermodechange",t.BEFORELAYOUT="beforelayout",t.AFTERLAYOUT="afterlayout",t.BEFORECREATEEDGE="beforecreateedge",t.AFTERCREATEEDGE="aftercreateedge",t.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",t.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",t.BEFOREGRAPHREFRESH="beforegraphrefresh",t.AFTERGRAPHREFRESH="aftergraphrefresh",t.BEFOREANIMATE="beforeanimate",t.AFTERANIMATE="afteranimate",t.BEFOREPAINT="beforepaint",t.AFTERPAINT="afterpaint",t.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",t.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",t.GRAPHSTATECHANGE="graphstatechange",t.AFTERACTIVATERELATIONS="afteractivaterelations",t.NODESELECTCHANGE="nodeselectchange",t.TOOLTIPCHANGE="tooltipchange",t.WHEELZOOM="wheelzoom",t.VIEWPORTCHANGE="viewportchange",t.DRAGNODEEND="dragnodeend",t.STACKCHANGE="stackchange",t.TAP="tap",t.PINCHSTART="pinchstart",t.PINCHMOVE="pinchmove",t.PANSTART="panstart",t.PANMOVE="panmove",t.PANEND="panend"}(je||(je={}));var Re=_e.registerNode,Xe=_e.registerEdge,Ye=_e.registerCombo,Fe=h.registerBehavior,ze=J;_e.registerNode,_e.registerEdge,_e.registerCombo,h.registerBehavior},function(t,e,n){"use strict";n.r(e),n.d(e,"contains",(function(){return i})),n.d(e,"includes",(function(){return i})),n.d(e,"difference",(function(){return a})),n.d(e,"find",(function(){return x})),n.d(e,"findIndex",(function(){return M})),n.d(e,"firstValue",(function(){return w})),n.d(e,"flatten",(function(){return O})),n.d(e,"flattenDeep",(function(){return S})),n.d(e,"getRange",(function(){return k})),n.d(e,"pull",(function(){return I})),n.d(e,"pullAt",(function(){return _})),n.d(e,"reduce",(function(){return N})),n.d(e,"remove",(function(){return L})),n.d(e,"sortBy",(function(){return D})),n.d(e,"union",(function(){return X})),n.d(e,"uniq",(function(){return R})),n.d(e,"valuesOfKey",(function(){return Y})),n.d(e,"head",(function(){return F})),n.d(e,"last",(function(){return z})),n.d(e,"startsWith",(function(){return U})),n.d(e,"endsWith",(function(){return q})),n.d(e,"filter",(function(){return o})),n.d(e,"every",(function(){return W})),n.d(e,"some",(function(){return G})),n.d(e,"group",(function(){return Q})),n.d(e,"groupBy",(function(){return V})),n.d(e,"groupToMap",(function(){return Z})),n.d(e,"getWrapBehavior",(function(){return K})),n.d(e,"wrapBehavior",(function(){return $})),n.d(e,"number2color",(function(){return tt})),n.d(e,"parseRadius",(function(){return et})),n.d(e,"clamp",(function(){return nt})),n.d(e,"fixedBase",(function(){return rt})),n.d(e,"isDecimal",(function(){return ot})),n.d(e,"isEven",(function(){return at})),n.d(e,"isInteger",(function(){return st})),n.d(e,"isNegative",(function(){return ut})),n.d(e,"isNumberEqual",(function(){return ct})),n.d(e,"isOdd",(function(){return ht})),n.d(e,"isPositive",(function(){return lt})),n.d(e,"max",(function(){return E})),n.d(e,"maxBy",(function(){return ft})),n.d(e,"min",(function(){return C})),n.d(e,"minBy",(function(){return dt})),n.d(e,"mod",(function(){return pt})),n.d(e,"toDegree",(function(){return vt})),n.d(e,"toInteger",(function(){return yt})),n.d(e,"toRadian",(function(){return bt})),n.d(e,"forIn",(function(){return xt})),n.d(e,"has",(function(){return Mt})),n.d(e,"hasKey",(function(){return wt})),n.d(e,"hasValue",(function(){return St})),n.d(e,"keys",(function(){return g})),n.d(e,"isMatch",(function(){return v})),n.d(e,"values",(function(){return Ot})),n.d(e,"lowerCase",(function(){return Ct})),n.d(e,"lowerFirst",(function(){return kt})),n.d(e,"substitute",(function(){return Pt})),n.d(e,"upperCase",(function(){return Tt})),n.d(e,"upperFirst",(function(){return jt})),n.d(e,"getType",(function(){return At})),n.d(e,"isArguments",(function(){return _t})),n.d(e,"isArray",(function(){return l})),n.d(e,"isArrayLike",(function(){return r})),n.d(e,"isBoolean",(function(){return Nt})),n.d(e,"isDate",(function(){return Lt})),n.d(e,"isError",(function(){return Bt})),n.d(e,"isFunction",(function(){return c})),n.d(e,"isFinite",(function(){return Dt})),n.d(e,"isNil",(function(){return h})),n.d(e,"isNull",(function(){return Rt})),n.d(e,"isNumber",(function(){return it})),n.d(e,"isObject",(function(){return d})),n.d(e,"isObjectLike",(function(){return m})),n.d(e,"isPlainObject",(function(){return b})),n.d(e,"isPrototype",(function(){return Yt})),n.d(e,"isRegExp",(function(){return Ft})),n.d(e,"isString",(function(){return B})),n.d(e,"isType",(function(){return u})),n.d(e,"isUndefined",(function(){return zt})),n.d(e,"isElement",(function(){return Ut})),n.d(e,"requestAnimationFrame",(function(){return qt})),n.d(e,"clearAnimationFrame",(function(){return Wt})),n.d(e,"augment",(function(){return Vt})),n.d(e,"clone",(function(){return Qt})),n.d(e,"debounce",(function(){return Kt})),n.d(e,"memoize",(function(){return $t})),n.d(e,"deepMix",(function(){return te})),n.d(e,"each",(function(){return p})),n.d(e,"extend",(function(){return ee})),n.d(e,"indexOf",(function(){return ne})),n.d(e,"isEmpty",(function(){return ie})),n.d(e,"isEqual",(function(){return oe})),n.d(e,"isEqualWith",(function(){return ae})),n.d(e,"map",(function(){return se})),n.d(e,"mapValues",(function(){return ce})),n.d(e,"mix",(function(){return Ht})),n.d(e,"assign",(function(){return Ht})),n.d(e,"get",(function(){return he})),n.d(e,"set",(function(){return le})),n.d(e,"pick",(function(){return de})),n.d(e,"omit",(function(){return pe})),n.d(e,"throttle",(function(){return ge})),n.d(e,"toArray",(function(){return ve})),n.d(e,"toString",(function(){return Et})),n.d(e,"uniqueId",(function(){return me})),n.d(e,"noop",(function(){return be})),n.d(e,"identity",(function(){return xe})),n.d(e,"size",(function(){return Me})),n.d(e,"Cache",(function(){return we}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},s={}.toString,u=function(t,e){return s.call(t)==="[object "+e+"]"},c=function(t){return u(t,"Function")},h=function(t){return null==t},l=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t){var e=f(t);return null!==t&&"object"===e||"function"===e};var p=function(t,e){if(t)if(l(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},g=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(r)})),e};var v=function(t,e){var n=g(e),r=n.length;if(h(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t){return"object"===y(t)&&null!==t},b=function(t){if(!m(t)||!u(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var x=function(t,e){if(!l(t))return null;var n;if(c(e)&&(n=e),b(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var M=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},w=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!h(i)){n=l(i)?i[0]:i;break}}return n},O=function(t){if(!l(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},S=function t(e,n){if(void 0===n&&(n=[]),l(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n},E=function(t){if(l(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},C=function(t){if(l(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},k=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(l(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=E(e);return{min:C(e),max:i}},P=Array.prototype,T=P.splice,j=P.indexOf,I=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=-1;(o=j.call(t,i))>-1;)T.call(t,o,1);return t},A=Array.prototype.splice,_=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,A.call(t,a,1))}return t},N=function(t,e,n){if(!l(t)&&!b(t))return t;var r=n;return p(t,(function(t,n){r=e(r,t,n)})),r},L=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return _(t,o),n},B=function(t){return u(t,"String")};var D=function(t,e){var n;if(c(e))n=function(t,n){return e(t)-e(n)};else{var r=[];B(e)?r.push(e):l(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var X=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},Y=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!h(o)){l(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function F(t){if(r(t))return t[0]}function z(t){if(r(t)){return t[t.length-1]}}var U=function(t,e){return!(!l(t)&&!B(t))&&t[0]===e};var q=function(t,e){return!(!l(t)&&!B(t))&&t[t.length-1]===e},W=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},G=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},H=Object.prototype.hasOwnProperty;var V=function(t,e){if(!e||!l(t))return{};for(var n,r={},i=c(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),H.call(r,n)?r[n].push(a):r[n]=[a]}return r};function Z(t,e){if(!e)return{0:t};if(!c(e)){var n=l(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return V(t,e)}var Q=function(t,e){if(!e)return[t];var n=Z(t,e),r=[];for(var i in n)r.push(n[i]);return r};var K=function(t,e){return t["_wrap_"+e]};var $=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},J={};var tt=function(t){var e=J[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,J[t]=e}return e};var et=function(t){var e=0,n=0,r=0,i=0;return l(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},nt=function(t,e,n){return t<e?e:t>n?n:t},rt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},it=function(t){return u(t,"Number")},ot=function(t){return it(t)&&t%1!=0},at=function(t){return it(t)&&t%2==0},st=Number.isInteger?Number.isInteger:function(t){return it(t)&&t%1==0},ut=function(t){return it(t)&&t<0};function ct(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var ht=function(t){return it(t)&&t%2!=0},lt=function(t){return it(t)&&t>0},ft=function(t,e){if(l(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])>n&&(i=t,n=r)})),i}},dt=function(t,e){if(l(t)){var n,r,i=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(r=c(e)?e(t):t[e])<n&&(i=t,n=r)})),i}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},yt=parseInt,mt=Math.PI/180,bt=function(t){return mt*t},xt=p,Mt=function(t,e){return t.hasOwnProperty(e)},wt=Mt,Ot=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return p(t,(function(n,r){c(t)&&"prototype"===r||e.push(n)})),e},St=function(t,e){return i(Ot(t),e)},Et=function(t){return h(t)?"":t.toString()},Ct=function(t){return Et(t).toLowerCase()},kt=function(t){var e=Et(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Pt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},Tt=function(t){return Et(t).toUpperCase()},jt=function(t){var e=Et(t);return e.charAt(0).toUpperCase()+e.substring(1)},It={}.toString,At=function(t){return It.call(t).replace(/^\[object /,"").replace(/]$/,"")},_t=function(t){return u(t,"Arguments")},Nt=function(t){return u(t,"Boolean")},Lt=function(t){return u(t,"Date")},Bt=function(t){return u(t,"Error")},Dt=function(t){return it(t)&&isFinite(t)},Rt=function(t){return null===t},Xt=Object.prototype,Yt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Xt)},Ft=function(t){return u(t,"RegExp")},zt=function(t){return void 0===t},Ut=function(t){return t instanceof Element||t instanceof HTMLDocument};function qt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Wt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Gt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Ht(t,e,n,r){return e&&Gt(t,e),n&&Gt(t,n),r&&Gt(t,r),t}var Vt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];c(i)&&(i=i.prototype),Ht(n.prototype,i)}};function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qt=function t(e){if("object"!==Zt(e)||null===e)return e;var n;if(l(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===Zt(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===Zt(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};var Kt=function(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},$t=function(t,e){if(!c(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function Jt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&b(o)?(b(t[i])||(t[i]={}),n<r?Jt(t[i],o,n+1,r):t[i]=e[i]):l(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var te=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Jt(t,e[r]);return t},ee=function(t,e,n,r){c(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Ht(o,t.prototype),t.superclass=i(e.prototype,e),Ht(o,n),Ht(t,r),t},ne=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},re=Object.prototype.hasOwnProperty;var ie=function(t){if(h(t))return!0;if(r(t))return!t.length;var e=At(t);if("Map"===e||"Set"===e)return!t.size;if(Yt(t))return!Object.keys(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},oe=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(B(e)||B(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(m(e)||m(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},ae=function(t,e,n){return c(n)?!!n(t,e):oe(t,e)},se=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},ue=function(t){return t},ce=function(t,e){void 0===e&&(e=ue);var n={};return d(t)&&!h(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},he=function(t,e,n){for(var r=0,i=B(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},le=function(t,e,n){var r=t,i=B(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(d(r[t])||(r[t]=it(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},fe=Object.prototype.hasOwnProperty,de=function(t,e){if(null===t||!b(t))return{};var n={};return p(e,(function(e){fe.call(t,e)&&(n[e]=t[e])})),n},pe=function(t,e){return N(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},ge=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var h=e-(c-s);return i=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,h)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},ve=function(t){return r(t)?Array.prototype.slice.call(t):[]},ye={},me=function(t){return ye[t=t||"g"]?ye[t]+=1:ye[t]=1,t+ye[t]},be=function(){},xe=function(t){return t};function Me(t){return h(t)?0:r(t)?t.length:Object.keys(t).length}var we=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o}));var r={};n.r(r),n.d(r,"create",(function(){return s})),n.d(r,"fromMat4",(function(){return u})),n.d(r,"clone",(function(){return c})),n.d(r,"copy",(function(){return h})),n.d(r,"fromValues",(function(){return l})),n.d(r,"set",(function(){return f})),n.d(r,"identity",(function(){return d})),n.d(r,"transpose",(function(){return p})),n.d(r,"invert",(function(){return g})),n.d(r,"adjoint",(function(){return v})),n.d(r,"determinant",(function(){return y})),n.d(r,"multiply",(function(){return m})),n.d(r,"translate",(function(){return b})),n.d(r,"rotate",(function(){return x})),n.d(r,"scale",(function(){return M})),n.d(r,"fromTranslation",(function(){return w})),n.d(r,"fromRotation",(function(){return O})),n.d(r,"fromScaling",(function(){return S})),n.d(r,"fromMat2d",(function(){return E})),n.d(r,"fromQuat",(function(){return C})),n.d(r,"normalFromMat4",(function(){return k})),n.d(r,"projection",(function(){return P})),n.d(r,"str",(function(){return T})),n.d(r,"frob",(function(){return j})),n.d(r,"add",(function(){return I})),n.d(r,"subtract",(function(){return A})),n.d(r,"multiplyScalar",(function(){return _})),n.d(r,"multiplyScalarAndAdd",(function(){return N})),n.d(r,"exactEquals",(function(){return L})),n.d(r,"equals",(function(){return B})),n.d(r,"mul",(function(){return D})),n.d(r,"sub",(function(){return R}));var i={};n.r(i),n.d(i,"create",(function(){return Y})),n.d(i,"clone",(function(){return F})),n.d(i,"length",(function(){return z})),n.d(i,"fromValues",(function(){return U})),n.d(i,"copy",(function(){return q})),n.d(i,"set",(function(){return W})),n.d(i,"add",(function(){return G})),n.d(i,"subtract",(function(){return H})),n.d(i,"multiply",(function(){return V})),n.d(i,"divide",(function(){return Z})),n.d(i,"ceil",(function(){return Q})),n.d(i,"floor",(function(){return K})),n.d(i,"min",(function(){return $})),n.d(i,"max",(function(){return J})),n.d(i,"round",(function(){return tt})),n.d(i,"scale",(function(){return et})),n.d(i,"scaleAndAdd",(function(){return nt})),n.d(i,"distance",(function(){return rt})),n.d(i,"squaredDistance",(function(){return it})),n.d(i,"squaredLength",(function(){return ot})),n.d(i,"negate",(function(){return at})),n.d(i,"inverse",(function(){return st})),n.d(i,"normalize",(function(){return ut})),n.d(i,"dot",(function(){return ct})),n.d(i,"cross",(function(){return ht})),n.d(i,"lerp",(function(){return lt})),n.d(i,"hermite",(function(){return ft})),n.d(i,"bezier",(function(){return dt})),n.d(i,"random",(function(){return pt})),n.d(i,"transformMat4",(function(){return gt})),n.d(i,"transformMat3",(function(){return vt})),n.d(i,"transformQuat",(function(){return yt})),n.d(i,"rotateX",(function(){return mt})),n.d(i,"rotateY",(function(){return bt})),n.d(i,"rotateZ",(function(){return xt})),n.d(i,"angle",(function(){return Mt})),n.d(i,"zero",(function(){return wt})),n.d(i,"str",(function(){return Ot})),n.d(i,"exactEquals",(function(){return St})),n.d(i,"equals",(function(){return Et})),n.d(i,"sub",(function(){return kt})),n.d(i,"mul",(function(){return Pt})),n.d(i,"div",(function(){return Tt})),n.d(i,"dist",(function(){return jt})),n.d(i,"sqrDist",(function(){return It})),n.d(i,"len",(function(){return At})),n.d(i,"sqrLen",(function(){return _t})),n.d(i,"forEach",(function(){return Nt}));var o={};n.r(o),n.d(o,"leftTranslate",(function(){return Lt})),n.d(o,"leftRotate",(function(){return Bt})),n.d(o,"leftScale",(function(){return Dt})),n.d(o,"transform",(function(){return Rt})),n.d(o,"direction",(function(){return Xt})),n.d(o,"angleTo",(function(){return Yt})),n.d(o,"vertical",(function(){return Ft}));var a=n(8);function s(){var t=new a.a(9);return a.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function c(t){var e=new a.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(t,e,n,r,i,o,s,u,c){var h=new a.a(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=i,h[5]=o,h[6]=s,h[7]=u,h[8]=c,h}function f(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function d(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function p(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function g(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function y(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function b(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t}function x(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t}function M(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function O(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function E(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function C(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t}function k(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,M=r*u-i*s,w=r*c-o*s,O=i*c-o*u,S=h*g-l*p,E=h*v-f*p,C=h*y-d*p,k=l*v-f*g,P=l*y-d*g,T=f*y-d*v,j=m*T-b*P+x*k+M*C-w*E+O*S;return j?(j=1/j,t[0]=(s*T-u*P+c*k)*j,t[1]=(u*C-a*T-c*E)*j,t[2]=(a*P-s*C+c*S)*j,t[3]=(i*P-r*T-o*k)*j,t[4]=(n*T-i*C+o*E)*j,t[5]=(r*C-n*P-o*S)*j,t[6]=(g*O-v*w+y*M)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*w-g*x+y*m)*j,t):null}function P(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function T(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function A(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function N(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function L(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function B(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(n-f)<=a.b*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=a.b*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=a.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=a.b*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=a.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=a.b*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=a.b*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=a.b*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(l-x)<=a.b*Math.max(1,Math.abs(l),Math.abs(x))}var D=m,R=A,X=n(54);function Y(){var t=new a.a(3);return a.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function F(t){var e=new a.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function z(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function U(t,e,n){var r=new a.a(3);return r[0]=t,r[1]=e,r[2]=n,r}function q(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function W(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function G(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function H(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function V(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Z(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Q(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function K(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function $(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function J(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function tt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function rt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function it(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function ot(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function at(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function st(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ut(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function ct(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ht(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function lt(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function ft(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*h,t}function dt(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*h+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+i[2]*f,t}function pt(t,e){e=e||1;var n=2*a.c()*Math.PI,r=2*a.c()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function gt(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function vt(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function yt(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,p=o*h-r*f,g=r*l-i*h,v=2*a;return h*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+h+d,t[1]=u+l+p,t[2]=c+f+g,t}function mt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function bt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Mt(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&ct(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function wt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Ot(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function St(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Et(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(n-o)<=a.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=a.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=a.b*Math.max(1,Math.abs(i),Math.abs(u))}var Ct,kt=H,Pt=V,Tt=Z,jt=rt,It=it,At=z,_t=ot,Nt=(Ct=Y(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Ct[0]=t[a],Ct[1]=t[a+1],Ct[2]=t[a+2],i(Ct,Ct,o),t[a]=Ct[0],t[a+1]=Ct[1],t[a+2]=Ct[2];return t});function Lt(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromTranslation(i,n),r.multiply(t,i,e)}function Bt(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromRotation(i,n),r.multiply(t,i,e)}function Dt(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromScaling(i,n),r.multiply(t,i,e)}function Rt(t,e){for(var n,i,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,u=e.length;s<u;s++){var c=e[s];switch(c[0]){case"t":Lt(a,a,[c[1],c[2]]);break;case"s":Dt(a,a,[c[1],c[2]]);break;case"r":Bt(a,a,c[1]);break;case"m":n=a,i=a,o=c[1],r.multiply(n,o,i)}}return a}function Xt(t,e){return t[0]*e[1]-e[0]*t[1]}function Yt(t,e,n){var r=X.angle(t,e),i=Xt(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function Ft(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}Object.create},function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(0);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,"e",(function(){return r.j})),n.d(e,"d",(function(){return r.i})),n.d(e,"h",(function(){return r.o})),n.d(e,"f",(function(){return r.m})),n.d(e,"i",(function(){return r.r})),n.d(e,"a",(function(){return r.c})),n.d(e,"k",(function(){return r.w}));var o="undefined"!=typeof window&&void 0!==window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function s(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o}));var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return D}));var r={};n.r(r),n.d(r,"create",(function(){return o})),n.d(r,"fromMat4",(function(){return a})),n.d(r,"clone",(function(){return s})),n.d(r,"copy",(function(){return u})),n.d(r,"fromValues",(function(){return c})),n.d(r,"set",(function(){return h})),n.d(r,"identity",(function(){return l})),n.d(r,"transpose",(function(){return f})),n.d(r,"invert",(function(){return d})),n.d(r,"adjoint",(function(){return p})),n.d(r,"determinant",(function(){return g})),n.d(r,"multiply",(function(){return v})),n.d(r,"translate",(function(){return y})),n.d(r,"rotate",(function(){return m})),n.d(r,"scale",(function(){return b})),n.d(r,"fromTranslation",(function(){return x})),n.d(r,"fromRotation",(function(){return M})),n.d(r,"fromScaling",(function(){return w})),n.d(r,"fromMat2d",(function(){return O})),n.d(r,"fromQuat",(function(){return S})),n.d(r,"normalFromMat4",(function(){return E})),n.d(r,"projection",(function(){return C})),n.d(r,"str",(function(){return k})),n.d(r,"frob",(function(){return P})),n.d(r,"add",(function(){return T})),n.d(r,"subtract",(function(){return j})),n.d(r,"multiplyScalar",(function(){return I})),n.d(r,"multiplyScalarAndAdd",(function(){return A})),n.d(r,"exactEquals",(function(){return _})),n.d(r,"equals",(function(){return N})),n.d(r,"mul",(function(){return L})),n.d(r,"sub",(function(){return B}));var i=n(12);function o(){var t=new i.a(9);return i.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t){var e=new i.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function c(t,e,n,r,o,a,s,u,c){var h=new i.a(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h}function h(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function g(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t}function b(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t}function E(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,M=r*u-i*s,w=r*c-o*s,O=i*c-o*u,S=h*g-l*p,E=h*v-f*p,C=h*y-d*p,k=l*v-f*g,P=l*y-d*g,T=f*y-d*v,j=m*T-b*P+x*k+M*C-w*E+O*S;return j?(j=1/j,t[0]=(s*T-u*P+c*k)*j,t[1]=(u*C-a*T-c*E)*j,t[2]=(a*P-s*C+c*S)*j,t[3]=(i*P-r*T-o*k)*j,t[4]=(n*T-i*C+o*E)*j,t[5]=(r*C-n*P-o*S)*j,t[6]=(g*O-v*w+y*M)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*w-g*x+y*m)*j,t):null}function C(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function k(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function P(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function T(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function j(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function I(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function _(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(n-f)<=i.b*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=i.b*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=i.b*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=i.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=i.b*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=i.b*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=i.b*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=i.b*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(l-x)<=i.b*Math.max(1,Math.abs(l),Math.abs(x))}var L=v,B=j,D=n(55)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var r=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(t){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return"base"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();e.Base=r},,function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return o}));var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(14),e),i(n(15),e),i(n(16),e),i(n(17),e),i(n(18),e),i(n(19),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0;e.isString=function(t){return"string"==typeof t};var r,i,o=/-(\w)/g;e.camelize=(r=function(t){return t.replace(o,(function(t,e){return e?e.toUpperCase():""}))},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;e.isNumber=function(t){return"number"==typeof t};e.isNaN=function(t){return Number.isNaN(Number(t))};e.toNumber=function(t){var n=parseFloat(t);return e.isNaN(n)?t:n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegree=void 0;e.getDegree=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n?(n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r):r};e.floydWarshall=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e};e.getAdjMatrix=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e;i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)})),i};e.scaleMatrix=function(t,e){var n=[];return t.forEach((function(t){var r=[];t.forEach((function(t){r.push(t*e)})),n.push(r)})),n};e.traverseTreeUp=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!!n(e)}(t,e)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;e.isObject=function(t){return null!==t&&"object"===r(t)};e.clone=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var n=[];return t.forEach((function(t){n.push(t)})),n.map((function(t){return e.clone(t)}))}if("object"===r(t)&&t!=={}){var o=i({},t);return Object.keys(o).forEach((function(t){o[t]=e.clone(o[t])})),o}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0;e.isFunction=function(t){return"function"==typeof t}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROPS_CLIENT_XY=e.PROPS_XY=e.DIRECTION_ALL=e.DIRECTION_VERTICAL=e.DIRECTION_HORIZONTAL=e.DIRECTION_DOWN=e.DIRECTION_UP=e.DIRECTION_RIGHT=e.DIRECTION_LEFT=e.DIRECTION_NONE=e.INPUT_CANCEL=e.INPUT_END=e.INPUT_MOVE=e.INPUT_START=e.COMPUTE_INTERVAL=e.INPUT_TYPE_TOUCH=e.INPUT_TYPE_PEN=e.INPUT_TYPE_MOUSE=e.INPUT_TYPE_KINECT=void 0;e.INPUT_TYPE_TOUCH="touch";e.INPUT_TYPE_PEN="pen";e.INPUT_TYPE_MOUSE="mouse";e.INPUT_TYPE_KINECT="kinect";e.COMPUTE_INTERVAL=25;e.INPUT_START=1;e.INPUT_MOVE=2;e.INPUT_END=4;e.INPUT_CANCEL=8;e.DIRECTION_NONE=1;e.DIRECTION_LEFT=2;e.DIRECTION_RIGHT=4;e.DIRECTION_UP=8;e.DIRECTION_DOWN=16;e.DIRECTION_HORIZONTAL=6;e.DIRECTION_VERTICAL=24;e.DIRECTION_ALL=30;e.PROPS_XY=["x","y"];e.PROPS_CLIENT_XY=["clientX","clientY"]},function(t,e,n){"use strict";var r=n(95),i=Object(r.getColorsWithSubjectColor)("rgb(95, 149, 255)","rgb(255, 255, 255)");e.a={version:"4.0.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:i.mainStroke,fill:i.mainFill},size:20,color:i.mainStroke,linkPoints:{size:8,lineWidth:1,fill:i.activeFill,stroke:i.activeStroke}},nodeStateStyles:{active:{fill:i.activeFill,stroke:i.activeStroke,lineWidth:2,shadowColor:i.mainStroke,shadowBlur:10},selected:{fill:i.selectedFill,stroke:i.selectedStroke,lineWidth:4,shadowColor:i.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:i.highlightFill,stroke:i.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:i.inactiveFill,stroke:i.inactiveStroke,lineWidth:1},disable:{fill:i.disableFill,stroke:i.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:i.edgeMainStroke,lineAppendWidth:2},color:i.edgeMainStroke},edgeStateStyles:{active:{stroke:i.edgeActiveStroke,lineWidth:1},selected:{stroke:i.edgeSelectedStroke,lineWidth:2,shadowColor:i.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:i.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:i.edgeInactiveStroke,lineWidth:1},disable:{stroke:i.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:i.comboMainFill,lineWidth:1,stroke:i.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:i.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:i.comboActiveStroke,lineWidth:1,fill:i.comboActiveFill},selected:{stroke:i.comboSelectedStroke,lineWidth:2,fill:i.comboSelectedFill,shadowColor:i.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:i.comboHighlightStroke,lineWidth:2,fill:i.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:i.comboInactiveStroke,fill:i.comboInactiveFill,lineWidth:1},disable:{stroke:i.comboDisableStroke,fill:i.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"}},,function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-h*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(h*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STATE_FAILED=e.STATE_CANCELLED=e.STATE_RECOGNIZED=e.STATE_ENDED=e.STATE_CHANGED=e.STATE_BEGAN=e.STATE_POSSIBLE=void 0;e.STATE_POSSIBLE=1;e.STATE_BEGAN=2;e.STATE_CHANGED=4;e.STATE_ENDED=8;e.STATE_RECOGNIZED=8;e.STATE_CANCELLED=16;e.STATE_FAILED=32},,function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return s}));var r=n(0),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if(Object(r.f)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),"m"===u&&s.length>2&&(n.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&n.push([i,s[0]]),"r"===u)n.push([i].concat(s));else for(;s.length>=e[u]&&(n.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),n};var u=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.c)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function c(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var h=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],h=0;h<=i;h++)s[h]=[],s[h][0]={min:h};for(var l=0;l<=o;l++)s[0][l]={min:l};for(h=1;h<=i;h++){n=t[h-1];for(l=1;l<=o;l++){r=e[l-1],a=u(n,r)?0:1;var f=s[h-1][l].min+1,d=s[h][l-1].min+1,p=s[h-1][l-1].min+a;s[h][l]=c(f,d,p)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var h=1;h<=r;h++){var l=n[h][h].min;s=h;for(var f=a;f<=i;f++)n[h][f].min<l&&(l=n[h][f].min,s=f);a=s,n[h][a].type&&o.push({index:h-1,type:n[h][a].type})}for(h=o.length-1;h>=0;h--)a=o[h].index,"add"===o[h].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=i-(r=t.length);if(r<i)for(h=0;h<d;h++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function l(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=f(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function f(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var d=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=f(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=l(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=l(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=l(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.abs=e.round=e.TYPE_FUNCTION=void 0;e.TYPE_FUNCTION="function";var r=Math.round,i=Math.abs;e.abs=i,e.round=r;var o=Date.now;e.now=o},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=_(n(126)),i=_(n(66)),o=n(21),a=n(29),s=_(n(137)),u=_(n(100)),c=_(n(138)),h=_(n(144)),l=_(n(272)),f=_(n(58)),d=_(n(57)),p=_(n(133)),g=_(n(97)),v=_(n(131)),y=_(n(130)),m=_(n(128)),b=_(n(136)),x=_(n(145)),M=_(n(273)),w=_(n(48)),O=_(n(274)),S=_(n(149)),E=_(n(275)),C=_(n(135)),k=_(n(146)),P=_(n(147)),T=_(n(68)),j=_(n(59)),I=_(n(67)),A=_(n(99));function _(t){return t&&t.__esModule?t:{default:t}}var N=(0,i.default)(r.default,{INPUT_START:o.INPUT_START,INPUT_MOVE:o.INPUT_MOVE,INPUT_END:o.INPUT_END,INPUT_CANCEL:o.INPUT_CANCEL,STATE_POSSIBLE:a.STATE_POSSIBLE,STATE_BEGAN:a.STATE_BEGAN,STATE_CHANGED:a.STATE_CHANGED,STATE_ENDED:a.STATE_ENDED,STATE_RECOGNIZED:a.STATE_RECOGNIZED,STATE_CANCELLED:a.STATE_CANCELLED,STATE_FAILED:a.STATE_FAILED,DIRECTION_NONE:o.DIRECTION_NONE,DIRECTION_LEFT:o.DIRECTION_LEFT,DIRECTION_RIGHT:o.DIRECTION_RIGHT,DIRECTION_UP:o.DIRECTION_UP,DIRECTION_DOWN:o.DIRECTION_DOWN,DIRECTION_HORIZONTAL:o.DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:o.DIRECTION_VERTICAL,DIRECTION_ALL:o.DIRECTION_ALL,Manager:s.default,Input:u.default,TouchAction:c.default,TouchInput:h.default,PointerEventInput:l.default,Recognizer:f.default,AttrRecognizer:d.default,Tap:p.default,Pan:g.default,Swipe:v.default,Pinch:y.default,Rotate:m.default,Press:b.default,on:x.default,off:M.default,each:w.default,merge:O.default,extend:S.default,assign:i.default,inherit:E.default,bindFn:C.default,toArray:k.default,inArray:j.default,uniqueArray:P.default,splitStr:T.default,boolOrFn:I.default,hasParent:A.default,addEventListeners:x.default,removeEventListeners:M.default});e.default=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TOUCH_ACTION_MAP=e.TOUCH_ACTION_PAN_Y=e.TOUCH_ACTION_PAN_X=e.TOUCH_ACTION_NONE=e.TOUCH_ACTION_MANIPULATION=e.TOUCH_ACTION_COMPUTE=e.TOUCH_ACTION_AUTO=void 0;n(32);var r,i=(r=n(259))&&r.__esModule?r:{default:r};e.TOUCH_ACTION_COMPUTE="compute";e.TOUCH_ACTION_AUTO="auto";e.TOUCH_ACTION_MANIPULATION="manipulation";e.TOUCH_ACTION_NONE="none";e.TOUCH_ACTION_PAN_X="pan-x";e.TOUCH_ACTION_PAN_Y="pan-y";var o=(0,i.default)();e.TOUCH_ACTION_MAP=o},,function(t,e,n){"use strict";var r=n(151);n.d(e,"a",(function(){return r.Layout}));var i=n(65);n.d(e,"b",(function(){return i.registerLayout}));var o=n(214);Object(i.registerLayout)("random",o.RandomLayout)},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"proccessToFunc",(function(){return c})),n.d(r,"buildTextureData",(function(){return h})),n.d(r,"buildTextureDataWithOneEdgeAttr",(function(){return l})),n.d(r,"buildTextureDataWithTwoEdgeAttr",(function(){return f})),n.d(r,"attributesToTextureData",(function(){return d})),n.d(r,"arrayToTextureData",(function(){return p})),n.d(r,"radialLayout",(function(){return g}));var i=n(6),o=n(95),a=n(3),s=n(2),u=a.n.traverseTree,c=function(t,e){return t?Object(s.h)(t)?function(e){return t}:t:function(t){return e||1}},h=function(t,e){var n=[],r=[],i={},o=0;for(o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<t.length;o++){var c=n.length,h=r[o],l=h.length;n[4*o+2]=c,n[4*o+3]=h.length,u=Math.max(u,h.length);for(var f=0;f<l;++f){var d=h[f];n.push(+d)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},l=function(t,e,n){var r=[],i=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<e.length;a++){var u=e[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var c=0;for(a=0;a<t.length;a++){var h=r.length,l=i[a],f=l.length;r[4*a+2]=h,r[4*a+3]=f/2,c=Math.max(c,f/2);for(var d=0;d<f;++d){var p=l[d];r.push(+p)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},f=function(t,e,n,r){var i=[],o=[],a={},s=0;for(s=0;s<t.length;s++){var u=t[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<e.length;s++){var c=e[s];o[a[c.source]].push(a[c.target]),o[a[c.source]].push(n(c)),o[a[c.source]].push(r(c)),o[a[c.source]].push(0),o[a[c.target]].push(a[c.source]),o[a[c.target]].push(n(c)),o[a[c.target]].push(r(c)),o[a[c.target]].push(0)}var h=0;for(s=0;s<t.length;s++){var l=i.length,f=o[s],d=f.length;i[4*s+2]=l+1048576*d/4,i[4*s+3]=0,h=Math.max(h,d/4);for(var p=0;p<d;++p){var g=f[p];i.push(+g)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:h}},d=function(t,e){var n=[],r=t.length,i={};return e.forEach((function(e){t.forEach((function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},p=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach((function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(e)},g=function(t,e){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",i="y");var a=0;u(t,(function(t){return a++,t.x>r.x&&(r.x=t.x),t.x<n.x&&(n.x=t.x),t.y>r.y&&(r.y=t.y),t.y<n.y&&(n.y=t.y),!0}));var s=2*Math.PI/a,c=r[o]-n[o];return 0===c||u(t,(function(e){var r=(e[o]-n[o])/c*(2*Math.PI-s)+s,a=Math.abs("x"===i?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(r),e.y=a*Math.sin(r),!0})),t},v=Object(i.a)(Object(i.a)(Object(i.a)({},a.n),o),r);e.a=v},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(7),i=n(90);function o(t,e,n){var i=1;return Object(r.h)(t)&&(i=t.split("\n").length),i>1?e*i+function(t,e){return e?e-t:.14*t}(e,n)*(i-1):e}function a(t,e){var n=Object(i.a)(),o=0;if(Object(r.e)(t)||""===t)return o;if(n.save(),n.font=e,Object(r.h)(t)&&t.includes("\n")){var a=t.split("\n");Object(r.a)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o}function s(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return m}));var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;var a=function(t){var e=t||[];return Object(r.f)(e)?e:Object(r.o)(e)?(e=e.match(i),Object(r.c)(e,(function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}Object(r.c)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};function s(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var u="\t\n\v\f\r   ᠎             　\u2028\u2029",c=new RegExp("([a-z])["+u+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+u+"]*,?["+u+"]*)+)","ig"),h=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+u+"]*,?["+u+"]*","ig");function l(t){if(!t)return null;if(Object(r.f)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(c,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(h,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}function f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(t,e){return f(t)*f(e)?(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e)):1}function p(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(d(t,e))}function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function v(t,e){var n=e[1],i=e[2],o=Object(r.s)(Object(r.u)(e[3]),2*Math.PI),a=e[4],s=e[5],u=t[0],c=t[1],h=e[6],l=e[7],f=Math.cos(o)*(u-h)/2+Math.sin(o)*(c-l)/2,v=-1*Math.sin(o)*(u-h)/2+Math.cos(o)*(c-l)/2,y=f*f/(n*n)+v*v/(i*i);y>1&&(n*=Math.sqrt(y),i*=Math.sqrt(y));var m=n*n*(v*v)+i*i*(f*f),b=m?Math.sqrt((n*n*(i*i)-m)/m):1;a===s&&(b*=-1),isNaN(b)&&(b=0);var x=i?b*n*v/i:0,M=n?b*-i*f/n:0,w=(u+h)/2+Math.cos(o)*x-Math.sin(o)*M,O=(c+l)/2+Math.sin(o)*x+Math.cos(o)*M,S=[(f-x)/n,(v-M)/i],E=[(-1*f-x)/n,(-1*v-M)/i],C=p([1,0],S),k=p(S,E);return d(S,E)<=-1&&(k=Math.PI),d(S,E)>=1&&(k=0),0===s&&k>0&&(k-=2*Math.PI),1===s&&k<0&&(k+=2*Math.PI),{cx:w,cy:O,rx:g(t,[h,l])?0:n,ry:g(t,[h,l])?0:i,startAngle:C,endAngle:C+k,xRotation:o,arcFlag:a,sweepFlag:s}}function y(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function m(t){for(var e=[],n=null,r=null,i=null,o=0,s=(t=a(t)).length,u=0;u<s;u++){var c=t[u];r=t[u+1];var h=c[0],l={command:h,prePoint:n,params:c,startTangent:null,endTangent:null};switch(h){case"M":i=[c[1],c[2]],o=u;break;case"A":var f=v(n,c);l.arcParams=f}if("Z"===h)n=i,r=t[o+1];else{var d=c.length;n=[c[d-2],c[d-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),l.currentPoint=n,e[o]&&g(n,e[o].currentPoint)&&(e[o].prePoint=l.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=p;var m=l.prePoint;if(["L","H","V"].includes(h))l.startTangent=[m[0]-n[0],m[1]-n[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]];else if("Q"===h){var b=[c[1],c[2]];l.startTangent=[m[0]-b[0],m[1]-b[1]],l.endTangent=[n[0]-b[0],n[1]-b[1]]}else if("T"===h){b=y((w=e[u-1]).currentPoint,m);"Q"===w.command?(l.command="Q",l.startTangent=[m[0]-b[0],m[1]-b[1]],l.endTangent=[n[0]-b[0],n[1]-b[1]]):(l.command="TL",l.startTangent=[m[0]-n[0],m[1]-n[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("C"===h){var x=[c[1],c[2]],M=[c[3],c[4]];l.startTangent=[m[0]-x[0],m[1]-x[1]],l.endTangent=[n[0]-M[0],n[1]-M[1]]}else if("S"===h){var w;x=y((w=e[u-1]).currentPoint,m),M=[c[1],c[2]];"C"===w.command?(l.command="C",l.startTangent=[m[0]-x[0],m[1]-x[1]],l.endTangent=[n[0]-M[0],n[1]-M[1]]):(l.command="SQ",l.startTangent=[m[0]-M[0],m[1]-M[1]],l.endTangent=[n[0]-M[0],n[1]-M[1]])}else if("A"===h){var O=.001,S=l.arcParams||{},E=S.cx,C=void 0===E?0:E,k=S.cy,P=void 0===k?0:k,T=S.rx,j=void 0===T?0:T,I=S.ry,A=void 0===I?0:I,_=S.sweepFlag,N=void 0===_?0:_,L=S.startAngle,B=void 0===L?0:L,D=S.endAngle,R=void 0===D?0:D;0===N&&(O*=-1);var X=j*Math.cos(B-O)+C,Y=A*Math.sin(B-O)+P;l.startTangent=[X-i[0],Y-i[1]];var F=j*Math.cos(B+R+O)+C,z=A*Math.sin(B+R-O)+P;l.endTangent=[m[0]-F,m[1]-z]}e.push(l)}return e}},function(t,e,n){(function(t){var n,r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){return function(){"use strict";var t={458:function(t){t.exports=function(t,e,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([t])}catch(e){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(t),o=o.getBlob()}var a=i.URL||i.webkitURL,s=a.createObjectURL(o),u=new i[e](s,n);return a.revokeObjectURL(s),u}catch(r){return new i[e]("data:application/javascript,".concat(encodeURIComponent(t)),n)}}catch(t){if(!r)throw Error("Inline worker is not supported");return new i[e](r,n)}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./dist";var r={};return function(){n.d(r,{default:function(){return Z}});var t=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e,i.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))})),i},e=function(t,e){return t===e},i=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):""+this.value},t}(),o=function(){function t(t){void 0===t&&(t=e),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new i(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new i(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}(),s=function(){function t(){this.linkedList=new o}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),u=function(t,e,n){void 0===e&&(e=[]);var r=e.filter((function(e){return e.source===t||e.target===t}));return"target"===n?r.filter((function(e){return e.source===t})).map((function(t){return t.target})):"source"===n?r.filter((function(e){return e.target===t})).map((function(t){return t.source})):r.map((function(e){return e.source===t?e.target:e.source}))},c=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))},h=function(t){return void 0===t&&(t=0),t+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)},l=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e},f=l;function d(t,e,n){!function t(e,n,r,i){i.enter({current:n,previous:r});var o=e.edges;u(n,void 0===o?[]:o,"target").forEach((function(o){i.allowTraversal({previous:r,current:n,next:o})&&t(e,o,n,i)})),i.leave({current:n,previous:r})}(t,e,"",function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n))}function p(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Object.create,Object.create;var g={}.toString,v=function(t){return Array.isArray?Array.isArray(t):function(t,e){return g.call(t)==="[object "+e+"]"}(t,"Array")};Object.keys;var y=Array.prototype;y.splice,y.indexOf,Array.prototype.splice,Object.prototype.hasOwnProperty,Number.isInteger&&Number.isInteger,Math.PI,parseInt,Math.PI,Object.values,Object.prototype,Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty,function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var m=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,u=[],h={},l={},f={};o.forEach((function(t,n){var r=t.id;u.push(r),l[r]=1/0,r===e&&(l[r]=0)}));for(var d=o.length,p=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(l,o,h),i=e.id;if(h[i]=!0,l[i]===1/0)return"continue";(n?function(t,e){return e.filter((function(e){return e.source===t}))}(i,s):c(i,s)).forEach((function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;l[a]>l[e.id]+s?(l[a]=l[e.id]+s,f[a]=[e.id]):l[a]===l[e.id]+s&&f[a].push(e.id)}))},g=0;g<d;g++)p();f[e]=[e];var v={};for(var y in l)l[y]!==1/0&&b(e,y,f,v);var m={};for(var y in v)m[y]=v[y][0];return{length:l,path:m,allPath:v}};function b(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=b(t,a[o],n,r);if(!s)return;for(var u=0,c=s;u<c.length;u++){var h=c[u];v(h)?i.push(p(p([],h),[e])):i.push([h,e])}}return r[e]=i,r[e]}var x=function(e,n){for(var r=t(e,n),i=[],o=r.length,a=0;a<o;a+=1){i[a]=[];for(var s=0;s<o;s+=1)a===s?i[a][s]=0:0!==r[a][s]&&r[a][s]?i[a][s]=r[a][s]:i[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)i[a][s]>i[a][u]+i[u][s]&&(i[a][s]=i[a][u]+i[u][s]);return i},M=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var u=t[s].clusterId,c=0;c<i;c++)u===t[c].clusterId&&(a+=(e[s][c]||0)-(n[s]||0)*(n[c]||0)/o);return a*(1/o)},w=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),O=function(t,e){return t-e},S=function(){function t(t){void 0===t&&(t=O),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),E=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var h=new S((function(t,n){return e?t.weight-n.weight:0}));for(c(s.id,a).forEach((function(t){h.insert(t)}));!h.isEmpty();){var l=h.delMin(),f=l.source,d=l.target;u.has(f)&&u.has(d)||(n.push(l),u.has(f)||(u.add(f),c(f,a).forEach((function(t){h.insert(t)}))),u.has(d)||(u.add(d),c(d,a).forEach((function(t){h.insert(t)}))))}return n},C=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(t){return t}));e&&s.sort((function(t,e){return t.weight-e.weight}));for(var u=new w(i.map((function(t){return t.id})));s.length>0;){var c=s.shift(),h=c.source,l=c.target;u.connected(h,l)||(n.push(c),u.union(h,l))}return n},k="-1",P=function(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t,this.from=e,this.to=n,this.label=r},T=function(){function t(t,e){void 0===t&&(t=-1),void 0===e&&(e=k),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),j=function(){function t(t,e,n){void 0===t&&(t=-1),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new T(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new P(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new P(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),I=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||k,edgeLabel:r||"-1",nodeLabel2:i||k}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),A=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new I(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new j(t,!0,e);return this.dfsEdgeList.forEach((function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==k&&n.addNode(e,o),s!==k&&n.addNode(r,s),n.addEdge(void 0,e,r,a)})),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach((function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)})),Object.keys(t).length},t}(),_=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),N=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,a=t.maxNodeNum,s=void 0===a?4:a,u=t.top,c=void 0===u?10:u,h=t.directed,l=void 0!==h&&h,f=t.verbose,d=void 0!==f&&f;this.graphs=e,this.dfsCode=new A,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=l,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=d,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach((function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)})),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=u.label)return u}else if(e.label<u.label||e.label===u.label&&i[e.to].label<=i[n.to].label)return u}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],h=t.nodeMap[c.to];n<=h.label&&!r.hasNode(h)&&i.push(c)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,u=s.length,c=0;c<u;c++){var h=s[c],l=o[h.to].label;e.to===h.to||n>l||r.hasNode(o[h.to])||(e.label<h.label||e.label===h.label&&a<=l)&&i.push(h)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach((function(t){e[t.graphId]||(e[t.graphId]=!0)})),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach((function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(-1,n),i=r.nodeMap,o=new A,a={};r.nodes.forEach((function(e){t.findForwardRootEdges(r,e).forEach((function(t){var n=i[t.to],o=e.label+"-"+t.label+"-"+n.label;a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:r.id,edge:t,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);o.dfsEdgeList.push(new I(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u=s.nodeLabel1+"-"+s.edgeLabel+"-"+s.nodeLabel2;return function a(s){for(var u=o.buildRmpath(),c=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=o.dfsEdgeList[u[0]].toNode,l={},f=!1,d=0,p=n?-1:0,g=function(e){if(f)return"break";s.forEach((function(n){var i=new _(n),a=t.findBackwardEdge(r,i.edges[u[e]],i.edges[u[0]],i);a&&(l[a.label]||(l[a.label]={projected:[],edgeLabel:a.label}),l[a.label].projected.push({graphId:r.id,edge:l,preNode:n}),d=o.dfsEdgeList[u[e]].fromNode,f=!0)}))},v=u.length-1;v>p&&"break"!==g(v);v--);if(f){var y=t.findMinLabel(l);o.dfsEdgeList.push(new I(h,d,k,y.edgeLabel,k));var m=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[m]===o.dfsEdgeList[m]&&a(l[y.edgeLabel].projected)}var b={};f=!1;var x=0;s.forEach((function(e){var n=new _(e),o=t.findForwardPureEdges(r,n.edges[u[0]],c,n);o.length>0&&(f=!0,x=h,o.forEach((function(t){var n=t.label+"-"+i[t.to].label;b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}));var M=u.length,w=function(e){if(f)return"break";var n=u[e];s.forEach((function(e){var a=new _(e),s=t.findForwardRmpathEdges(r,a.edges[n],c,a);s.length>0&&(f=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(t){var n=t.label+"-"+i[t.to].label;b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})})))}))};for(v=0;v<M&&"break"!==w(v);v++);if(!f)return!0;var O=t.findMinLabel(b);o.dfsEdgeList.push(new I(x,h+1,k,O.edgeLabel,O.nodeLabel2));var S=o.dfsEdgeList.length-1;return e.dfsEdgeList[S]===o.dfsEdgeList[S]&&a(b[O.edgeLabel+"-"+O.nodeLabel2].projected)}(a[u].projected)},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(function t(e){if("object"!=a(e)||null===e)return e;var n;if(v(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"==a(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"==a(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n}(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach((function(t){for(var u=e.graphs[t.graphId],c=u.nodeMap,h=new _(t),l=r.length-1;l>=0;l--){var f=e.findBackwardEdge(u,h.edges[r[l]],h.edges[r[0]],h);if(f){var d=e.dfsCode.dfsEdgeList[r[l]].fromNode+"-"+f.label;s[d]||(s[d]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[l]].fromNode,edgeLabel:f.label}),s[d].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(u,h.edges[r[0]],o,h).forEach((function(e){var n=i+"-"+e.label+"-"+c[e.to].label;a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:e.label,nodeLabel2:c[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})}));var p=function(n){e.findForwardRmpathEdges(u,h.edges[r[n]],o,h).forEach((function(i){var o=e.dfsCode.dfsEdgeList[r[n]].fromNode+"-"+i.label+"-"+c[i.to].label;a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:c[i.to].label}),a[o].projected.push({graphId:t.graphId,edge:i,preNode:t})}))};for(l=0;l<r.length;l++)p(l)}})),Object.keys(s).forEach((function(t){var n=s[t],r=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new I(i,r,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(t){var n=a[t],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new I(r,i+1,k,o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()}))}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach((function(n){var r=t[n],u=r.nodeMap;r.nodes.forEach((function(t,r){var c=t.label,h=n+"-"+c;if(!a[h]){var l=i[c]||0;l++,i[c]=l}a[h]={graphKey:n,label:c},t.edges.forEach((function(t){var r=c,i=u[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var h=t.label,l=n+"-"+r+"-"+h+"-"+i,f=r+"-"+h+"-"+i;if(!o[f]){var d=o[f]||0;d++,o[f]=d}s[l]={graphId:n,nodeLabel1:r,edgeLabel:h,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}})),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach((function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach((function(e){t.findForwardRootEdges(i,e).forEach((function(t){var i=o[t.to],a=e.label+"-"+t.label+"-"+i.label;n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new I(0,1,o,a,s)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()}))}},t}(),L="cluster",B=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach((function(t,e){i.push(D(o,t,e,n,r))})),i},D=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach((function(e,u){if(e<=i&&n!==u){o.push(u),a.push(t[u]);var c=t[u][r];s[c]?(s[c].count++,s[c].dists.push(e)):s[c]={count:1,dists:[e]}}})),Object.keys(s).forEach((function(t){s[t].dists=s[t].dists.sort((function(t,e){return t-e}))})),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},R=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=t[o],c=null===(a=e[u.start])||void 0===a?void 0:a.nodeIdxs,h=null===(s=e[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&h){var l=new Set(h),f=c.filter((function(t){return l.has(t)}));if(f&&f.length){for(var d={},p=f.length,g=0;g<p;g++){var v=i[f[g]];r[o].nodes.push(v),d[v.id]=!0}n.edges.forEach((function(t){d[t.source]&&d[t.target]&&r[o].edges.push(t)}))}}}})),r},X=function(t,e,n,r){var i={};t.nodes.forEach((function(t){i[t.id]=t}));var o=0;return t.edges.forEach((function(t){var a=i[t.source][n],s=i[t.target][n],u=e.nodes[0][n],c=e.nodes[1][n],h=e.edges[0][r];t[r]===h&&(a===u&&s===c||a===c&&s===u)&&o++})),o},Y=function(t,e){var n={},r={};return t.forEach((function(t,i){n[t.id]={idx:i,node:t,degree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)})),{nodeMap:n,nodeLabelMap:r}},F=function(t,e,n){var r={},i={};return t.forEach((function(t,o){r[""+h]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var s=n[t.source];s&&s.degree++;var u=n[t.target];u&&u.degree++})),{edgeMap:r,edgeLabelMap:i}},z=function(t,e,n){var r=e.length,i={};return e.forEach((function(e,o){for(var a=n?0:o+1,s=t[o].id,u=a;u<r;u++)if(o!==u){var c=t[u].id,h=e[u];i[s+"-"+c]=h,n||(i[c+"-"+s]=h)}})),i},U=function(){function t(t){void 0===t&&(t=10),this.linkedList=new o,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),q="SUCCESS",W=n(458),G=n.n(W);function H(){return G()('(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{GADDI:()=>re,breadthFirstSearch:()=>f,connectedComponent:()=>h,depthFirstSearch:()=>b,detectCycle:()=>E,dijkstra:()=>k,findAllPath:()=>I,findShortestPath:()=>x,floydWarshall:()=>O,getAdjMatrix:()=>r,getDegree:()=>l,getInDegree:()=>p,getNeighbors:()=>d,getOutDegree:()=>v,labelPropagation:()=>S,louvain:()=>P,minimumSpanningTree:()=>R,pageRank:()=>U});const r=function(e,t){var r=e.nodes,n=e.edges,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){i[e.id]=t,o.push([])})),n&&n.forEach((function(e){var r=e.source,n=e.target,a=i[r],d=i[n];!a&&0!==a||!d&&0!==d||(o[a][d]=1,t||(o[d][a]=1))})),o};var n=function(e,t){return e===t},o=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):""+this.value},e}();const i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new o(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new o(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(null!==r)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},e.prototype.find=function(e){var t=e.value,r=void 0===t?void 0:t,n=e.callback,o=void 0===n?void 0:n;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==r&&this.compare(i.value,r))return i;i=i.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),a=function(){function e(){this.linkedList=new i}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();var d=function(e,t,r){void 0===t&&(t=[]);var n=t.filter((function(t){return t.source===e||t.target===e}));return"target"===r?n.filter((function(t){return t.source===e})).map((function(e){return e.target})):"source"===r?n.filter((function(t){return t.target===e})).map((function(e){return e.source})):n.map((function(t){return t.source===e?t.target:t.source}))},s=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},u=function(e){return void 0===e&&(e=0),e+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)};const f=function(e,t,r){var n=function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r),o=new a,i=e.edges,s=void 0===i?[]:i;o.enqueue(t);for(var u="",f=function(){var e=o.dequeue();n.enter({current:e,previous:u}),d(e,s,"target").forEach((function(t){n.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),n.leave({current:e,previous:u}),u=e};!o.isEmpty();)f()};function h(e,t){return t?function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s={},u={},f=[],h=0,c=function(e){s[e.id]=h,u[e.id]=h,h+=1,i.push(e),a[e.id]=!0;for(var t=d(e.id,o,"target").filter((function(e){return r.map((function(e){return e.id})).indexOf(e)>-1})),n=function(n){var o=t[n];if(s[o]||0===s[o])a[o]&&(u[e.id]=Math.min(u[e.id],s[o]));else{var i=r.filter((function(e){return e.id===o}));i.length>0&&c(i[0]),u[e.id]=Math.min(u[e.id],u[o])}},l=0;l<t.length;l++)n(l);if(u[e.id]===s[e.id]){for(var p=[];i.length>0;){var v=i.pop();if(a[v.id]=!1,p.push(v),v===e)break}p.length>0&&f.push(p)}},l=0,p=r;l<p.length;l++){var v=p[l];s[v.id]||0===s[v.id]||c(v)}return f}(e):function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s=[],u=function(e){s.push(e),a[e.id]=!0;for(var t=d(e.id,o),n=function(e){var n=t[e];if(!a[n]){var o=r.filter((function(e){return e.id===n}));o.length>0&&u(o[0])}},i=0;i<t.length;++i)n(i)},f=0;f<r.length;f++){var h=r[f];if(!a[h.id]){u(h);for(var c=[];s.length>0;)c.push(s.pop());i.push(c)}}return i}(e)}var c=function(e){var t={},r=e.nodes,n=void 0===r?[]:r,o=e.edges,i=void 0===o?[]:o;return n.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t};const l=c;var p=function(e,t){return c(e)[t]?c(e)[t].inDegree:0},v=function(e,t){return c(e)[t]?c(e)[t].outDegree:0};function g(e,t,r,n){n.enter({current:t,previous:r});var o=e.edges;d(t,void 0===o?[]:o,"target").forEach((function(o){n.allowTraversal({previous:r,current:t,next:o})&&g(e,o,t,n)})),n.leave({current:t,previous:r})}function b(e,t,r){g(e,t,"",function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r))}const E=function(e){var t=null,r=e.nodes,n={},o={},i={},a={};(void 0===r?[]:r).forEach((function(e){o[e.id]=e}));for(var d={enter:function(e){var r=e.current,a=e.previous;if(i[r]){t={};for(var d=r,s=a;s!==r;)t[d]=s,d=s,s=n[s];t[d]=s}else i[r]=r,delete o[r],n[r]=a},leave:function(e){var t=e.current;a[t]=t,delete i[t]},allowTraversal:function(e){var r=e.next;return!t&&!a[r]}};Object.keys(o).length;)b(e,Object.keys(o)[0],d);return t};function m(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}Object.create,Object.create;var y={}.toString;const L=function(e,t){return y.call(e)==="[object "+t+"]"},N=function(e){return Array.isArray?Array.isArray(e):L(e,"Array")};Object.keys;var M=Array.prototype;M.splice,M.indexOf,Array.prototype.splice,Object.prototype.hasOwnProperty;Number.isInteger&&Number.isInteger,Math.PI,parseInt,Math.PI,Object.values,Object.prototype;const j=function e(t){if("object"!=typeof t||null===t)return t;var r;if(N(t)){r=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?r[n]=e(t[n]):r[n]=t[n]}else for(var i in r={},t)"object"==typeof t[i]&&null!=t[i]?r[i]=e(t[i]):r[i]=t[i];return r};Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty,function(){function e(){this.map={}}e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var r=this.map[e];return void 0===r?t:r},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length}}();const k=function(e,t,r,n){var o=e.nodes,i=void 0===o?[]:o,a=e.edges,d=void 0===a?[]:a,u=[],f={},h={},c={};i.forEach((function(e,r){var n=e.id;u.push(n),h[n]=1/0,n===t&&(h[n]=0)}));for(var l=i.length,p=function(e){var t=function(e,t,r){for(var n,o=1/0,i=0;i<t.length;i++){var a=t[i].id;!r[a]&&e[a]<=o&&(o=e[a],n=t[i])}return n}(h,i,f),o=t.id;if(f[o]=!0,h[o]===1/0)return"continue";(r?function(e,t){return t.filter((function(t){return t.source===e}))}(o,d):s(o,d)).forEach((function(e){var r=e.target,i=e.source,a=r===o?i:r,d=n&&e[n]?e[n]:1;h[a]>h[t.id]+d?(h[a]=h[t.id]+d,c[a]=[t.id]):h[a]===h[t.id]+d&&c[a].push(t.id)}))},v=0;v<l;v++)p();c[t]=[t];var g={};for(var b in h)h[b]!==1/0&&w(t,b,c,g);var E={};for(var b in g)E[b]=g[b][0];return{length:h,path:E,allPath:g}};function w(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var o=[],i=0,a=r[t];i<a.length;i++){var d=w(e,a[i],r,n);if(!d)return;for(var s=0,u=d;s<u.length;s++){var f=u[s];N(f)?o.push(m(m([],f),[t])):o.push([f,t])}}return n[t]=o,n[t]}var x=function(e,t,r,n,o){var i=k(e,t,n,o),a=i.length,d=i.path,s=i.allPath;return{length:a[r],path:d[r],allPath:s[r]}},I=function(e,t,r,n){var o;if(t===r)return[[t]];var i=e.edges,a=void 0===i?[]:i,s=[t],u=((o={})[t]=!0,o),f=[],h=[],c=n?d(t,a,"target"):d(t,a);for(f.push(c);s.length>0&&f.length>0;){var l=f[f.length-1];if(l.length){var p=l.shift();if(p&&(s.push(p),u[p]=!0,c=n?d(p,a,"target"):d(p,a),f.push(c.filter((function(e){return!u[e]})))),s[s.length-1]===r){var v=s.map((function(e){return e}));h.push(v),g=s.pop(),u[g]=!1,f.pop()}}else{var g=s.pop();u[g]=!1,f.pop()}}return h};const O=function(e,t){for(var n=r(e,t),o=[],i=n.length,a=0;a<i;a+=1){o[a]=[];for(var d=0;d<i;d+=1)a===d?o[a][d]=0:0!==n[a][d]&&n[a][d]?o[a][d]=n[a][d]:o[a][d]=1/0}for(var s=0;s<i;s+=1)for(a=0;a<i;a+=1)for(d=0;d<i;d+=1)o[a][d]>o[a][s]+o[s][d]&&(o[a][d]=o[a][s]+o[s][d]);return o},S=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e3);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,f={},h={};a.forEach((function(e,t){var r=u();e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={};c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e}})),l.push(r)}));for(var v=0,g=function(){var e=!1;if(a.forEach((function(t){var r={};Object.keys(p[t.id]).forEach((function(e){var n=p[t.id][e],o=h[e].node.clusterId;r[o]||(r[o]=0),r[o]+=n}));var n=-1/0,o=[];if(Object.keys(r).forEach((function(e){n<r[e]?(n=r[e],o=[e]):n===r[e]&&o.push(e)})),1!==o.length||o[0]!==t.clusterId){var i=o.indexOf(t.clusterId);if(i>=0&&o.splice(i,1),o&&o.length){e=!0;var a=f[t.clusterId],d=a.nodes.indexOf(t);a.nodes.splice(d,1);var s=Math.floor(Math.random()*o.length),u=f[o[s]];u.nodes.push(t),t.clusterId=u.id}}})),!e)return"break";v++};v<o&&"break"!==g(););Object.keys(f).forEach((function(e){var t=f[e];t.nodes&&t.nodes.length||delete f[e]}));var b=[],E={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(E[d])E[d].weight+=o,E[d].count++;else{var s={source:i,target:a,weight:o,count:1};E[d]=s,b.push(s)}}));var m=[];return Object.keys(f).forEach((function(e){m.push(f[e])})),{clusters:m,clusterEdges:b}};var C=function(e,t,r,n){for(var o=t.length,i=2*n,a=0,d=0;d<o;d++)for(var s=e[d].clusterId,u=0;u<o;u++)s===e[u].clusterId&&(a+=(t[d][u]||0)-(r[d]||0)*(r[u]||0)/i);return a*(1/i)};const P=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,u=1,f={},h={};a.forEach((function(e,t){var r=String(u++);e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={},v=0;c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e,v+=e}})),l.push(r)})),v/=2;for(var g=1/0,b=1/0,E=0;g=C(a,c,l,v),!(Math.abs(g-b)<o||E>100);)b=g,E++,Object.keys(f).forEach((function(e){var t=0;s.forEach((function(r){var o=r.source,i=r.target,a=h[o].node.clusterId,d=h[i].node.clusterId;(a===e&&d!==e||d===e&&a!==e)&&(t+=r[n]||1)})),f[e].sumTot=t})),a.forEach((function(e,t){var r,o=f[e.clusterId],i=0,a=l[t]/(2*v),d=0;o.nodes.forEach((function(e){var r=h[e.id].idx;d+=c[t][r]||0}));var u=d-o.sumTot*a,g=p[e.id];if(Object.keys(g).forEach((function(n){var o=h[n].node.clusterId;if(o!==e.clusterId){var d=f[o],s=d.nodes;if(s&&s.length){var l=0;s.forEach((function(e){var r=h[e.id].idx;l+=c[t][r]||0}));var p=l-d.sumTot*a-u;p>i&&(i=p,r=d)}}})),i>0){r.nodes.push(e);var b=e.clusterId;e.clusterId=r.id;var E=o.nodes.indexOf(e);o.nodes.splice(E,1);var m=0,y=0;s.forEach((function(e){var t=e.source,o=e.target,i=h[t].node.clusterId,a=h[o].node.clusterId;(i===r.id&&a!==r.id||a===r.id&&i!==r.id)&&(m+=e[n]||1),(i===b&&a!==b||a===b&&i!==b)&&(y+=e[n]||1)})),r.sumTot=m,o.sumTot=y}}));Object.keys(f).forEach((function(e){var t=f[e];t.nodes&&t.nodes.length||delete f[e]})),Object.keys(f).forEach((function(e,t){var r=f[e],n=String(t+1);n!==e&&(r.id=n,r.nodes=r.nodes.map((function(e){return{id:e.id,clusterId:n}})),f[n]=r,delete f[e])}));var m=[],y={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(y[d])y[d].weight+=o,y[d].count++;else{var s={source:i,target:a,weight:o,count:1};y[d]=s,m.push(s)}}));var L=[];return Object.keys(f).forEach((function(e){L.push(f[e])})),{clusters:L,clusterEdges:m}},T=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();var q=function(e,t){return e-t};const F=function(){function e(e){void 0===e&&(e=q),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),o=this.getRight(e),i=this.list.length;null!==n&&n<i&&this.compareFn(this.list[r],this.list[n])>0?r=n:null!==o&&o<i&&this.compareFn(this.list[r],this.list[o])>0&&(r=o),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},e}();var D=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=o[0],u=new Set;u.add(d);var f=new F((function(e,r){return t?e.weight-r.weight:0}));for(s(d.id,a).forEach((function(e){f.insert(e)}));!f.isEmpty();){var h=f.delMin(),c=h.source,l=h.target;u.has(c)&&u.has(l)||(r.push(h),u.has(c)||(u.add(c),s(c,a).forEach((function(e){f.insert(e)}))),u.has(l)||(u.add(l),s(l,a).forEach((function(e){f.insert(e)}))))}return r},A=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=a.map((function(e){return e}));t&&d.sort((function(e,t){return e.weight-t.weight}));for(var s=new T(o.map((function(e){return e.id})));d.length>0;){var u=d.shift(),f=u.source,h=u.target;s.connected(f,h)||(r.push(u),s.union(f,h))}return r};const R=function(e,t,r){return r?{prim:D,kruskal:A}[r](e,t):A(e,t)},U=function(e,t,r){"number"!=typeof t&&(t=1e-6),"number"!=typeof r&&(r=.85);for(var n,o=1,i=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,f=e.edges,h=void 0===f?[]:f,c=u.length,p={},v={},g=0;g<c;++g)p[E=(M=u[g]).id]=1/c,v[E]=1/c;for(var b=l(e);a>0&&o>t;){for(i=0,g=0;g<c;++g){var E=(M=u[g]).id;if(n=0,0===b[M.id].inDegree)p[E]=0;else{for(var m=d(E,h,"source"),y=0;y<m.length;++y){var L=m[y],N=b[L].outDegree;N>0&&(n+=v[L]/N)}p[E]=r*n,i+=p[E]}}for(i=(1-i)/c,o=0,g=0;g<c;++g){var M;n=p[E=(M=u[g]).id]+i,o+=Math.abs(n-v[E]),v[E]=n}a-=1}return v};var G="-1",z=function(e,t,r,n){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===r&&(r=-1),void 0===n&&(n="-1"),this.id=e,this.from=t,this.to=r,this.label=n},B=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=G),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),H=function(){function e(e,t,r){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===r&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new B(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new z(e,t,r,n);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(o),!this.directed){var i=new z(e,r,t,n);this.nodeMap[r].addEdge(i),this.edgeLabelMap[n].push(i)}}},e}(),_=function(){function e(e,t,r,n,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||G,edgeLabel:n||"-1",nodeLabel2:o||G}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),K=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(this.dfsEdgeList[r]!==e[r])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,r,n,o){return this.dfsEdgeList.push(new _(e,t,r,n,o)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var r=new H(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,n=e.toNode,o=e.nodeEdgeNodeLabel,i=o.nodeLabel1,a=o.edgeLabel,d=o.nodeLabel2;i!==G&&r.addNode(t,i),d!==G&&r.addNode(n,d),r.addEdge(void 0,t,n,a)})),r},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var r=this.dfsEdgeList[t],n=r.fromNode,o=r.toNode;n<o&&(void 0===e||o===e)&&(this.rmpath.push(t),e=n)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),W=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),J=function(){function e(e){var t=e.graphs,r=e.minSupport,n=void 0===r?2:r,o=e.minNodeNum,i=void 0===o?1:o,a=e.maxNodeNum,d=void 0===a?4:a,s=e.top,u=void 0===s?10:s,f=e.directed,h=void 0!==f&&f,c=e.verbose,l=void 0!==c&&c;this.graphs=t,this.dfsCode=new K,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=d,this.minNodeNum=i,this.verbose=l,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],o=e.nodeMap;return t.edges.forEach((function(e){(r.directed||t.label<=o[e.to].label)&&n.push(e)})),n},e.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var o=e.nodeMap,i=o[r.to].edges,a=i.length,d=0;d<a;d++){var s=i[d];if(!n.hasEdge(s)&&s.to===t.from)if(this.directed){if(o[t.from].label<o[r.to].label||o[t.from].label===o[r.to].label&&t.label<=s.label)return s}else if(t.label<s.label||t.label===s.label&&o[t.to].label<=o[r.to].label)return s}return null},e.prototype.findForwardPureEdges=function(e,t,r,n){for(var o=[],i=t.to,a=e.nodeMap[i].edges,d=a.length,s=0;s<d;s++){var u=a[s],f=e.nodeMap[u.to];r<=f.label&&!n.hasNode(f)&&o.push(u)}return o},e.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var o=[],i=e.nodeMap,a=i[t.to].label,d=i[t.from].edges,s=d.length,u=0;u<s;u++){var f=d[u],h=i[f.to].label;t.to===f.to||r>h||n.hasNode(i[f.to])||(t.label<f.label||t.label===f.label&&a<=h)&&o.push(f)}return o},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(r){var n=e[r],o=n.nodeLabel1,i=n.edgeLabel,a=n.nodeLabel2;t?(o<t.nodeLabel1||o===t.nodeLabel1&&i<t.edgeLabel||o===t.nodeLabel1&&i===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}):t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var r=this.directed,n=t.toGraph(-1,r),o=n.nodeMap,i=new K,a={};n.nodes.forEach((function(t){e.findForwardRootEdges(n,t).forEach((function(e){var r=o[e.to],i=t.label+"-"+e.label+"-"+r.label;a[i]||(a[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:r.label});var d={graphId:n.id,edge:e,preNode:null};a[i].projected.push(d)}))}));var d=this.findMinLabel(a);i.dfsEdgeList.push(new _(0,1,d.nodeLabel1,d.edgeLabel,d.nodeLabel2));var s=function(a){for(var d=i.buildRmpath(),u=i.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=i.dfsEdgeList[d[0]].toNode,h={},c=!1,l=0,p=r?-1:0,v=function(t){if(c)return"break";a.forEach((function(r){var o=new W(r),a=e.findBackwardEdge(n,o.edges[d[t]],o.edges[d[0]],o);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:n.id,edge:h,preNode:r}),l=i.dfsEdgeList[d[t]].fromNode,c=!0)}))},g=d.length-1;g>p&&"break"!==v(g);g--);if(c){var b=e.findMinLabel(h);i.dfsEdgeList.push(new _(f,l,G,b.edgeLabel,G));var E=i.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[E]===i.dfsEdgeList[E]&&s(h[b.edgeLabel].projected)}var m={};c=!1;var y=0;a.forEach((function(t){var r=new W(t),i=e.findForwardPureEdges(n,r.edges[d[0]],u,r);i.length>0&&(c=!0,y=f,i.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}));var L=d.length,N=function(t){if(c)return"break";var r=d[t];a.forEach((function(t){var a=new W(t),d=e.findForwardRmpathEdges(n,a.edges[r],u,a);d.length>0&&(c=!0,y=i.dfsEdgeList[r].fromNode,d.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}))};for(g=0;g<L&&"break"!==N(g);g++);if(!c)return!0;var M=e.findMinLabel(m);i.dfsEdgeList.push(new _(y,f+1,G,M.edgeLabel,M.nodeLabel2));var j=i.dfsEdgeList.length-1;return t.dfsEdgeList[j]===i.dfsEdgeList[j]&&s(m[M.edgeLabel+"-"+M.nodeLabel2].projected)},u=d.nodeLabel1+"-"+d.edgeLabel+"-"+d.nodeLabel2;return s(a[u].projected)},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(j(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),n=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[n[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},d={};e.forEach((function(e){for(var s=t.graphs[e.graphId],u=s.nodeMap,f=new W(e),h=n.length-1;h>=0;h--){var c=t.findBackwardEdge(s,f.edges[n[h]],f.edges[n[0]],f);if(c){var l=t.dfsCode.dfsEdgeList[n[h]].fromNode+"-"+c.label;d[l]||(d[l]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[n[h]].fromNode,edgeLabel:c.label}),d[l].projected.push({graphId:e.graphId,edge:c,preNode:e})}}if(!(r>=t.maxNodeNum)){t.findForwardPureEdges(s,f.edges[n[0]],i,f).forEach((function(t){var r=o+"-"+t.label+"-"+u[t.to].label;a[r]||(a[r]={projected:[],fromNodeId:o,edgeLabel:t.label,nodeLabel2:u[t.to].label}),a[r].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(r){t.findForwardRmpathEdges(s,f.edges[n[r]],i,f).forEach((function(o){var i=t.dfsCode.dfsEdgeList[n[r]].fromNode+"-"+o.label+"-"+u[o.to].label;a[i]||(a[i]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[n[r]].fromNode,edgeLabel:o.label,nodeLabel2:u[o.to].label}),a[i].projected.push({graphId:e.graphId,edge:o,preNode:e})}))};for(h=0;h<n.length;h++)p(h)}})),Object.keys(d).forEach((function(e){var r=d[e],n=r.toNodeId,i=r.edgeLabel;t.dfsCode.dfsEdgeList.push(new _(o,n,"-1",i,"-1")),t.subGraphMining(d[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var r=a[e],n=r.fromNodeId,i=r.edgeLabel,d=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new _(n,o+1,G,i,d)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,o={},i={},a={},d={};return Object.keys(e).forEach((function(r){var n=e[r],s=n.nodeMap;n.nodes.forEach((function(e,n){var u=e.label,f=r+"-"+u;if(!a[f]){var h=o[u]||0;h++,o[u]=h}a[f]={graphKey:r,label:u},e.edges.forEach((function(e){var n=u,o=s[e.to].label;if(!t&&n>o){var a=o;o=n,n=a}var f=e.label,h=r+"-"+n+"-"+f+"-"+o,c=n+"-"+f+"-"+o;if(!i[c]){var l=i[c]||0;l++,i[c]=l}d[h]={graphId:r,nodeLabel1:n,edgeLabel:f,nodeLabel2:o}}))}))})),Object.keys(o).forEach((function(e){if(!(o[e]<r)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),n.push(t)}})),n},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=(this.directed,{});Object.keys(t).forEach((function(n){var o=t[n],i=o.nodeMap;o.nodes.forEach((function(t){e.findForwardRootEdges(o,t).forEach((function(e){var o=i[e.to],a=t.label+"-"+e.label+"-"+o.label;r[a]||(r[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:o.label});var d={graphId:n,edge:e,preNode:null};r[a].projected.push(d)}))}))})),Object.keys(r).forEach((function(t){var n=r[t],o=n.projected,i=n.nodeLabel1,a=n.edgeLabel,d=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new _(0,1,i,a,d)),e.subGraphMining(o),e.dfsCode.dfsEdgeList.pop()}))}},e}(),Q="cluster";var V=function(e,t,r,n){void 0===r&&(r="cluster"),void 0===n&&(n=2);var o=[],i=e.nodes;return t.forEach((function(e,t){o.push(X(i,e,t,r,n))})),o},X=function(e,t,r,n,o){var i=[r],a=[],d={};return t.forEach((function(t,s){if(t<=o&&r!==s){i.push(s),a.push(e[s]);var u=e[s][n];d[u]?(d[u].count++,d[u].dists.push(t)):d[u]={count:1,dists:[t]}}})),Object.keys(d).forEach((function(e){d[e].dists=d[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:i,neighbors:a,neighborNum:i.length-1,nodeLabelCountMap:d}},Y=function(e,t,r,n){var o=r.nodes;return n||(n={}),Object.keys(e).forEach((function(i){var a,d;if(!n||!n[i]){n[i]={nodes:[],edges:[]};var s=e[i],u=null===(a=t[s.start])||void 0===a?void 0:a.nodeIdxs,f=null===(d=t[s.end])||void 0===d?void 0:d.nodeIdxs;if(u&&f){var h=new Set(f),c=u.filter((function(e){return h.has(e)}));if(c&&c.length){for(var l={},p=c.length,v=0;v<p;v++){var g=o[c[v]];n[i].nodes.push(g),l[g.id]=!0}r.edges.forEach((function(e){l[e.source]&&l[e.target]&&n[i].edges.push(e)}))}}}})),n},Z=function(e,t,r,n){var o={};e.nodes.forEach((function(e){o[e.id]=e}));var i=0;return e.edges.forEach((function(e){var a=o[e.source][r],d=o[e.target][r],s=t.nodes[0][r],u=t.nodes[1][r],f=t.edges[0][n];e[n]===f&&(a===s&&d===u||a===u&&d===s)&&i++})),i},$=function(e,t){var r={},n={};return e.forEach((function(e,o){r[e.id]={idx:o,node:e,degree:0};var i=e[t];n[i]||(n[i]=[]),n[i].push(e)})),{nodeMap:r,nodeLabelMap:n}},ee=function(e,t,r){var n={},o={};return e.forEach((function(e,i){n[""+u]={idx:i,edge:e};var a=e[t];o[a]||(o[a]=[]),o[a].push(e);var d=r[e.source];d&&d.degree++;var s=r[e.target];s&&s.degree++})),{edgeMap:n,edgeLabelMap:o}},te=function(e,t,r){var n=t.length,o={};return t.forEach((function(t,i){for(var a=r?0:i+1,d=e[i].id,s=a;s<n;s++)if(i!==s){var u=e[s].id,f=t[s];o[d+"-"+u]=f,r||(o[u+"-"+d]=f)}})),o};const re=function(e,t,r,n,o,i,a){if(void 0===r&&(r=!1),void 0===i&&(i="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var d=e.nodes.length;if(d){var s=O(e,r),u=O(t,r),f=te(e.nodes,s,r),h=te(t.nodes,u,r),c=$(e.nodes,i),l=c.nodeMap,p=c.nodeLabelMap,v=$(t.nodes,i),g=v.nodeMap,b=v.nodeLabelMap;ee(e.edges,a,l);var E=ee(t.edges,a,g).edgeLabelMap;o||(o=Math.max.apply(Math,m(m([],u[0]),[2]))),n||(n=o);var y=V(e,s,i,n),L=V(t,u,i,n),N=function(e,t,r,n,o){var i=Math.ceil(r/t),a={},d=0;return n.forEach((function(e,n){for(var s=0,u=0,f=e.nodeIdxs,h=e.neighborNum-1;s<i;){for(var c=f[1+Math.floor(Math.random()*h)],l=0;(a[n+"-"+c]||a[c+"-"+n])&&(c=Math.floor(Math.random()*t),!(++l>2*t)););if(l<2*t&&(a[n+"-"+c]={start:n,end:c,distance:o[n][c]},s++,++d>=r))return a;if(++u>2*t)break}s<i&&(i=(i+(i-s))/(t-n-1))})),a}(0,d,Math.min(100,d*(d-1)/2),L,s),M=Y(N,y,e),j=function(e){var t=e.graphs,r=e.directed,n=void 0!==r&&r,o=e.nodeLabelProp,i=void 0===o?Q:o,a=e.edgeLabelProp,d=void 0===a?Q:a,s=function(e,t,r,n){var o={};return Object.keys(e).forEach((function(i,a){var d=e[i],s=new H(a,!0,t),u={};d.nodes.forEach((function(e,t){s.addNode(t,e[r]),u[e.id]=t})),d.edges.forEach((function(e,t){var r=u[e.source],o=u[e.target];s.addEdge(-1,r,o,e[n])})),s&&s.getNodeNum()&&(o[s.id]=s)})),o}(t,n,i,d),u=e.minSupport,f=e.maxNodeNum,h=e.minNodeNum,c=e.verbose,l=e.top,p=new J({graphs:s,minSupport:u,maxNodeNum:f,minNodeNum:h,top:l,verbose:c,directed:n});return p.run(),function(e,t,r){var n=[];return e.forEach((function(e){var o={nodes:[],edges:[]};e.nodes.forEach((function(e){var r;o.nodes.push(((r={id:""+e.id})[t]=e.label,r))})),e.edges.forEach((function(e){var t;o.edges.push(((t={source:""+e.from,target:""+e.to})[r]=e.label,t))})),n.push(o)})),n}(p.frequentSubgraphs,i,d)}({graphs:M,nodeLabelProp:i,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:r}).slice(0,10),w=j.length,x=[];j.forEach((function(e,t){x[t]={},Object.keys(M).forEach((function(r){var n=M[r],o=Z(n,e,i,a);x[t][r]=o}))}));var I=function(e,t,r){for(var n=1/0,o=0,i=function(t){var r=e[t],i=Object.keys(r).sort((function(e,t){return r[e]-r[t]})),a=[];i.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=r[e]}));var d=0,s=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,s.push(t);var n=0,o=e.length;e.graphs.forEach((function(t,o){var i=r[t];e.graphs.forEach((function(e,t){o!==t&&(n+=Math.abs(i-r[e]))}))})),d+=n/=o*(o-1)/2})),d/=a.length;var u=0;s.forEach((function(e,t){s.forEach((function(r,n){t!==n&&(u+=Math.abs(e-r))})),u/=s.length*(s.length-1)/2}));var f=u-d;n<f&&(n=f,o=t)},a=0;a<t;a++)i(a);return{structure:r[o],structureCountMap:e[o]}}(x,w,j),S=I.structure,C=I.structureCountMap,P=t.nodes[0],T=P[i],q=p[T],F={},D={},A={},R={},U={};Object.keys(b).forEach((function(r,n){U[r]=[];var o=-1/0,d=b[r],s={};d.forEach((function(e){var t=h[P.id+"-"+e.id];t&&U[r].push(t),o<t&&(o=t),s[P.id+"-"+e.id]={start:0,end:g[e.id].idx,distance:t}})),U[r]=U[r].sort((function(e,t){return e-t})),D=Y(s,L,t,D);var u=[];if(Object.keys(s).forEach((function(e){if(A[e])u.push(A[e]);else{var t=D[e];A[e]=Z(t,S,i,a),u.push(A[e])}})),u=u.sort((function(e,t){return t-e})),R[P.id+"-"+r]=u,r!==T)for(var c=function(t){var n=q[t],o=y[l[n.id].idx],d=o.nodeLabelCountMap[r],s=b[r].length;if(!d||d.count<s)return q.splice(t,1),"continue";for(var h=!1,c=0;c<s;c++)if(d.dists[c]>U[r][c]){h=!0;break}if(h)return q.splice(t,1),"continue";var p={};o.neighbors.forEach((function(e){var t=f[n.id+"-"+e.id];p[n.id+"-"+e.id]={start:l[n.id].idx,end:l[e.id].idx,distance:t}})),M=Y(p,y,e,M);var v=[];Object.keys(p).forEach((function(e){if(C[e])v.push(C[e]);else{var t=M[e];C[e]=Z(t,S,i,a),v.push(C[e])}})),v=v.sort((function(e,t){return t-e}));var g=!1;for(c=0;c<s;c++)if(v[c]<u[c]){g=!0;break}return g?(q.splice(t,1),"continue"):void 0},p=q.length-1;p>=0;p--)c(p)}));var G=[];q.forEach((function(r){for(var n=l[r.id].idx,d=X(e.nodes,s[n],n,i,o).neighbors,u=d.length,h=!1,c=function(n){if(d.length+1<t.nodes.length)return h=!0,{value:void 0};var o=d[n],s=o[i];if(!b[s]||!b[s].length)return d.splice(n,1),"continue";var u=r.id+"-"+o.id;if(!U[s]||!U[s].length)return d.splice(n,1),"continue";var c=f[u];if(c>U[s][U[s].length-1])return d.splice(n,1),"continue";var p=C[u]?C[u]:function(e,t,r,n,o,i,a,d,s,u,f){var h,c=t.id+"-"+r.id;if(u&&u[c])return u[c];var l=f?f[c]:void 0;if(!l){var p=((h={})[c]={start:n[t.id].idx,end:n[r.id].idx,distance:o},h);l=(f=Y(p,i,e,f))[c]}return Z(l,a,d,s)}(e,r,o,l,c,y,S,i,a,C,M),v=P.id+"-"+s;if(p<R[v][R[v].length-1])return d.splice(n,1),"continue";var E=F[s];return void 0===E&&(E=1/0,b[s].forEach((function(e){var t=g[e.id].degree;E>t&&(E=t)})),F[s]=E),l[o.id].degree<E?(d.splice(n,1),"continue"):void 0},p=u-1;p>=0;p--){var v=c(p);if("object"==typeof v)return v.value}h||G.push({nodes:[r].concat(d)})}));var z=k(t,P.id,!1).length,B={};r?(Object.keys(z).forEach((function(e){var t=g[e].node[i];B[t]?B[t].push(z[e]):B[t]=[z[e]]})),Object.keys(B).forEach((function(e){B[e].sort((function(e,t){return e-t}))}))):B=U;for(var _=function(n){var o=G[n],d=o.nodes[0],s={},u={};o.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0};var r=e[i];s[r]?s[r]++:s[r]=1}));var f=[],h={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(f.push(e),h[e[a]]?h[e[a]]++:h[e[a]]=1,u[e.source].degree++,u[e.target].degree++)}));for(var c=Object.keys(E).length,p=!1,v=0;v<c;v++){var m=Object.keys(E)[v];if(!h[m]||h[m]<E[m].length){p=!0;break}}if(p)return G.splice(n,1),"continue";var y=f.length;if(y<t.edges.length)return G.splice(n,1),"break";var L=!1,N=function(e){var t=f[e],n=t[a],o=E[n];if(!o||!o.length)return h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue");var d=u[t.source].node[i],s=u[t.target].node[i],c=!1;return o.forEach((function(e){var t=g[e.source].node,n=g[e.target].node;t[i]===d&&n[i]===s&&(c=!0),r||t[i]!==s||n[i]!==d||(c=!0)})),c?void 0:(h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue"))};for(v=y-1;v>=0&&"break"!==N(v);v--);if(L)return G.splice(n,1),"continue";o.edges=f;var M=k(o,o.nodes[0].id,!1).length;if(Object.keys(M).reverse().forEach((function(e){if(e!==o.nodes[0].id&&!L){if(M[e]===1/0){var t=u[e].node[i];if(s[t]--,s[t]<b[t].length)return void(L=!0);var r=o.nodes.indexOf(u[e].node);return o.nodes.splice(r,1),void(u[e]=void 0)}var n=l[e].node[i];if(!B[n]||!B[n].length||M[e]>B[n][B[n].length-1]){if(t=u[e].node[i],s[t]--,s[t]<b[t].length)return void(L=!0);r=o.nodes.indexOf(u[e].node),o.nodes.splice(r,1),u[e]=void 0}}})),L)return G.splice(n,1),"continue";for(var j=!0,w=0;j&&!L;){if(j=!1,u[d.id].degree<g[P.id].degree){L=!0;break}if(s[d[i]]<b[d[i]].length){L=!0;break}for(var x=o.nodes.length-1;x>=0;x--){var I=o.nodes[x],O=u[I.id].degree,S=I[i];if(O<F[S]){if(s[I[i]]--,s[I[i]]<b[I[i]].length){L=!0;break}o.nodes.splice(x,1),u[I.id]=void 0,j=!0}}if(L||!j&&0!==w)break;for(var C=(y=f.length)-1;C>=0;C--){var T=f[C];if(!u[T.source]||!u[T.target]){f.splice(C,1);var q=T[a];if(h[q]--,u[T.source]&&u[T.source].degree--,u[T.target]&&u[T.target].degree--,E[q]&&h[q]<E[q].length){L=!0;break}j=!0}}w++}return L||L||o.nodes.length<t.nodes.length||f.length<t.edges.length?(G.splice(n,1),"continue"):void 0},K=G.length-1;K>=0&&"break"!==_(K);K--);var W=G.length,re=function(e){var t=G[e],r={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;r[t]?r[t]++:r[t]=1}));for(var n=function(e){var t=G[e],n={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;n[t]?n[t]++:n[t]=1}));var o=!0;Object.keys(n).length!==Object.keys(r).length?o=!1:Object.keys(r).forEach((function(e){n[e]!==r[e]&&(o=!1)})),o&&G.splice(e,1)},o=W-1;o>e;o--)n(o);W=G.length};for(K=0;K<=W-1;K++)re(K);return G}}};var ne=self;ne.onmessage=function(e){var r=e.data,n=r.type,o=r.data;if("function"!=typeof t[n])ne.postMessage({type:"FAILURE"});else{var i=t[n].apply(t,o);ne.postMessage({type:"SUCCESS",data:i})}}})();\n//# sourceMappingURL=index.worker.js.map',"Worker",void 0,n.p+"index.worker.js")}var V=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,r){var i=new H;i.postMessage({type:t,data:e}),i.onmessage=function(t){var e=t.data,o=e.data,a=e.type;q===a?n(o):r(),i.terminate()}}))}},Z={getAdjMatrix:t,breadthFirstSearch:function(t,e,n){var r=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),i=new s,o=t.edges,a=void 0===o?[]:o;i.enqueue(e);for(var c="",h=function(){var t=i.dequeue();r.enter({current:t,previous:c}),u(t,a,"target").forEach((function(e){r.allowTraversal({previous:c,current:t,next:e})&&i.enqueue(e)})),r.leave({current:t,previous:c}),c=t};!i.isEmpty();)h()},connectedComponent:function(t,e){return e?function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s={},c={},h=[],l=0,f=function t(e){s[e.id]=l,c[e.id]=l,l+=1,o.push(e),a[e.id]=!0;for(var r=u(e.id,i,"target").filter((function(t){return n.map((function(t){return t.id})).indexOf(t)>-1})),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(c[e.id]=Math.min(c[e.id],s[o]));else{var u=n.filter((function(t){return t.id===o}));u.length>0&&t(u[0]),c[e.id]=Math.min(c[e.id],c[o])}},d=0;d<r.length;d++)f(d);if(c[e.id]===s[e.id]){for(var p=[];o.length>0;){var g=o.pop();if(a[g.id]=!1,p.push(g),g===e)break}p.length>0&&h.push(p)}},d=0,p=n;d<p.length;d++){var g=p[d];s[g.id]||0===s[g.id]||f(g)}return h}(t):function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s=[],c=function t(e){s.push(e),a[e.id]=!0;for(var r=u(e.id,i),o=function(e){var i=r[e];if(!a[i]){var o=n.filter((function(t){return t.id===i}));o.length>0&&t(o[0])}},c=0;c<r.length;++c)o(c)},h=0;h<n.length;h++){var l=n[h];if(!a[l.id]){c(l);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(t)},getDegree:f,getInDegree:function(t,e){return l(t)[e]?l(t)[e].inDegree:0},getOutDegree:function(t,e){return l(t)[e]?l(t)[e].outDegree:0},detectCycle:function(t){var e=null,n=t.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(t){i[t.id]=t}));for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,u=a;u!==n;)e[s]=u,s=u,u=r[u];e[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};Object.keys(i).length;)d(t,Object.keys(i)[0],s);return e},depthFirstSearch:d,dijkstra:m,findAllPath:function(t,e,n,r){var i;if(e===n)return[[e]];var o=t.edges,a=void 0===o?[]:o,s=[e],c=((i={})[e]=!0,i),h=[],l=[],f=r?u(e,a,"target"):u(e,a);for(h.push(f);s.length>0&&h.length>0;){var d=h[h.length-1];if(d.length){var p=d.shift();if(p&&(s.push(p),c[p]=!0,f=r?u(p,a,"target"):u(p,a),h.push(f.filter((function(t){return!c[t]})))),s[s.length-1]===n){var g=s.map((function(t){return t}));l.push(g),v=s.pop(),c[v]=!1,h.pop()}}else{var v=s.pop();c[v]=!1,h.pop()}}return l},findShortestPath:function(t,e,n,r,i){var o=m(t,e,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},floydWarshall:x,labelPropagation:function(e,n,r,i){void 0===n&&(n=!1),void 0===r&&(r="weight"),void 0===i&&(i=1e3);var o=e.nodes,a=void 0===o?[]:o,s=e.edges,u=void 0===s?[]:s,c={},l={};a.forEach((function(t,e){var n=h();t.clusterId=n,c[n]={id:n,nodes:[t]},l[t.id]={node:t,idx:e}}));var f=t(e,n),d=[],p={};f.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=a[e].id;p[r][i]=t}})),d.push(n)}));for(var g=0,v=function(){var t=!1;if(a.forEach((function(e){var n={};Object.keys(p[e.id]).forEach((function(t){var r=p[e.id][t],i=l[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)})),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=c[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),h=c[i[u]];h.nodes.push(e),e.clusterId=h.id}}})),!t)return"break";g++};g<i&&"break"!==v(););Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var y=[],m={};u.forEach((function(t){var e=t.source,n=t.target,i=t[r]||1,o=l[e].node.clusterId,a=l[n].node.clusterId,s=o+"---"+a;if(m[s])m[s].weight+=i,m[s].count++;else{var u={source:o,target:a,weight:i,count:1};m[s]=u,y.push(u)}}));var b=[];return Object.keys(c).forEach((function(t){b.push(c[t])})),{clusters:b,clusterEdges:y}},louvain:function(e,n,r,i){void 0===n&&(n=!1),void 0===r&&(r="weight"),void 0===i&&(i=1e-4);var o=e.nodes,a=void 0===o?[]:o,s=e.edges,u=void 0===s?[]:s,c=1,h={},l={};a.forEach((function(t,e){var n=String(c++);t.clusterId=n,h[n]={id:n,nodes:[t]},l[t.id]={node:t,idx:e}}));var f=t(e,n),d=[],p={},g=0;f.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){if(t){n+=t;var i=a[e].id;p[r][i]=t,g+=t}})),d.push(n)})),g/=2;for(var v=1/0,y=1/0,m=0;v=M(a,f,d,g),!(Math.abs(v-y)<i||m>100);)y=v,m++,Object.keys(h).forEach((function(t){var e=0;u.forEach((function(n){var i=n.source,o=n.target,a=l[i].node.clusterId,s=l[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=n[r]||1)})),h[t].sumTot=e})),a.forEach((function(t,e){var n,i=h[t.clusterId],o=0,a=d[e]/(2*g),s=0;i.nodes.forEach((function(t){var n=l[t.id].idx;s+=f[e][n]||0}));var c=s-i.sumTot*a,v=p[t.id];if(Object.keys(v).forEach((function(r){var i=l[r].node.clusterId;if(i!==t.clusterId){var s=h[i],u=s.nodes;if(u&&u.length){var d=0;u.forEach((function(t){var n=l[t.id].idx;d+=f[e][n]||0}));var p=d-s.sumTot*a-c;p>o&&(o=p,n=s)}}})),o>0){n.nodes.push(t);var y=t.clusterId;t.clusterId=n.id;var m=i.nodes.indexOf(t);i.nodes.splice(m,1);var b=0,x=0;u.forEach((function(t){var e=t.source,i=t.target,o=l[e].node.clusterId,a=l[i].node.clusterId;(o===n.id&&a!==n.id||a===n.id&&o!==n.id)&&(b+=t[r]||1),(o===y&&a!==y||a===y&&o!==y)&&(x+=t[r]||1)})),n.sumTot=b,i.sumTot=x}}));Object.keys(h).forEach((function(t){var e=h[t];e.nodes&&e.nodes.length||delete h[t]})),Object.keys(h).forEach((function(t,e){var n=h[t],r=String(e+1);r!==t&&(n.id=r,n.nodes=n.nodes.map((function(t){return{id:t.id,clusterId:r}})),h[r]=n,delete h[t])}));var b=[],x={};u.forEach((function(t){var e=t.source,n=t.target,i=t[r]||1,o=l[e].node.clusterId,a=l[n].node.clusterId,s=o+"---"+a;if(x[s])x[s].weight+=i,x[s].count++;else{var u={source:o,target:a,weight:i,count:1};x[s]=u,b.push(u)}}));var w=[];return Object.keys(h).forEach((function(t){w.push(h[t])})),{clusters:w,clusterEdges:b}},minimumSpanningTree:function(t,e,n){return n?{prim:E,kruskal:C}[n](t,e):C(t,e)},pageRank:function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,c=void 0===s?[]:s,h=t.edges,l=void 0===h?[]:h,d=c.length,p={},g={},v=0;v<d;++v)p[m=(O=c[v]).id]=1/d,g[m]=1/d;for(var y=f(t);a>0&&i>e;){for(o=0,v=0;v<d;++v){var m=(O=c[v]).id;if(r=0,0===y[O.id].inDegree)p[m]=0;else{for(var b=u(m,l,"source"),x=0;x<b.length;++x){var M=b[x],w=y[M].outDegree;w>0&&(r+=g[M]/w)}p[m]=n*r,o+=p[m]}}for(o=(1-o)/d,i=0,v=0;v<d;++v){var O;r=p[m=(O=c[v]).id]+o,i+=Math.abs(r-g[m]),g[m]=r}a-=1}return g},getNeighbors:u,Stack:U,GADDI:function(t,e,n,r,i,o,s){if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===s&&(s="cluster"),t&&t.nodes){var u=t.nodes.length;if(u){var c=x(t,n),h=x(e,n),l=z(t.nodes,c,n),f=z(e.nodes,h,n),d=Y(t.nodes,o),g=d.nodeMap,v=d.nodeLabelMap,y=Y(e.nodes,o),b=y.nodeMap,M=y.nodeLabelMap;F(t.edges,s,g);var w=F(e.edges,s,b).edgeLabelMap;i||(i=Math.max.apply(Math,p(p([],h[0]),[2]))),r||(r=i);var O=B(t,c,o,r),S=B(e,h,o,r),E=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach((function(t,r){for(var u=0,c=0,h=t.nodeIdxs,l=t.neighborNum-1;u<o;){for(var f=h[1+Math.floor(Math.random()*l)],d=0;(a[r+"-"+f]||a[f+"-"+r])&&(f=Math.floor(Math.random()*e),!(++d>2*e)););if(d<2*e&&(a[r+"-"+f]={start:r,end:f,distance:i[r][f]},u++,++s>=n))return a;if(++c>2*e)break}u<o&&(o=(o+(o-u))/(e-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),S,c),C=R(E,O,t),k=function(t){var e=t.directed,n=void 0!==e&&e,r=t.nodeLabelProp,i=void 0===r?L:r,o=t.edgeLabelProp,a=void 0===o?L:o,s=function(t,e,n,r){var i={};return Object.keys(t).forEach((function(o,a){var s=t[o],u=new j(a,!0,e),c={};s.nodes.forEach((function(t,e){u.addNode(e,t[n]),c[t.id]=e})),s.edges.forEach((function(t,e){var n=c[t.source],i=c[t.target];u.addEdge(-1,n,i,t[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(t.graphs,n,i,a),u=new N({graphs:s,minSupport:t.minSupport,maxNodeNum:t.maxNodeNum,minNodeNum:t.minNodeNum,top:t.top,verbose:t.verbose,directed:n});return u.run(),function(t,e,n){var r=[];return t.forEach((function(t){var i={nodes:[],edges:[]};t.nodes.forEach((function(t){var n;i.nodes.push(((n={id:""+t.id})[e]=t.label,n))})),t.edges.forEach((function(t){var e;i.edges.push(((e={source:""+t.from,target:""+t.to})[n]=t.label,e))})),r.push(i)})),r}(u.frequentSubgraphs,i,a)}({graphs:C,nodeLabelProp:o,edgeLabelProp:s,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),P=k.length,T=[];k.forEach((function(t,e){T[e]={},Object.keys(C).forEach((function(n){var r=C[n],i=X(r,t,o,s);T[e][n]=i}))}));var I=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=Object.keys(n).sort((function(t,e){return n[t]-n[e]})),a=[];o.forEach((function(t,e){a[e%10]||(a[e%10]={graphs:[],totalCount:0,aveCount:0}),a[e%10].graphs.push(t),a[e%10].totalCount+=n[t]}));var s=0,u=[];a.forEach((function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,u.push(e);var r=0,i=t.length;t.graphs.forEach((function(e,i){var o=n[e];t.graphs.forEach((function(t,e){i!==e&&(r+=Math.abs(o-n[t]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var c=0;u.forEach((function(t,e){u.forEach((function(n,r){e!==r&&(c+=Math.abs(t-n))})),c/=u.length*(u.length-1)/2}));var h=c-s;r<h&&(r=h,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(T,P,k),A=I.structure,_=I.structureCountMap,U=e.nodes[0],q=U[o],W=v[q],G={},H={},V={},Z={},Q={};Object.keys(M).forEach((function(n,r){Q[n]=[];var i=-1/0,a=M[n],u={};a.forEach((function(t){var e=f[U.id+"-"+t.id];e&&Q[n].push(e),i<e&&(i=e),u[U.id+"-"+t.id]={start:0,end:b[t.id].idx,distance:e}})),Q[n]=Q[n].sort((function(t,e){return t-e})),H=R(u,S,e,H);var c=[];if(Object.keys(u).forEach((function(t){if(V[t])c.push(V[t]);else{var e=H[t];V[t]=X(e,A,o,s),c.push(V[t])}})),c=c.sort((function(t,e){return e-t})),Z[U.id+"-"+n]=c,n!==q)for(var h=function(e){var r=W[e],i=O[g[r.id].idx],a=i.nodeLabelCountMap[n],u=M[n].length;if(!a||a.count<u)return W.splice(e,1),"continue";for(var h=!1,f=0;f<u;f++)if(a.dists[f]>Q[n][f]){h=!0;break}if(h)return W.splice(e,1),"continue";var d={};i.neighbors.forEach((function(t){var e=l[r.id+"-"+t.id];d[r.id+"-"+t.id]={start:g[r.id].idx,end:g[t.id].idx,distance:e}})),C=R(d,O,t,C);var p=[];Object.keys(d).forEach((function(t){if(_[t])p.push(_[t]);else{var e=C[t];_[t]=X(e,A,o,s),p.push(_[t])}})),p=p.sort((function(t,e){return e-t}));var v=!1;for(f=0;f<u;f++)if(p[f]<c[f]){v=!0;break}return v?(W.splice(e,1),"continue"):void 0},d=W.length-1;d>=0;d--)h(d)}));var K=[];W.forEach((function(n){for(var r=g[n.id].idx,u=D(t.nodes,c[r],r,o,i).neighbors,h=u.length,f=!1,d=function(r){if(u.length+1<e.nodes.length)return f=!0,{value:void 0};var i=u[r],a=i[o];if(!M[a]||!M[a].length)return u.splice(r,1),"continue";var c=n.id+"-"+i.id;if(!Q[a]||!Q[a].length)return u.splice(r,1),"continue";var h=l[c];if(h>Q[a][Q[a].length-1])return u.splice(r,1),"continue";var d=_[c]?_[c]:function(t,e,n,r,i,o,a,s,u,c,h){var l,f=e.id+"-"+n.id;if(c&&c[f])return c[f];var d=h?h[f]:void 0;if(!d){var p=((l={})[f]={start:r[e.id].idx,end:r[n.id].idx,distance:i},l);d=(h=R(p,o,t,h))[f]}return X(d,a,s,u)}(t,n,i,g,h,O,A,o,s,_,C),p=U.id+"-"+a;if(d<Z[p][Z[p].length-1])return u.splice(r,1),"continue";var v=G[a];return void 0===v&&(v=1/0,M[a].forEach((function(t){var e=b[t.id].degree;v>e&&(v=e)})),G[a]=v),g[i.id].degree<v?(u.splice(r,1),"continue"):void 0},p=h-1;p>=0;p--){var v=d(p);if("object"==a(v))return v.value}f||K.push({nodes:[n].concat(u)})}));var $=m(e,U.id,!1).length,J={};n?(Object.keys($).forEach((function(t){var e=b[t].node[o];J[e]?J[e].push($[t]):J[e]=[$[t]]})),Object.keys(J).forEach((function(t){J[t].sort((function(t,e){return t-e}))}))):J=Q;for(var tt=function(r){var i=K[r],a=i.nodes[0],u={},c={};i.nodes.forEach((function(t,e){c[t.id]={idx:e,node:t,degree:0};var n=t[o];u[n]?u[n]++:u[n]=1}));var h=[],l={};t.edges.forEach((function(t){c[t.source]&&c[t.target]&&(h.push(t),l[t[s]]?l[t[s]]++:l[t[s]]=1,c[t.source].degree++,c[t.target].degree++)}));for(var f=Object.keys(w).length,d=!1,p=0;p<f;p++){var v=Object.keys(w)[p];if(!l[v]||l[v]<w[v].length){d=!0;break}}if(d)return K.splice(r,1),"continue";var y=h.length;if(y<e.edges.length)return K.splice(r,1),"break";var x=!1,O=function(t){var e=h[t],r=e[s],i=w[r];if(!i||!i.length)return l[r]--,i&&l[r]<i.length?(x=!0,"break"):(h.splice(t,1),c[e.source].degree--,c[e.target].degree--,"continue");var a=c[e.source].node[o],u=c[e.target].node[o],f=!1;return i.forEach((function(t){var e=b[t.source].node,r=b[t.target].node;e[o]===a&&r[o]===u&&(f=!0),n||e[o]!==u||r[o]!==a||(f=!0)})),f?void 0:(l[r]--,i&&l[r]<i.length?(x=!0,"break"):(h.splice(t,1),c[e.source].degree--,c[e.target].degree--,"continue"))};for(p=y-1;p>=0&&"break"!==O(p);p--);if(x)return K.splice(r,1),"continue";i.edges=h;var S=m(i,i.nodes[0].id,!1).length;if(Object.keys(S).reverse().forEach((function(t){if(t!==i.nodes[0].id&&!x){if(S[t]===1/0){var e=c[t].node[o];if(u[e]--,u[e]<M[e].length)return void(x=!0);var n=i.nodes.indexOf(c[t].node);return i.nodes.splice(n,1),void(c[t]=void 0)}var r=g[t].node[o];if(!J[r]||!J[r].length||S[t]>J[r][J[r].length-1]){if(e=c[t].node[o],u[e]--,u[e]<M[e].length)return void(x=!0);n=i.nodes.indexOf(c[t].node),i.nodes.splice(n,1),c[t]=void 0}}})),x)return K.splice(r,1),"continue";for(var E=!0,C=0;E&&!x;){if(E=!1,c[a.id].degree<b[U.id].degree){x=!0;break}if(u[a[o]]<M[a[o]].length){x=!0;break}for(var k=i.nodes.length-1;k>=0;k--){var P=i.nodes[k],T=c[P.id].degree,j=P[o];if(T<G[j]){if(u[P[o]]--,u[P[o]]<M[P[o]].length){x=!0;break}i.nodes.splice(k,1),c[P.id]=void 0,E=!0}}if(x||!E&&0!==C)break;for(var I=(y=h.length)-1;I>=0;I--){var A=h[I];if(!c[A.source]||!c[A.target]){h.splice(I,1);var _=A[s];if(l[_]--,c[A.source]&&c[A.source].degree--,c[A.target]&&c[A.target].degree--,w[_]&&l[_]<w[_].length){x=!0;break}E=!0}}C++}return x||x||i.nodes.length<e.nodes.length||h.length<e.edges.length?(K.splice(r,1),"continue"):void 0},et=K.length-1;et>=0&&"break"!==tt(et);et--);var nt=K.length,rt=function(t){var e=K[t],n={};e.edges.forEach((function(t){var e=t.source+"-"+t.target+"-"+t.label;n[e]?n[e]++:n[e]=1}));for(var r=function(t){var e=K[t],r={};e.edges.forEach((function(t){var e=t.source+"-"+t.target+"-"+t.label;r[e]?r[e]++:r[e]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(t){r[t]!==n[t]&&(i=!1)})),i&&K.splice(t,1)},i=nt-1;i>t;i--)r(i);nt=K.length};for(et=0;et<=nt-1;et++)rt(et);return K}}},getAdjMatrixAsync:function(t,e){return V("getAdjMatrix").apply(void 0,[t,e])},connectedComponentAsync:function(t,e){return V("connectedComponent").apply(void 0,[t,e])},getDegreeAsync:function(t){return V("getDegree")(t)},getInDegreeAsync:function(t,e){return V("getInDegree")(t,e)},getOutDegreeAsync:function(t,e){return V("getOutDegree")(t,e)},detectCycleAsync:function(t){return V("detectCycle")(t)},dijkstraAsync:function(t,e,n,r){return V("dijkstra").apply(void 0,[t,e,n,r])},findAllPathAsync:function(t,e,n,r){return V("findAllPath").apply(void 0,[t,e,n,r])},findShortestPathAsync:function(t,e,n,r,i){return V("findShortestPath").apply(void 0,[t,e,n,r,i])},floydWarshallAsync:function(t,e){return V("floydWarshall").apply(void 0,[t,e])},labelPropagationAsync:function(t,e,n,r){return void 0===r&&(r=1e3),V("labelPropagation")(t,e,n,r)},louvainAsync:function(t,e,n,r){return V("louvain")(t,e,n,r)},minimumSpanningTreeAsync:function(t,e,n){return V("minimumSpanningTree").apply(void 0,[t,e,n])},pageRankAsync:function(t,e,n){return V("pageRank").apply(void 0,[t,e,n])},getNeighborsAsync:function(t,e,n){return V("getNeighbors").apply(void 0,[t,e,n])},GADDIAsync:function(t,e,n,r,i,o,a){return void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),V("GADDI").apply(void 0,[t,e,n,r,i,o,a])}}}(),r.default}()},"object"==a(e)&&"object"==a(t)?t.exports=o():(r=[],void 0===(i="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=i))}).call(this,n(40)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r;if(!t)return;if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}},,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return i})),n.d(e,"clone",(function(){return o})),n.d(e,"fromValues",(function(){return a})),n.d(e,"copy",(function(){return s})),n.d(e,"set",(function(){return u})),n.d(e,"add",(function(){return c})),n.d(e,"subtract",(function(){return h})),n.d(e,"multiply",(function(){return l})),n.d(e,"divide",(function(){return f})),n.d(e,"ceil",(function(){return d})),n.d(e,"floor",(function(){return p})),n.d(e,"min",(function(){return g})),n.d(e,"max",(function(){return v})),n.d(e,"round",(function(){return y})),n.d(e,"scale",(function(){return m})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return x})),n.d(e,"squaredDistance",(function(){return M})),n.d(e,"length",(function(){return w})),n.d(e,"squaredLength",(function(){return O})),n.d(e,"negate",(function(){return S})),n.d(e,"inverse",(function(){return E})),n.d(e,"normalize",(function(){return C})),n.d(e,"dot",(function(){return k})),n.d(e,"cross",(function(){return P})),n.d(e,"lerp",(function(){return T})),n.d(e,"random",(function(){return j})),n.d(e,"transformMat2",(function(){return I})),n.d(e,"transformMat2d",(function(){return A})),n.d(e,"transformMat3",(function(){return _})),n.d(e,"transformMat4",(function(){return N})),n.d(e,"rotate",(function(){return L})),n.d(e,"angle",(function(){return B})),n.d(e,"zero",(function(){return D})),n.d(e,"str",(function(){return R})),n.d(e,"exactEquals",(function(){return X})),n.d(e,"equals",(function(){return Y})),n.d(e,"len",(function(){return z})),n.d(e,"sub",(function(){return U})),n.d(e,"mul",(function(){return q})),n.d(e,"div",(function(){return W})),n.d(e,"dist",(function(){return G})),n.d(e,"sqrDist",(function(){return H})),n.d(e,"sqrLen",(function(){return V})),n.d(e,"forEach",(function(){return Z}));var r=n(8);function i(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function M(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function O(t){var e=t[0],n=t[1];return e*e+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function C(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]}function P(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function T(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function j(t,e){e=e||1;var n=2*r.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function _(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function L(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function B(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function D(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.b*Math.max(1,Math.abs(i),Math.abs(a))}var F,z=w,U=h,q=l,W=f,G=x,H=M,V=O,Z=(F=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)F[0]=t[a],F[1]=t[a+1],i(F,F,o),t[a]=F[0],t[a+1]=F[1];return t})},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return i})),n.d(e,"clone",(function(){return o})),n.d(e,"fromValues",(function(){return a})),n.d(e,"copy",(function(){return s})),n.d(e,"set",(function(){return u})),n.d(e,"add",(function(){return c})),n.d(e,"subtract",(function(){return h})),n.d(e,"multiply",(function(){return l})),n.d(e,"divide",(function(){return f})),n.d(e,"ceil",(function(){return d})),n.d(e,"floor",(function(){return p})),n.d(e,"min",(function(){return g})),n.d(e,"max",(function(){return v})),n.d(e,"round",(function(){return y})),n.d(e,"scale",(function(){return m})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return x})),n.d(e,"squaredDistance",(function(){return M})),n.d(e,"length",(function(){return w})),n.d(e,"squaredLength",(function(){return O})),n.d(e,"negate",(function(){return S})),n.d(e,"inverse",(function(){return E})),n.d(e,"normalize",(function(){return C})),n.d(e,"dot",(function(){return k})),n.d(e,"cross",(function(){return P})),n.d(e,"lerp",(function(){return T})),n.d(e,"random",(function(){return j})),n.d(e,"transformMat2",(function(){return I})),n.d(e,"transformMat2d",(function(){return A})),n.d(e,"transformMat3",(function(){return _})),n.d(e,"transformMat4",(function(){return N})),n.d(e,"rotate",(function(){return L})),n.d(e,"angle",(function(){return B})),n.d(e,"zero",(function(){return D})),n.d(e,"str",(function(){return R})),n.d(e,"exactEquals",(function(){return X})),n.d(e,"equals",(function(){return Y})),n.d(e,"len",(function(){return z})),n.d(e,"sub",(function(){return U})),n.d(e,"mul",(function(){return q})),n.d(e,"div",(function(){return W})),n.d(e,"dist",(function(){return G})),n.d(e,"sqrDist",(function(){return H})),n.d(e,"sqrLen",(function(){return V})),n.d(e,"forEach",(function(){return Z}));var r=n(12);function i(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new r.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new r.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function M(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function O(t){var e=t[0],n=t[1];return e*e+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function C(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]}function P(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function T(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function j(t,e){e=e||1;var n=2*r.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function I(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function A(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function _(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function L(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function B(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function D(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.b*Math.max(1,Math.abs(i),Math.abs(a))}var F,z=w,U=h,q=l,W=f,G=x,H=M,V=O,Z=(F=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)F[0]=t[a],F[1]=t[a+1],i(F,F,o),t[a]=F[0],t[a+1]=F[1];return t})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(278),o=n(282),a=[].slice,s=["keyword","gray","hex"],u={};Object.keys(o).forEach((function(t){u[a.call(o[t].labels).sort().join("")]=t}));var c={};function h(t,e){if(!(this instanceof h))return new h(t,e);if(e&&e in s&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);var n,r;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof h)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var l=i.get(t);if(null===l)throw new Error("Unable to parse color from string: "+t);this.model=l.model,r=o[this.model].channels,this.color=l.value.slice(0,r),this.valpha="number"==typeof l.value[r]?l.value[r]:1}else if(t.length){this.model=e||"rgb",r=o[this.model].channels;var f=a.call(t,0,r);this.color=p(f,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=d.sort().join("");if(!(g in u))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=u[g];var v=o[this.model].labels,y=[];for(n=0;n<v.length;n++)y.push(t[v[n]]);this.color=p(y)}if(c[this.model])for(r=o[this.model].channels,n=0;n<r;n++){var m=c[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(c[t]||(c[t]=[]))[e]=n})),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function f(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}h.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in i.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return i.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return i.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=o[this.model].channels,n=o[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new h(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new h(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:l("rgb",0,f(255)),green:l("rgb",1,f(255)),blue:l("rgb",2,f(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:l("hsl",1,f(100)),lightness:l("hsl",2,f(100)),saturationv:l("hsv",1,f(100)),value:l("hsv",2,f(100)),chroma:l("hcg",1,f(100)),gray:l("hcg",2,f(100)),white:l("hwb",1,f(100)),wblack:l("hwb",2,f(100)),cyan:l("cmyk",0,f(100)),magenta:l("cmyk",1,f(100)),yellow:l("cmyk",2,f(100)),black:l("cmyk",3,f(100)),x:l("xyz",0,f(100)),y:l("xyz",1,f(100)),z:l("xyz",2,f(100)),l:l("lab",0,f(100)),a:l("lab",1),b:l("lab",2),keyword:function(t){return arguments.length?new h(t):o[this.model].keyword(this.color)},hex:function(t){return arguments.length?new h(t):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return h.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+r(t));var n=t.rgb(),i=this.rgb(),o=void 0===e?.5:e,a=2*o-1,s=n.alpha()-i.alpha(),u=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,c=1-u;return h.rgb(u*n.red()+c*i.red(),u*n.green()+c*i.green(),u*n.blue()+c*i.blue(),n.alpha()*o+i.alpha()*(1-o))}},Object.keys(o).forEach((function(t){if(-1===s.indexOf(t)){var e=o[t].channels;h.prototype[t]=function(){if(this.model===t)return new h(this);if(arguments.length)return new h(arguments,t);var n="number"==typeof arguments[e]?e:this.valpha;return new h(d(o[this.model][t].raw(this.color)).concat(n),t)},h[t]=function(n){return"number"==typeof n&&(n=p(a.call(arguments),e)),new h(n,t)}}})),t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h,l=(h=n(58))&&h.__esModule?h:{default:h},f=n(29),d=n(21);var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){return i(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"attrTest",value:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e}},{key:"process",value:function(t){var e=this.state,n=t.eventType,r=e&(f.STATE_BEGAN|f.STATE_CHANGED),i=this.attrTest(t);return r&&(n&d.INPUT_CANCEL||!i)?e|f.STATE_CANCELLED:r||i?n&d.INPUT_END?e|f.STATE_ENDED:e&f.STATE_BEGAN?e|f.STATE_CHANGED:f.STATE_BEGAN:f.STATE_FAILED}}])&&o(e.prototype,n),r&&o(e,r),c}(l.default);e.default=p,p.prototype.defaults={pointers:1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(29),o=d(n(66)),a=d(n(260)),s=d(n(127)),u=d(n(129)),c=d(n(59)),h=d(n(67)),l=d(n(261)),f=d(n(262));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,o.default)({},this.defaults,e||{}),this.id=(0,a.default)(),this.manager=null,this.options.enable=(0,s.default)(this.options.enable,!0),this.state=i.STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var e,n,d;return e=t,(n=[{key:"set",value:function(t){return(0,o.default)(this.options,t),this.manager&&this.manager.touchAction.update(),this}},{key:"recognizeWith",value:function(t){if((0,u.default)(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=(0,l.default)(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this}},{key:"dropRecognizeWith",value:function(t){return(0,u.default)(t,"dropRecognizeWith",this)||(t=(0,l.default)(t,this),delete this.simultaneous[t.id]),this}},{key:"requireFailure",value:function(t){if((0,u.default)(t,"requireFailure",this))return this;var e=this.requireFail;return t=(0,l.default)(t,this),-1===(0,c.default)(e,t)&&(e.push(t),t.requireFailure(this)),this}},{key:"dropRequireFailure",value:function(t){if((0,u.default)(t,"dropRequireFailure",this))return this;t=(0,l.default)(t,this);var e=(0,c.default)(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this}},{key:"hasRequireFailures",value:function(){return this.requireFail.length>0}},{key:"canRecognizeWith",value:function(t){return!!this.simultaneous[t.id]}},{key:"emit",value:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<i.STATE_ENDED&&r(e.options.event+(0,f.default)(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=i.STATE_ENDED&&r(e.options.event+(0,f.default)(n))}},{key:"tryEmit",value:function(t){if(this.canEmit())return this.emit(t);this.state=i.STATE_FAILED}},{key:"canEmit",value:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(i.STATE_FAILED|i.STATE_POSSIBLE)))return!1;t++}return!0}},{key:"recognize",value:function(t){var e=(0,o.default)({},t);if(!(0,h.default)(this.options.enable,[this,e]))return this.reset(),void(this.state=i.STATE_FAILED);this.state&(i.STATE_RECOGNIZED|i.STATE_CANCELLED|i.STATE_FAILED)&&(this.state=i.STATE_POSSIBLE),this.state=this.process(e),this.state&(i.STATE_BEGAN|i.STATE_CHANGED|i.STATE_ENDED|i.STATE_CANCELLED)&&this.tryEmit(e)}},{key:"process",value:function(t){}},{key:"getTouchAction",value:function(){}},{key:"reset",value:function(){}}])&&r(e.prototype,n),d&&r(e,d),t}();e.default=p,p.prototype.defaults={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}},,,,,,function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n(10),a=n(13),s=new Map;e.registerLayout=function(t,e){if(s.get(t)&&console.warn("The layout with the name "+t+" exists already, it will be overridden"),a.isObject(e)){var n=function(t){function n(n){var r=t.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,e,n),Object.keys(o).forEach((function(t){var e=o[t];i[t]=e})),r}return i(n,t),n}(o.Base);s.set(t,n)}else s.set(t,e)};e.unRegisterLayout=function(t){s.has(t)&&s.delete(t)};e.getLayoutByName=function(t){return s.has(t)?s.get(t):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;e.default=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(r(t)===i.TYPE_FUNCTION)return t.apply(e&&e[0]||void 0,e);return t};var i=n(32)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.trim().split(/\s+/g)}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"leftTranslate",(function(){return k})),n.d(r,"leftRotate",(function(){return P})),n.d(r,"leftScale",(function(){return T})),n.d(r,"transform",(function(){return j})),n.d(r,"direction",(function(){return I})),n.d(r,"angleTo",(function(){return A})),n.d(r,"vertical",(function(){return _}));var i={};n.r(i),n.d(i,"easeLinear",(function(){return G})),n.d(i,"easeQuad",(function(){return Z})),n.d(i,"easeQuadIn",(function(){return H})),n.d(i,"easeQuadOut",(function(){return V})),n.d(i,"easeQuadInOut",(function(){return Z})),n.d(i,"easeCubic",(function(){return $})),n.d(i,"easeCubicIn",(function(){return Q})),n.d(i,"easeCubicOut",(function(){return K})),n.d(i,"easeCubicInOut",(function(){return $})),n.d(i,"easePoly",(function(){return et})),n.d(i,"easePolyIn",(function(){return J})),n.d(i,"easePolyOut",(function(){return tt})),n.d(i,"easePolyInOut",(function(){return et})),n.d(i,"easeSin",(function(){return at})),n.d(i,"easeSinIn",(function(){return it})),n.d(i,"easeSinOut",(function(){return ot})),n.d(i,"easeSinInOut",(function(){return at})),n.d(i,"easeExp",(function(){return ht})),n.d(i,"easeExpIn",(function(){return ut})),n.d(i,"easeExpOut",(function(){return ct})),n.d(i,"easeExpInOut",(function(){return ht})),n.d(i,"easeCircle",(function(){return dt})),n.d(i,"easeCircleIn",(function(){return lt})),n.d(i,"easeCircleOut",(function(){return ft})),n.d(i,"easeCircleInOut",(function(){return dt})),n.d(i,"easeBounce",(function(){return vt})),n.d(i,"easeBounceIn",(function(){return gt})),n.d(i,"easeBounceOut",(function(){return vt})),n.d(i,"easeBounceInOut",(function(){return yt})),n.d(i,"easeBack",(function(){return xt})),n.d(i,"easeBackIn",(function(){return mt})),n.d(i,"easeBackOut",(function(){return bt})),n.d(i,"easeBackInOut",(function(){return xt})),n.d(i,"easeElastic",(function(){return Ot})),n.d(i,"easeElasticIn",(function(){return wt})),n.d(i,"easeElasticOut",(function(){return Ot})),n.d(i,"easeElasticInOut",(function(){return St}));var o={};n.r(o),n.d(o,"distance",(function(){return Ne})),n.d(o,"isNumberEqual",(function(){return Le})),n.d(o,"getBBoxByArray",(function(){return Be})),n.d(o,"getBBoxRange",(function(){return De})),n.d(o,"piMod",(function(){return Re}));var a=n(2),s="\t\n\v\f\r   ᠎             　\u2028\u2029",u=new RegExp("([a-z])["+s+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+s+"]*,?["+s+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+s+"]*,?["+s+"]*","ig"),h=function(t){if(!t)return null;if(Object(a.d)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(u,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(c,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=e[s]&&(n.push([i].concat(a.splice(0,e[s]))),e[s]););return t})),n};var l=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(a.c)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function f(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var d=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(u=1;u<=i;u++){n=t[u-1];for(c=1;c<=o;c++){r=e[c-1],a=l(n,r)?0:1;var h=s[u-1][c].min+1,d=s[u][c-1].min+1,p=s[u-1][c-1].min+a;s[u][c]=f(h,d,p)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var d=i-(r=t.length);if(r<i)for(u=0;u<d;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function p(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=g(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function g(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var v=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=g(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=p(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=p(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=p(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},y=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),m=n(6),b=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function x(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var M="undefined"!=typeof window&&void 0!==window.document;function w(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function O(t){return t.cfg.visible&&t.cfg.capture}var S=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(a.n)(r,e),n}return Object(m.c)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(b),E=n(212),C=n(9);function k(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return C.a.fromTranslation(r,n),C.a.multiply(t,r,e)}function P(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return C.a.fromRotation(r,n),C.a.multiply(t,r,e)}function T(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return C.a.fromScaling(r,n),C.a.multiply(t,r,e)}function j(t,e){for(var n,r,i,o=t?[].concat(t):[1,0,0,0,1,0,0,0,1],a=0,s=e.length;a<s;a++){var u=e[a];switch(u[0]){case"t":k(o,o,[u[1],u[2]]);break;case"s":T(o,o,[u[1],u[2]]);break;case"r":P(o,o,u[1]);break;case"m":n=o,r=o,i=u[1],C.a.multiply(n,i,r)}}return o}function I(t,e){return t[0]*e[1]-e[0]*t[1]}function A(t,e,n){var r=C.b.angle(t,e),i=I(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function _(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function N(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n}function L(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}var B=r.transform,D=["zIndex","capture","visible","type"],R=["repeat"];function X(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Y(t,e){var n={},r=e.attr();return Object(a.c)(t,(function(t,e){-1!==R.indexOf(e)||Object(a.e)(r[e],t)||(n[e]=t)})),n}function F(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return Object(a.c)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&Object(a.c)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var z=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(a.n)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(m.c)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(a.j)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(x(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?N(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?N(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?L(e,t):t},e.prototype.invertFromMatrix=function(t){var e,n,r,i,o,a,s,u,c,h,l,f,d,p,g,v=this.attr("matrix");if(v){var y=(n=[],r=(e=v)[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],(g=r*(f=l*s-u*h)+i*(d=-l*a+u*c)+o*(p=h*a-s*c))?(g=1/g,n[0]=f*g,n[1]=(-l*i+o*h)*g,n[2]=(u*i-o*s)*g,n[3]=d*g,n[4]=(l*r-o*c)*g,n[5]=(-u*r+o*a)*g,n[6]=p*g,n[7]=(-h*r+i*c)*g,n[8]=(s*r-i*a)*g,n):null);if(y)return L(y,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(a.s)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(a.c)(e,(function(t,r){Object(a.d)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(a.d)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(a.c)(D,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,s,u,c,h=t[0],l=t[1],f=t[2],d=void 0===f?"easeLinear":f,p=t[3],g=void 0===p?a.p:p,v=t[4],y=void 0===v?0:v;Object(a.f)(h)?(i=h,h={}):Object(a.j)(h)&&h.onFrame&&(i=h.onFrame,o=h.repeat),Object(a.j)(l)?(l=(c=l).duration,d=c.easing||"easeLinear",y=c.delay||0,o=c.repeat||o||!1,g=c.callback||a.p,s=c.pauseCallback||a.p,u=c.resumeCallback||a.p):(Object(a.h)(g)&&(y=g,g=null),Object(a.f)(d)?(g=d,d="easeLinear"):d=d||"easeLinear");var m=Y(h,this),b={fromAttrs:X(m,this),toAttrs:m,duration:l,easing:d,repeat:o,callback:g,pauseCallback:s,resumeCallback:u,delay:y,startTime:n.getTime(),id:Object(a.r)(),onFrame:i,pathFormatted:!1};r.length>0?r=F(r,b):n.addAnimator(this),r.push(b),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(a.c)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(a.c)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(a.c)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],u=o.get("name");if(u){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&w(o,n))return"break";Object(a.d)(u)?Object(a.c)(u,(function(t){r.emitDelegateEvent(o,t,e)})):s.emitDelegateEvent(o,u,e)}},s=this,u=0;u<i.length;u++){if("break"===o(u))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=B(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=B(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=B(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=B(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=B(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(S),U={};var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m.c)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?(Object(a.c)(s,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(a.m)(i),e=Object(a.l)(i),n=Object(a.m)(o),r=Object(a.l)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?(Object(a.c)(s,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(a.m)(i),e=Object(a.l)(i),n=Object(a.m)(o),r=Object(a.l)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.c)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(a.j)(n)?r=n:r.type=n;var i=U[r.type];i||(i=Object(a.s)(r.type),U[r.type]=i);var o=this.getShapeBase(),s=new o[i](r);return this.add(s),s},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(a.f)(r))n=new r(i||{parent:this});else{var o=r||{},s=this.getGroupBase();n=new s(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!O(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(O(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),x(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.c)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.c)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.c)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(z),W=n(258);function G(t){return+t}function H(t){return t*t}function V(t){return t*(2-t)}function Z(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Q(t){return t*t*t}function K(t){return--t*t*t+1}function $(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var J=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),tt=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),et=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),nt=Math.PI,rt=nt/2;function it(t){return 1==+t?1:1-Math.cos(t*rt)}function ot(t){return Math.sin(t*rt)}function at(t){return(1-Math.cos(nt*t))/2}function st(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function ut(t){return st(1-+t)}function ct(t){return 1-st(t)}function ht(t){return((t*=2)<=1?st(1-t):2-st(t-1))/2}function lt(t){return 1-Math.sqrt(1-t*t)}function ft(t){return Math.sqrt(1- --t*t)}function dt(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var pt=7.5625;function gt(t){return 1-vt(1-t)}function vt(t){return(t=+t)<4/11?pt*t*t:t<8/11?pt*(t-=6/11)*t+3/4:t<10/11?pt*(t-=9/11)*t+15/16:pt*(t-=21/22)*t+63/64}function yt(t){return((t*=2)<=1?1-vt(1-t):vt(t-1)+1)/2}var mt=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),bt=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),xt=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Mt=2*Math.PI,wt=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mt);function i(t){return e*st(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Mt)},i.period=function(n){return t(e,n)},i}(1,.3),Ot=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mt);function i(t){return 1-e*st(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Mt)},i.period=function(n){return t(e,n)},i}(1,.3),St=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mt);function i(t){return((t=2*t-1)<0?e*st(-t)*Math.sin((r-t)/n):2-e*st(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Mt)},i.period=function(n){return t(e,n)},i}(1,.3),Et=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kt(){}var Pt="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",It=/^#([0-9a-f]{3,8})$/,At=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),_t=new RegExp("^rgb\\("+[jt,jt,jt]+"\\)$"),Nt=new RegExp("^rgba\\("+[Pt,Pt,Pt,Tt]+"\\)$"),Lt=new RegExp("^rgba\\("+[jt,jt,jt,Tt]+"\\)$"),Bt=new RegExp("^hsl\\("+[Tt,jt,jt]+"\\)$"),Dt=new RegExp("^hsla\\("+[Tt,jt,jt,Tt]+"\\)$"),Rt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xt(){return this.rgb().formatHex()}function Yt(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=It.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zt(e):3===n?new Gt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ut(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ut(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=At.exec(t))?new Gt(e[1],e[2],e[3],1):(e=_t.exec(t))?new Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Nt.exec(t))?Ut(e[1],e[2],e[3],e[4]):(e=Lt.exec(t))?Ut(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bt.exec(t))?Qt(e[1],e[2]/100,e[3]/100,1):(e=Dt.exec(t))?Qt(e[1],e[2]/100,e[3]/100,e[4]):Rt.hasOwnProperty(t)?zt(Rt[t]):"transparent"===t?new Gt(NaN,NaN,NaN,0):null}function zt(t){return new Gt(t>>16&255,t>>8&255,255&t,1)}function Ut(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gt(t,e,n,r)}function qt(t){return t instanceof kt||(t=Ft(t)),t?new Gt((t=t.rgb()).r,t.g,t.b,t.opacity):new Gt}function Wt(t,e,n,r){return 1===arguments.length?qt(t):new Gt(t,e,n,null==r?1:r)}function Gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ht(){return"#"+Zt(this.r)+Zt(this.g)+Zt(this.b)}function Vt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Zt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $t(t,e,n,r)}function Kt(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Ft(t)),!t)return new $t;if(t instanceof $t)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new $t(a,s,u,t.opacity)}function $t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function te(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Et(kt,Ft,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHsl:function(){return Kt(this).formatHsl()},formatRgb:Yt,toString:Yt}),Et(Gt,Wt,Ct(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatRgb:Vt,toString:Vt})),Et($t,(function(t,e,n,r){return 1===arguments.length?Kt(t):new $t(t,e,n,null==r?1:r)}),Ct(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gt(Jt(t>=240?t-240:t+120,i,r),Jt(t,i,r),Jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ee=function(t){return function(){return t}};function ne(t,e){return function(n){return t+n*e}}function re(t){return 1==(t=+t)?ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ee(isNaN(e)?n:e)}}function ie(t,e){var n=e-t;return n?ne(t,n):ee(isNaN(t)?e:t)}var oe=function t(e){var n=re(e);function r(t,e){var r=n((t=Wt(t)).r,(e=Wt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ie(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ae(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Wt(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ae((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return te((n-r/e)*e,a,i,o,s)}})),ae((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return te((n-r/e)*e,i,o,a,s)}}));var se=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function ue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ce(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=me(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var he=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},le=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var de=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===fe(t)||(t={}),null!==e&&"object"===fe(e)||(e={}),e)n in t?r[n]=me(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ge=new RegExp(pe.source,"g");var ve=function(t,e){var n,r,i,o=pe.lastIndex=ge.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=pe.exec(t))&&(r=ge.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:le(n,r)})),o=ge.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var me=function(t,e){var n,r=ye(e);return null==e||"boolean"===r?ee(e):("number"===r?le:"string"===r?(n=Ft(e))?(e=n,oe):ve:e instanceof Ft?oe:e instanceof Date?he:ue(e)?se:Array.isArray(e)?ce:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?de:le)(t,e)},be=[1,0,0,0,1,0,0,0,1];function xe(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var s=e.duration,u=e.easing;if(n=n-o-e.delay,e.repeat)r=n%s/s,r=i[u](r);else{if(!((r=n/s)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=i[u](r)}if(e.onFrame){var c=e.onFrame(r);t.attr(c)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var s,u,c,l;for(var f in o)if(!Object(a.e)(i[f],o[f]))if("path"===f){var p=o[f],g=i[f];p.length>g.length?(p=h(o[f]),g=h(i[f]),g=d(g,p),g=v(g,p),e.fromAttrs.path=g,e.toAttrs.path=p):e.pathFormatted||(p=h(o[f]),g=h(i[f]),g=v(g,p),e.fromAttrs.path=g,e.toAttrs.path=p,e.pathFormatted=!0),r[f]=[];for(var y=0;y<p.length;y++){for(var m=p[y],b=g[y],x=[],M=0;M<m.length;M++)Object(a.h)(m[M])&&b&&Object(a.h)(b[M])?(s=me(b[M],m[M]),x.push(s(n))):x.push(m[M]);r[f].push(x)}}else if("matrix"===f){var w=(c=i[f]||be,(ue(l=o[f]||be)?se:ce)(c,l))(n);r[f]=w}else["fill","stroke","fillStyle","strokeStyle"].includes(f)&&(u=o[f],/^[r,R,L,l]{1}[\s]*\(/.test(u))?r[f]=o[f]:Object(a.f)(o[f])||(s=me(i[f],o[f]),r[f]=s(n));t.attr(r)}}(t,e,r);return!1}var Me=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=W.a((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],xe(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),we=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Oe(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Se(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&w(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Ee=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(a.c)(we,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(a.c)(we,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new y(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;u>120||c*c+h*h>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,Oe(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Se(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Oe(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Ce=Object(E.a)(),ke=Ce&&"firefox"===Ce.name,Pe=(function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}Object(m.c)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(a.k)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Ee({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Me(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");M&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");M&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(ke&&!Object(a.g)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(a.g)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))}}(q),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(m.c)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e}}(q),function(t){function e(e){return t.call(this,e)||this}Object(m.c)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=L(e,[t.minX,t.minY]),s=L(e,[t.maxX,t.minY]),u=L(e,[t.minX,t.maxY]),c=L(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),i=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),o=Math.max(a[1],s[1],u[1],c[1])}var h=this.attrs;if(h.shadowColor){var l=h.shadowBlur,f=void 0===l?0:l,d=h.shadowOffsetX,p=void 0===d?0:d,g=h.shadowOffsetY,v=void 0===g?0:g,y=n-f+p,m=i+f+p,b=r-f+v,x=o+f+v;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1}}(z),new Map);function Te(t,e){Pe.set(t,e)}var je=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},Ie=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}};function Ae(t){return Math.min.apply(null,t)}function _e(t){return Math.max.apply(null,t)}function Ne(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Le(t,e){return Math.abs(t-e)<.001}function Be(t,e){var n=Ae(t),r=Ae(e);return{x:n,y:r,width:_e(t)-n,height:_e(e)-r}}function De(t,e,n,r){return{minX:Ae([t,n]),maxX:_e([t,n]),minY:Ae([e,r]),maxY:_e([e,r])}}function Re(t){return(t+2*Math.PI)%(2*Math.PI)}n(55);function Xe(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Ye(t,e,n){var r=t+n-2*e;if(Le(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var Fe=function(t,e,n,r,i,o){var a=Ye(t,n,i)[0],s=Ye(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(Xe(t,n,i,a)),void 0!==s&&c.push(Xe(e,r,o,s)),Be(u,c)};function ze(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Ue(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,h=[];if(Le(s,0))Le(u,0)||(i=-c/u)>=0&&i<=1&&h.push(i);else{var l=u*u-4*s*c;Le(l,0)?h.push(-u/(2*s)):l>0&&(o=(-u-(a=Math.sqrt(l)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&h.push(i),o>=0&&o<=1&&h.push(o))}return h}var qe=function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],h=Ue(t,n,i,a),l=Ue(e,r,o,s),f=0;f<h.length;f++)u.push(ze(t,n,i,a,h[f]));for(f=0;f<l.length;f++)c.push(ze(e,r,o,s,l[f]));return Be(u,c)};function We(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Ge(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var He=function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,h=[o,a],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var f=s+l;o<a?o<f&&f<a&&h.push(f):a<f&&f<o&&h.push(f)}for(l=0;l<h.length;l++){var d=We(t,0,n,r,i,h[l]);d<u&&(u=d),d>c&&(c=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var m=p+l;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(l=0;l<y.length;l++){var b=Ge(0,e,n,r,i,y[l]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function Ve(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Ze(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=Ve(e,n.getCanvasBBox())),r&&(e=Ve(e,r.getCanvasBBox())),e}var Qe=null;function Ke(t,e){var n=function(){if(!Qe){var t=document.createElement("canvas");t.width=1,t.height=1,Qe=t.getContext("2d")}return Qe}(),r=0;if(Object(a.g)(t)||""===t)return r;if(n.save(),n.font=e,Object(a.k)(t)&&t.includes("\n")){var i=t.split("\n");Object(a.c)(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}var $e=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Je=/[^\s\,]+/gi;var tn=function(t){var e=t||[];return Object(a.d)(e)?e:Object(a.k)(e)?(e=e.match($e),Object(a.c)(e,(function(t,n){if((t=t.match(Je))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}Object(a.c)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};new RegExp("([a-z])[\t\n\v\f\r   ᠎             　\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*)+)","ig"),new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*","ig");function en(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function nn(t,e){return en(t)*en(e)?(t[0]*e[0]+t[1]*e[1])/(en(t)*en(e)):1}function rn(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(nn(t,e))}function on(t,e){return t[0]===e[0]&&t[1]===e[1]}function an(t,e){var n=e[1],r=e[2],i=Object(a.o)(Object(a.q)(e[3]),2*Math.PI),o=e[4],s=e[5],u=t[0],c=t[1],h=e[6],l=e[7],f=Math.cos(i)*(u-h)/2+Math.sin(i)*(c-l)/2,d=-1*Math.sin(i)*(u-h)/2+Math.cos(i)*(c-l)/2,p=f*f/(n*n)+d*d/(r*r);p>1&&(n*=Math.sqrt(p),r*=Math.sqrt(p));var g=n*n*(d*d)+r*r*(f*f),v=g?Math.sqrt((n*n*(r*r)-g)/g):1;o===s&&(v*=-1),isNaN(v)&&(v=0);var y=r?v*n*d/r:0,m=n?v*-r*f/n:0,b=(u+h)/2+Math.cos(i)*y-Math.sin(i)*m,x=(c+l)/2+Math.sin(i)*y+Math.cos(i)*m,M=[(f-y)/n,(d-m)/r],w=[(-1*f-y)/n,(-1*d-m)/r],O=rn([1,0],M),S=rn(M,w);return nn(M,w)<=-1&&(S=Math.PI),nn(M,w)>=1&&(S=0),0===s&&S>0&&(S-=2*Math.PI),1===s&&S<0&&(S+=2*Math.PI),{cx:b,cy:x,rx:on(t,[h,l])?0:n,ry:on(t,[h,l])?0:r,startAngle:O,endAngle:O+S,xRotation:i,arcFlag:o,sweepFlag:s}}function sn(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function un(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),u=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),c=Math.acos((o+s-u)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!c||0===Math.sin(c)||Object(a.i)(c,0))return{xExtra:0,yExtra:0};var h=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return h=h>Math.PI/2?Math.PI-h:h,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(c/2-h)*(e/2*(1/Math.sin(c/2)))-e/2||0,yExtra:Math.cos(l-c/2)*(e/2*(1/Math.sin(c/2)))-e/2||0}}Te("rect",je),Te("image",je),Te("circle",Ie),Te("marker",Ie),Te("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var a=e[i];n.push(a[0]),r.push(a[1])}var s=o.getBBoxByArray(n,r),u=s.x,c=s.y,h={minX:u,minY:c,maxX:u+s.width,maxY:c+s.height};return{x:(h=Ze(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}})),Te("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var a=e[i];n.push(a[0]),r.push(a[1])}return o.getBBoxByArray(n,r)})),Te("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,s=e.lineHeight,u=e.font;u||(u=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}(e));var c,h=Ke(i,u);if(h){var l=e.textAlign,f=e.textBaseline,d=function(t,e,n){var r=1;return Object(a.k)(t)&&(r=t.split("\n").length),r>1?e*r+function(t,e){return e?e-t:.14*t}(e,n)*(r-1):e}(i,o,s),p={x:n,y:r-d};l&&("end"===l||"right"===l?p.x-=h:"center"===l&&(p.x-=h/2)),f&&("top"===f?p.y+=d:"middle"===f&&(p.y+=d/2)),c={x:p.x,y:p.y,width:h,height:d}}else c={x:n,y:r,width:0,height:0};return c})),Te("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var s=(v=t[o]).currentPoint,u=v.params,c=v.prePoint,h=void 0;switch(v.command){case"Q":h=Fe(c[0],c[1],u[1],u[2],u[3],u[4]);break;case"C":h=qe(c[0],c[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var l=v.arcParams;h=He(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(s[0]),r.push(s[1])}h&&(v.box=h,n.push(h.x,h.x+h.width),r.push(h.y,h.y+h.height)),e&&("L"===v.command||"M"===v.command)&&v.prePoint&&v.nextPoint&&i.push(v)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var f=Object(a.m)(n),d=Object(a.m)(r),p=Object(a.l)(n),g=Object(a.l)(r);if(0===i.length)return{x:f,y:d,width:p-f,height:g-d};for(o=0;o<i.length;o++){var v;(s=(v=i[o]).currentPoint)[0]===f?f-=un(v,e).xExtra:s[0]===p&&(p+=un(v,e).xExtra),s[1]===d?d-=un(v,e).yExtra:s[1]===g&&(g+=un(v,e).yExtra)}return{x:f,y:d,width:p-f,height:g-d}}(t.get("segments")||function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=tn(t)).length,s=0;s<a;s++){var u=t[s];r=t[s+1];var c=u[0],h={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var l=an(n,u);h.arcParams=l}if("Z"===c)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&on(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=d;var p=h.prePoint;if(["L","H","V"].includes(c))h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=sn((m=e[s-1]).currentPoint,p);"Q"===m.command?(h.command="Q",h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]):(h.command="TL",h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],y=[u[3],u[4]];h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]}else if("S"===c){var m;v=sn((m=e[s-1]).currentPoint,p),y=[u[1],u[2]];"C"===m.command?(h.command="C",h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]):(h.command="SQ",h.startTangent=[p[0]-y[0],p[1]-y[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var b=.001,x=h.arcParams||{},M=x.cx,w=void 0===M?0:M,O=x.cy,S=void 0===O?0:O,E=x.rx,C=void 0===E?0:E,k=x.ry,P=void 0===k?0:k,T=x.sweepFlag,j=void 0===T?0:T,I=x.startAngle,A=void 0===I?0:I,_=x.endAngle,N=void 0===_?0:_;0===j&&(b*=-1);var L=C*Math.cos(A-b)+w,B=P*Math.sin(A-b)+S;h.startTangent=[L-i[0],B-i[1]];var D=C*Math.cos(A+N+b)+w,R=P*Math.sin(A+N-b)+S;h.endTangent=[p[0]-D,p[1]-R]}e.push(h)}return e}(n),r),o=i.x,s=i.y,u={minX:o,minY:s,maxX:o+i.width,maxY:s+i.height};return{x:(u=Ze(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}})),Te("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Ze(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),Te("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},function(t,e,n){"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(91),o=n(7),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(o.i)(r,e),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=null;function i(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},function(t,e,n){"use strict";var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(93),a=n(7),s={};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?(Object(a.a)(u,(function(t){var e=t.getBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(i.q)(o),e=Object(i.p)(o),n=Object(i.q)(s),r=Object(i.p)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return u.length>0?(Object(a.a)(u,(function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(i.q)(o),e=Object(i.p)(o),n=Object(i.q)(s),r=Object(i.p)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(a.f)(n)?r=n:r.type=n;var i=s[r.type];i||(i=Object(a.k)(r.type),s[r.type]=i);var o=this.getShapeBase(),u=new o[i](r);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(a.d)(r))n=new r(i||{parent:this});else{var o=r||{},s=this.getGroupBase();n=new s(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(a.b)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var s=t[o];if(Object(a.b)(s)&&(s.isGroup()?i=s.getShape(e,n,r):s.isHit(e,n)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(a.j)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.a)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.a)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(o.a);e.a=u},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(5),a=n(7),s=n(24),u=n(89),c=o.a.transform,h=["zIndex","capture","visible","type"],l=["repeat"];function f(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function d(t,e){var n={},r=e.attr();return Object(i.c)(t,(function(t,e){-1!==l.indexOf(e)||Object(i.h)(r[e],t)||(n[e]=t)})),n}function p(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(i.c)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&o>t.delay&&Object(i.c)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var g=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(i.r)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if(!r)return this.attrs;if(Object(i.m)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,o),this.afterAttrsChange(((t={})[r]=o,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(a.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(s.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(s.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(s.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(s.a)(e);if(n)return Object(s.c)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(i.w)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(i.c)(e,(function(t,r){Object(i.f)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(i.f)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(i.c)(h,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,a,s,u,c,h=t[0],l=t[1],g=t[2],v=void 0===g?"easeLinear":g,y=t[3],m=void 0===y?i.t:y,b=t[4],x=void 0===b?0:b;Object(i.i)(h)?(o=h,h={}):Object(i.m)(h)&&h.onFrame&&(o=h.onFrame,a=h.repeat),Object(i.m)(l)?(l=(c=l).duration,v=c.easing||"easeLinear",x=c.delay||0,a=c.repeat||a||!1,m=c.callback||i.t,s=c.pauseCallback||i.t,u=c.resumeCallback||i.t):(Object(i.k)(m)&&(x=m,m=null),Object(i.i)(v)?(m=v,v="easeLinear"):v=v||"easeLinear");var M=d(h,this),w={fromAttrs:f(M,this),toAttrs:M,duration:l,easing:v,repeat:a,callback:m,pauseCallback:s,resumeCallback:u,delay:x,startTime:n.getTime(),id:Object(i.v)(),onFrame:o,pathFormatted:!1};r.length>0?r=p(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(i.c)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(i.c)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(i.c)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=o[t],c=s.get("name");if(c){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&Object(a.g)(s,n))return"break";Object(i.f)(c)?Object(i.c)(c,(function(t){r.emitDelegateEvent(s,t,e)})):u.emitDelegateEvent(s,c,e)}},u=this,c=0;c<o.length;c++){if("break"===s(c))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=c(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=c(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=c(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=c(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(u.a);e.a=g},function(t,e,n){"use strict";n.d(e,"b",(function(){return Fu}));var r={};n.r(r),n.d(r,"catmullRomToBezier",(function(){return w})),n.d(r,"fillPath",(function(){return q})),n.d(r,"fillPathByDiff",(function(){return H})),n.d(r,"formatPath",(function(){return Q})),n.d(r,"intersection",(function(){return F})),n.d(r,"parsePathArray",(function(){return j})),n.d(r,"parsePathString",(function(){return M})),n.d(r,"pathToAbsolute",(function(){return S})),n.d(r,"pathToCurve",(function(){return P})),n.d(r,"rectPath",(function(){return B}));var i={};n.r(i),n.d(i,"create",(function(){return ct})),n.d(i,"fromMat4",(function(){return ht})),n.d(i,"clone",(function(){return lt})),n.d(i,"copy",(function(){return ft})),n.d(i,"fromValues",(function(){return dt})),n.d(i,"set",(function(){return pt})),n.d(i,"identity",(function(){return gt})),n.d(i,"transpose",(function(){return vt})),n.d(i,"invert",(function(){return yt})),n.d(i,"adjoint",(function(){return mt})),n.d(i,"determinant",(function(){return bt})),n.d(i,"multiply",(function(){return xt})),n.d(i,"translate",(function(){return Mt})),n.d(i,"rotate",(function(){return wt})),n.d(i,"scale",(function(){return Ot})),n.d(i,"fromTranslation",(function(){return St})),n.d(i,"fromRotation",(function(){return Et})),n.d(i,"fromScaling",(function(){return Ct})),n.d(i,"fromMat2d",(function(){return kt})),n.d(i,"fromQuat",(function(){return Pt})),n.d(i,"normalFromMat4",(function(){return Tt})),n.d(i,"projection",(function(){return jt})),n.d(i,"str",(function(){return It})),n.d(i,"frob",(function(){return At})),n.d(i,"add",(function(){return _t})),n.d(i,"subtract",(function(){return Nt})),n.d(i,"multiplyScalar",(function(){return Lt})),n.d(i,"multiplyScalarAndAdd",(function(){return Bt})),n.d(i,"exactEquals",(function(){return Dt})),n.d(i,"equals",(function(){return Rt})),n.d(i,"mul",(function(){return Xt})),n.d(i,"sub",(function(){return Yt}));var o={};n.r(o),n.d(o,"create",(function(){return Ft})),n.d(o,"clone",(function(){return zt})),n.d(o,"fromValues",(function(){return Ut})),n.d(o,"copy",(function(){return qt})),n.d(o,"set",(function(){return Wt})),n.d(o,"add",(function(){return Gt})),n.d(o,"subtract",(function(){return Ht})),n.d(o,"multiply",(function(){return Vt})),n.d(o,"divide",(function(){return Zt})),n.d(o,"ceil",(function(){return Qt})),n.d(o,"floor",(function(){return Kt})),n.d(o,"min",(function(){return $t})),n.d(o,"max",(function(){return Jt})),n.d(o,"round",(function(){return te})),n.d(o,"scale",(function(){return ee})),n.d(o,"scaleAndAdd",(function(){return ne})),n.d(o,"distance",(function(){return re})),n.d(o,"squaredDistance",(function(){return ie})),n.d(o,"length",(function(){return oe})),n.d(o,"squaredLength",(function(){return ae})),n.d(o,"negate",(function(){return se})),n.d(o,"inverse",(function(){return ue})),n.d(o,"normalize",(function(){return ce})),n.d(o,"dot",(function(){return he})),n.d(o,"cross",(function(){return le})),n.d(o,"lerp",(function(){return fe})),n.d(o,"random",(function(){return de})),n.d(o,"transformMat2",(function(){return pe})),n.d(o,"transformMat2d",(function(){return ge})),n.d(o,"transformMat3",(function(){return ve})),n.d(o,"transformMat4",(function(){return ye})),n.d(o,"rotate",(function(){return me})),n.d(o,"angle",(function(){return be})),n.d(o,"zero",(function(){return xe})),n.d(o,"str",(function(){return Me})),n.d(o,"exactEquals",(function(){return we})),n.d(o,"equals",(function(){return Oe})),n.d(o,"len",(function(){return Ee})),n.d(o,"sub",(function(){return Ce})),n.d(o,"mul",(function(){return ke})),n.d(o,"div",(function(){return Pe})),n.d(o,"dist",(function(){return Te})),n.d(o,"sqrDist",(function(){return je})),n.d(o,"sqrLen",(function(){return Ie})),n.d(o,"forEach",(function(){return Ae}));var a={};n.r(a),n.d(a,"leftTranslate",(function(){return _e})),n.d(a,"leftRotate",(function(){return Ne})),n.d(a,"leftScale",(function(){return Le})),n.d(a,"transform",(function(){return Be})),n.d(a,"direction",(function(){return De})),n.d(a,"angleTo",(function(){return Re})),n.d(a,"vertical",(function(){return Xe}));var s={};n.r(s),n.d(s,"easeLinear",(function(){return yn})),n.d(s,"easeQuad",(function(){return xn})),n.d(s,"easeQuadIn",(function(){return mn})),n.d(s,"easeQuadOut",(function(){return bn})),n.d(s,"easeQuadInOut",(function(){return xn})),n.d(s,"easeCubic",(function(){return On})),n.d(s,"easeCubicIn",(function(){return Mn})),n.d(s,"easeCubicOut",(function(){return wn})),n.d(s,"easeCubicInOut",(function(){return On})),n.d(s,"easePoly",(function(){return Cn})),n.d(s,"easePolyIn",(function(){return Sn})),n.d(s,"easePolyOut",(function(){return En})),n.d(s,"easePolyInOut",(function(){return Cn})),n.d(s,"easeSin",(function(){return In})),n.d(s,"easeSinIn",(function(){return Tn})),n.d(s,"easeSinOut",(function(){return jn})),n.d(s,"easeSinInOut",(function(){return In})),n.d(s,"easeExp",(function(){return Ln})),n.d(s,"easeExpIn",(function(){return _n})),n.d(s,"easeExpOut",(function(){return Nn})),n.d(s,"easeExpInOut",(function(){return Ln})),n.d(s,"easeCircle",(function(){return Rn})),n.d(s,"easeCircleIn",(function(){return Bn})),n.d(s,"easeCircleOut",(function(){return Dn})),n.d(s,"easeCircleInOut",(function(){return Rn})),n.d(s,"easeBounce",(function(){return Yn})),n.d(s,"easeBounceIn",(function(){return Xn})),n.d(s,"easeBounceOut",(function(){return Yn})),n.d(s,"easeBounceInOut",(function(){return Fn})),n.d(s,"easeBack",(function(){return qn})),n.d(s,"easeBackIn",(function(){return zn})),n.d(s,"easeBackOut",(function(){return Un})),n.d(s,"easeBackInOut",(function(){return qn})),n.d(s,"easeElastic",(function(){return Hn})),n.d(s,"easeElasticIn",(function(){return Gn})),n.d(s,"easeElasticOut",(function(){return Hn})),n.d(s,"easeElasticInOut",(function(){return Vn}));var u={};n.r(u),n.d(u,"distance",(function(){return vi})),n.d(u,"isNumberEqual",(function(){return yi})),n.d(u,"getBBoxByArray",(function(){return mi})),n.d(u,"getBBoxRange",(function(){return bi})),n.d(u,"piMod",(function(){return xi}));var c={};n.r(c),n.d(c,"create",(function(){return Ea})),n.d(c,"fromMat4",(function(){return Ca})),n.d(c,"clone",(function(){return ka})),n.d(c,"copy",(function(){return Pa})),n.d(c,"fromValues",(function(){return Ta})),n.d(c,"set",(function(){return ja})),n.d(c,"identity",(function(){return Ia})),n.d(c,"transpose",(function(){return Aa})),n.d(c,"invert",(function(){return _a})),n.d(c,"adjoint",(function(){return Na})),n.d(c,"determinant",(function(){return La})),n.d(c,"multiply",(function(){return Ba})),n.d(c,"translate",(function(){return Da})),n.d(c,"rotate",(function(){return Ra})),n.d(c,"scale",(function(){return Xa})),n.d(c,"fromTranslation",(function(){return Ya})),n.d(c,"fromRotation",(function(){return Fa})),n.d(c,"fromScaling",(function(){return za})),n.d(c,"fromMat2d",(function(){return Ua})),n.d(c,"fromQuat",(function(){return qa})),n.d(c,"normalFromMat4",(function(){return Wa})),n.d(c,"projection",(function(){return Ga})),n.d(c,"str",(function(){return Ha})),n.d(c,"frob",(function(){return Va})),n.d(c,"add",(function(){return Za})),n.d(c,"subtract",(function(){return Qa})),n.d(c,"multiplyScalar",(function(){return Ka})),n.d(c,"multiplyScalarAndAdd",(function(){return $a})),n.d(c,"exactEquals",(function(){return Ja})),n.d(c,"equals",(function(){return ts})),n.d(c,"mul",(function(){return es})),n.d(c,"sub",(function(){return ns}));var h={};n.r(h),n.d(h,"create",(function(){return rs})),n.d(h,"clone",(function(){return is})),n.d(h,"fromValues",(function(){return os})),n.d(h,"copy",(function(){return as})),n.d(h,"set",(function(){return ss})),n.d(h,"add",(function(){return us})),n.d(h,"subtract",(function(){return cs})),n.d(h,"multiply",(function(){return hs})),n.d(h,"divide",(function(){return ls})),n.d(h,"ceil",(function(){return fs})),n.d(h,"floor",(function(){return ds})),n.d(h,"min",(function(){return ps})),n.d(h,"max",(function(){return gs})),n.d(h,"round",(function(){return vs})),n.d(h,"scale",(function(){return ys})),n.d(h,"scaleAndAdd",(function(){return ms})),n.d(h,"distance",(function(){return bs})),n.d(h,"squaredDistance",(function(){return xs})),n.d(h,"length",(function(){return Ms})),n.d(h,"squaredLength",(function(){return ws})),n.d(h,"negate",(function(){return Os})),n.d(h,"inverse",(function(){return Ss})),n.d(h,"normalize",(function(){return Es})),n.d(h,"dot",(function(){return Cs})),n.d(h,"cross",(function(){return ks})),n.d(h,"lerp",(function(){return Ps})),n.d(h,"random",(function(){return Ts})),n.d(h,"transformMat2",(function(){return js})),n.d(h,"transformMat2d",(function(){return Is})),n.d(h,"transformMat3",(function(){return As})),n.d(h,"transformMat4",(function(){return _s})),n.d(h,"rotate",(function(){return Ns})),n.d(h,"angle",(function(){return Ls})),n.d(h,"zero",(function(){return Bs})),n.d(h,"str",(function(){return Ds})),n.d(h,"exactEquals",(function(){return Rs})),n.d(h,"equals",(function(){return Xs})),n.d(h,"len",(function(){return Ys})),n.d(h,"sub",(function(){return Fs})),n.d(h,"mul",(function(){return zs})),n.d(h,"div",(function(){return Us})),n.d(h,"dist",(function(){return qs})),n.d(h,"sqrDist",(function(){return Ws})),n.d(h,"sqrLen",(function(){return Gs})),n.d(h,"forEach",(function(){return Hs}));var l={};n.r(l),n.d(l,"leftTranslate",(function(){return Vs})),n.d(l,"leftRotate",(function(){return Zs})),n.d(l,"leftScale",(function(){return Qs})),n.d(l,"transform",(function(){return Ks})),n.d(l,"direction",(function(){return $s})),n.d(l,"angleTo",(function(){return Js})),n.d(l,"vertical",(function(){return tu}));var f={};n.r(f),n.d(f,"Base",(function(){return Qo})),n.d(f,"Circle",(function(){return Ko})),n.d(f,"Ellipse",(function(){return Jo})),n.d(f,"Image",(function(){return ea})),n.d(f,"Line",(function(){return ra})),n.d(f,"Marker",(function(){return ba})),n.d(f,"Path",(function(){return au})),n.d(f,"Polygon",(function(){return uu})),n.d(f,"Polyline",(function(){return cu})),n.d(f,"Rect",(function(){return hu})),n.d(f,"Text",(function(){return lu}));var d=n(6);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var y=n(4),m="\t\n\v\f\r   ᠎             　\u2028\u2029",b=new RegExp("([a-z])["+m+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+m+"]*,?["+m+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+m+"]*,?["+m+"]*","ig"),M=function(t){if(!t)return null;if(Object(y.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(b,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(x,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=e[s]&&(n.push([i].concat(a.splice(0,e[s]))),e[s]););return t})),n},w=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},O=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},S=function(t){if(!(t=M(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],u++,r[0]=["M",i,o]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=void 0,l=void 0,f=u,d=t.length;f<d;f++){if(r.push(h=[]),(e=(l=t[f])[0])!==e.toUpperCase())switch(h[0]=e.toUpperCase(),h[0]){case"A":h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=+l[6]+i,h[7]=+l[7]+o;break;case"V":h[1]=+l[1]+o;break;case"H":h[1]=+l[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(l.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(w(n,c));break;case"O":r.pop(),(n=O(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(O(i,o,l[1],l[2],l[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+l[1]+i,s=+l[2]+o;break;default:for(p=1,g=l.length;p<g;p++)h[p]=+l[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(l.slice(1)),r.pop(),r=r.concat(w(n,c)),h=["R"].concat(l.slice(-2));else if("O"===e)r.pop(),(n=O(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(O(i,o,l[1],l[2],l[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,y=l.length;v<y;v++)h[v]=l[v];if("O"!==(e=e.toUpperCase()))switch(h[0]){case"Z":i=+a,o=+s;break;case"H":i=h[1];break;case"V":o=h[1];break;case"M":a=h[h.length-2],s=h[h.length-1];break;default:i=h[h.length-2],o=h[h.length-1]}}return r},E=function(t,e,n,r){return[t,e,n,r,n,r]},C=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},k=function(t,e,n,r,i,o,a,s,u,c){n===r&&(n+=1);var h,l,f,d,p,g=120*Math.PI/180,v=Math.PI/180*(+i||0),y=[],m=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)l=c[0],f=c[1],d=c[2],p=c[3];else{t=(h=m(t,e,-v)).x,e=h.y,s=(h=m(s,u,-v)).x,u=h.y,t===s&&e===u&&(s+=1,u+=1);var b=(t-s)/2,x=(e-u)/2,M=b*b/(n*n)+x*x/(r*r);M>1&&(n*=M=Math.sqrt(M),r*=M);var w=n*n,O=r*r,S=(o===a?-1:1)*Math.sqrt(Math.abs((w*O-w*x*x-O*b*b)/(w*x*x+O*b*b)));d=S*n*x/r+(t+s)/2,p=S*-r*b/n+(e+u)/2,l=Math.asin(((e-p)/r).toFixed(9)),f=Math.asin(((u-p)/r).toFixed(9)),l=t<d?Math.PI-l:l,f=s<d?Math.PI-f:f,l<0&&(l=2*Math.PI+l),f<0&&(f=2*Math.PI+f),a&&l>f&&(l-=2*Math.PI),!a&&f>l&&(f-=2*Math.PI)}var E=f-l;if(Math.abs(E)>g){var C=f,P=s,T=u;f=l+g*(a&&f>l?1:-1),s=d+n*Math.cos(f),u=p+r*Math.sin(f),y=k(s,u,n,r,i,0,a,P,T,[f,C,d,p])}E=f-l;var j=Math.cos(l),I=Math.sin(l),A=Math.cos(f),_=Math.sin(f),N=Math.tan(E/4),L=4/3*n*N,B=4/3*r*N,D=[t,e],R=[t+L*I,e-B*j],X=[s+L*_,u-B*A],Y=[s,u];if(R[0]=2*D[0]-R[0],R[1]=2*D[1]-R[1],c)return[R,X,Y].concat(y);for(var F=[],z=0,U=(y=[R,X,Y].concat(y).join().split(",")).length;z<U;z++)F[z]=z%2?m(y[z-1],y[z],v).y:m(y[z],y[z+1],v).x;return F},P=function(t,e){var n,r=S(t),i=e&&S(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",h="",l=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(k.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(C(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(C(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(E(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(E(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(E(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(E(e.x,e.y,e.X,e.Y))}return t},f=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},d=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(h=s[p-1])),r[p]=l(r[p],o,h),"A"!==s[p]&&"C"===c&&(s[p]="C"),f(r,p),i&&(i[p]&&(c=i[p][0]),"C"!==c&&(u[p]=c,p&&(h=u[p-1])),i[p]=l(i[p],a,h),"A"!==u[p]&&"C"===c&&(u[p]="C"),f(i,p)),d(r,i,o,a,p),d(i,r,a,o,p);var g=r[p],v=i&&i[p],y=g.length,m=i&&v.length;o.x=g[y-2],o.y=g[y-1],o.bx=parseFloat(g[y-4])||o.x,o.by=parseFloat(g[y-3])||o.y,a.bx=i&&(parseFloat(v[m-4])||a.x),a.by=i&&(parseFloat(v[m-3])||a.y),a.x=i&&v[m-2],a.y=i&&v[m-1]}return i?[r,i]:r},T=/,?([a-z]),?/gi,j=function(t){return t.join(",").replace(T,"$1")},I=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},A=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=c*h[d]+c,g=I(p,t,n,i,a),v=I(p,e,r,o,s),y=g*g+v*v;f+=l[d]*Math.sqrt(y)}return c*f},_=function(t,e,n,r,i,o,a,s){for(var u,c,h,l,f=[],d=[[],[]],p=0;p<2;++p)if(0===p?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,h=3*n-3*t):(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,h=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(l=-h/c)>0&&l<1&&f.push(l)}else{var g=c*c-4*h*u,v=Math.sqrt(g);if(!(g<0)){var y=(-c+v)/(2*u);y>0&&y<1&&f.push(y);var m=(-c-v)/(2*u);m>0&&m<1&&f.push(m)}}for(var b,x=f.length,M=x;x--;)b=1-(l=f[x]),d[0][x]=b*b*b*t+3*b*b*l*n+3*b*l*l*i+l*l*l*a,d[1][x]=b*b*b*e+3*b*b*l*r+3*b*l*l*o+l*l*l*s;return d[0][M]=t,d[1][M]=e,d[0][M+1]=a,d[1][M+1]=s,d[0].length=d[1].length=M+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},N=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,h=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,l=+c.toFixed(2),f=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},L=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},B=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=j,o},D=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:B(t,e,n,r),vb:[t,e,n,r].join(" ")}},R=function(t,e,n,r,i,o,a,s){Object(y.isArray)(t)||(t=[t,e,n,r,i,o,a,s]);var u=_.apply(null,t);return D(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},X=function(t,e,n,r,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(o-2*r+e),v=n+2*u*(i-n)+f*(a-2*i+n),y=r+2*u*(o-r)+f*(s-2*o+r);return{x:h*t+3*l*u*n+3*c*u*u*i+d*a,y:h*e+3*l*u*r+3*c*u*u*o+d*s,m:{x:p,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}},Y=function(t,e,n){if(!function(t,e){return t=D(t),e=D(e),L(e,t.x,t.y)||L(e,t.x2,t.y)||L(e,t.x,t.y2)||L(e,t.x2,t.y2)||L(t,e.x,e.y)||L(t,e.x2,e.y)||L(t,e.x,e.y2)||L(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(R(t),R(e)))return n?0:[];for(var r=~~(A.apply(0,t)/8),i=~~(A.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var h=X.apply(0,t.concat(c/r));o.push({x:h.x,y:h.y,t:c/r})}for(c=0;c<i+1;c++){h=X.apply(0,e.concat(c/i));a.push({x:h.x,y:h.y,t:c/i})}for(c=0;c<r;c++)for(var l=0;l<i;l++){var f=o[c],d=o[c+1],p=a[l],g=a[l+1],v=Math.abs(d.x-f.x)<.001?"y":"x",y=Math.abs(g.x-p.x)<.001?"y":"x",m=N(f.x,f.y,d.x,d.y,p.x,p.y,g.x,g.y);if(m){if(s[m.x.toFixed(4)]===m.y.toFixed(4))continue;s[m.x.toFixed(4)]=m.y.toFixed(4);var b=f.t+Math.abs((m[v]-f[v])/(d[v]-f[v]))*(d.t-f.t),x=p.t+Math.abs((m[y]-p[y])/(g[y]-p[y]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:m.x,y:m.y,t1:b,t2:x}))}}return u},F=function(t,e){return function(t,e,n){var r,i,o,a,s,u,c,h,l,f;t=P(t),e=P(e);for(var d=n?0:[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(l=[r,i].concat(v.slice(1)),r=l[6],i=l[7]):(l=[r,i,r,i,s,u,s,u],r=s,i=u);for(var y=0,m=e.length;y<m;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=h=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,c,h,c,h],o=c,a=h);var x=Y(l,f,n);if(n)d+=x;else{for(var M=0,w=x.length;M<w;M++)x[M].segment1=p,x[M].segment2=y,x[M].bez1=l,x[M].bez2=f;d=d.concat(x)}}}}}return d}(t,e)};function z(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var U=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=z(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},q=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(U(t[i],t[i+1],r))}),[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u},W=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(y.each)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function G(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var H=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(u=1;u<=i;u++){n=t[u-1];for(c=1;c<=o;c++){r=e[c-1],a=W(n,r)?0:1;var h=s[u-1][c].min+1,l=s[u][c-1].min+1,f=s[u-1][c-1].min+a;s[u][c]=G(h,l,f)}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var h=a;h<=i;h++)n[u][h].min<c&&(c=n[u][h].min,s=h);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var l=i-(r=t.length);if(r<i)for(u=0;u<l;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function V(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=Z(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function Z(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var Q=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=Z(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=V(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},K=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var $=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;var tt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function et(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var nt="undefined"!=typeof window&&void 0!==window.document;function rt(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function it(t){return t.cfg.visible&&t.cfg.capture}var ot=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(y.mix)(r,e),n}return J(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(tt),at=n(213),st="undefined"!=typeof Float32Array?Float32Array:Array,ut=Math.random;Math.PI;function ct(){var t=new st(9);return st!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ht(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function lt(t){var e=new st(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function dt(t,e,n,r,i,o,a,s,u){var c=new st(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function pt(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function gt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function vt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function yt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function bt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function xt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function Mt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t}function wt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t}function Ot(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function St(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Et(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ct(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t}function Tt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,M=r*u-i*s,w=r*c-o*s,O=i*c-o*u,S=h*g-l*p,E=h*v-f*p,C=h*y-d*p,k=l*v-f*g,P=l*y-d*g,T=f*y-d*v,j=m*T-b*P+x*k+M*C-w*E+O*S;return j?(j=1/j,t[0]=(s*T-u*P+c*k)*j,t[1]=(u*C-a*T-c*E)*j,t[2]=(a*P-s*C+c*S)*j,t[3]=(i*P-r*T-o*k)*j,t[4]=(n*T-i*C+o*E)*j,t[5]=(r*C-n*P-o*S)*j,t[6]=(g*O-v*w+y*M)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*w-g*x+y*m)*j,t):null}function jt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function It(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function At(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function _t(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Nt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Bt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Rt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-l)<=1e-6*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=1e-6*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=1e-6*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=1e-6*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=1e-6*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=1e-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=1e-6*Math.max(1,Math.abs(h),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Xt=xt,Yt=Nt;function Ft(){var t=new st(2);return st!=Float32Array&&(t[0]=0,t[1]=0),t}function zt(t){var e=new st(2);return e[0]=t[0],e[1]=t[1],e}function Ut(t,e){var n=new st(2);return n[0]=t,n[1]=e,n}function qt(t,e){return t[0]=e[0],t[1]=e[1],t}function Wt(t,e,n){return t[0]=e,t[1]=n,t}function Gt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Ht(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Vt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Zt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Qt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Kt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function $t(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Jt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function te(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ee(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ne(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function re(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function ie(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function oe(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function ae(t){var e=t[0],n=t[1];return e*e+n*n}function se(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ue(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ce(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function he(t,e){return t[0]*e[0]+t[1]*e[1]}function le(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function fe(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function de(t,e){e=e||1;var n=2*ut()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function pe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function ge(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function ve(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function ye(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function me(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function be(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function xe(t){return t[0]=0,t[1]=0,t}function Me(t){return"vec2("+t[0]+", "+t[1]+")"}function we(t,e){return t[0]===e[0]&&t[1]===e[1]}function Oe(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var Se,Ee=oe,Ce=Ht,ke=Vt,Pe=Zt,Te=re,je=ie,Ie=ae,Ae=(Se=Ft(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)Se[0]=t[a],Se[1]=t[a+1],i(Se,Se,o),t[a]=Se[0],t[a+1]=Se[1];return t});function _e(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromTranslation(r,n),i.multiply(t,r,e)}function Ne(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromRotation(r,n),i.multiply(t,r,e)}function Le(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.fromScaling(r,n),i.multiply(t,r,e)}function Be(t,e){for(var n,r,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,u=e.length;s<u;s++){var c=e[s];switch(c[0]){case"t":_e(a,a,[c[1],c[2]]);break;case"s":Le(a,a,[c[1],c[2]]);break;case"r":Ne(a,a,c[1]);break;case"m":n=a,r=a,o=c[1],i.multiply(n,o,r)}}return a}function De(t,e){return t[0]*e[1]-e[0]*t[1]}function Re(t,e,n){var r=o.angle(t,e),i=De(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function Xe(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function Ye(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*h,n[2]=f*o+d*u+p*l,n[3]=g*r+v*a+y*c,n[4]=g*i+v*s+y*h,n[5]=g*o+v*u+y*l,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*h,n[8]=m*o+b*u+x*l,n}function Fe(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function ze(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-h*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(h*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}var Ue=a.transform,qe=["zIndex","capture","visible","type"],We=["repeat"];function Ge(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function He(t,e){var n={},r=e.attr();return Object(y.each)(t,(function(t,e){-1!==We.indexOf(e)||Object(y.isEqual)(r[e],t)||(n[e]=t)})),n}function Ve(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return Object(y.each)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&Object(y.each)(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Ze=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(y.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return J(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(Object(y.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange(((t={})[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(et(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Ye(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Ye(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Fe(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=ze(e);if(n)return Fe(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(y.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(y.each)(e,(function(t,r){Object(y.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(y.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return Object(y.each)(qe,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,c=t[0],h=t[1],l=t[2],f=void 0===l?"easeLinear":l,d=t[3],p=void 0===d?y.noop:d,g=t[4],v=void 0===g?0:g;Object(y.isFunction)(c)?(i=c,c={}):Object(y.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(y.isObject)(h)?(h=(u=h).duration,f=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||y.noop,a=u.pauseCallback||y.noop,s=u.resumeCallback||y.noop):(Object(y.isNumber)(p)&&(v=p,p=null),Object(y.isFunction)(f)?(p=f,f="easeLinear"):f=f||"easeLinear");var m=He(c,this),b={fromAttrs:Ge(m,this),toAttrs:m,duration:h,easing:f,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(y.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=Ve(r,b):n.addAnimator(this),r.push(b),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(y.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(y.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(y.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&rt(o,n))return"break";Object(y.isArray)(s)?Object(y.each)(s,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,s,e)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=Ue(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=Ue(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=Ue(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=Ue(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=Ue(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(ot),Qe={};var Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Object(y.each)(a,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(y.min)(i),e=Object(y.max)(i),n=Object(y.min)(o),r=Object(y.max)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(Object(y.each)(a,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Object(y.min)(i),e=Object(y.max)(i),n=Object(y.min)(o),r=Object(y.max)(o)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(y.each)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(y.isObject)(n)?r=n:r.type=n;var i=Qe[r.type];i||(i=Object(y.upperFirst)(r.type),Qe[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(y.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!it(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(it(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),et(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach((function(e){t(e,n)}))}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(y.each)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(y.each)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(y.each)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Ze);function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je,tn,en=0,nn=0,rn=0,on=0,an=0,sn=0,un="object"===("undefined"==typeof performance?"undefined":$e(performance))&&performance.now?performance:Date,cn="object"===("undefined"==typeof window?"undefined":$e(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hn(){return an||(cn(ln),an=un.now()+sn)}function ln(){an=0}function fn(){this._call=this._time=this._next=null}function dn(t,e,n){var r=new fn;return r.restart(t,e,n),r}function pn(){an=(on=un.now())+sn,en=nn=0;try{!function(){hn(),++en;for(var t,e=Je;e;)(t=an-e._time)>=0&&e._call.call(null,t),e=e._next;--en}()}finally{en=0,function(){var t,e,n=Je,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Je=e);tn=t,vn(r)}(),an=0}}function gn(){var t=un.now(),e=t-on;e>1e3&&(sn-=e,on=t)}function vn(t){en||(nn&&(nn=clearTimeout(nn)),t-an>24?(t<1/0&&(nn=setTimeout(pn,t-un.now()-sn)),rn&&(rn=clearInterval(rn))):(rn||(on=un.now(),rn=setInterval(gn,1e3)),en=1,cn(pn)))}function yn(t){return+t}function mn(t){return t*t}function bn(t){return t*(2-t)}function xn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Mn(t){return t*t*t}function wn(t){return--t*t*t+1}function On(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}fn.prototype=dn.prototype={constructor:fn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?hn():+n)+(null==e?0:+e),this._next||tn===this||(tn?tn._next=this:Je=this,tn=this),this._call=t,this._time=n,vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,vn())}};var Sn=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),En=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Cn=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),kn=Math.PI,Pn=kn/2;function Tn(t){return 1==+t?1:1-Math.cos(t*Pn)}function jn(t){return Math.sin(t*Pn)}function In(t){return(1-Math.cos(kn*t))/2}function An(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function _n(t){return An(1-+t)}function Nn(t){return 1-An(t)}function Ln(t){return((t*=2)<=1?An(1-t):2-An(t-1))/2}function Bn(t){return 1-Math.sqrt(1-t*t)}function Dn(t){return Math.sqrt(1- --t*t)}function Rn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Xn(t){return 1-Yn(1-t)}function Yn(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function Fn(t){return((t*=2)<=1?1-Yn(1-t):Yn(t-1)+1)/2}var zn=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),Un=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),qn=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Wn=2*Math.PI,Gn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wn);function i(t){return e*An(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Wn)},i.period=function(n){return t(e,n)},i}(1,.3),Hn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wn);function i(t){return 1-e*An(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Wn)},i.period=function(n){return t(e,n)},i}(1,.3),Vn=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wn);function i(t){return((t=2*t-1)<0?e*An(-t)*Math.sin((r-t)/n):2-e*An(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Wn)},i.period=function(n){return t(e,n)},i}(1,.3),Zn=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Qn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kn(){}var $n="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",er=/^#([0-9a-f]{3,8})$/,nr=new RegExp("^rgb\\("+[$n,$n,$n]+"\\)$"),rr=new RegExp("^rgb\\("+[tr,tr,tr]+"\\)$"),ir=new RegExp("^rgba\\("+[$n,$n,$n,Jn]+"\\)$"),or=new RegExp("^rgba\\("+[tr,tr,tr,Jn]+"\\)$"),ar=new RegExp("^hsl\\("+[Jn,tr,tr]+"\\)$"),sr=new RegExp("^hsla\\("+[Jn,tr,tr,Jn]+"\\)$"),ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cr(){return this.rgb().formatHex()}function hr(){return this.rgb().formatRgb()}function lr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=er.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fr(e):3===n?new vr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?dr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?dr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nr.exec(t))?new vr(e[1],e[2],e[3],1):(e=rr.exec(t))?new vr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ir.exec(t))?dr(e[1],e[2],e[3],e[4]):(e=or.exec(t))?dr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ar.exec(t))?xr(e[1],e[2]/100,e[3]/100,1):(e=sr.exec(t))?xr(e[1],e[2]/100,e[3]/100,e[4]):ur.hasOwnProperty(t)?fr(ur[t]):"transparent"===t?new vr(NaN,NaN,NaN,0):null}function fr(t){return new vr(t>>16&255,t>>8&255,255&t,1)}function dr(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function pr(t){return t instanceof Kn||(t=lr(t)),t?new vr((t=t.rgb()).r,t.g,t.b,t.opacity):new vr}function gr(t,e,n,r){return 1===arguments.length?pr(t):new vr(t,e,n,null==r?1:r)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function yr(){return"#"+br(this.r)+br(this.g)+br(this.b)}function mr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function br(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wr(t,e,n,r)}function Mr(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);if(t instanceof Kn||(t=lr(t)),!t)return new wr;if(t instanceof wr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new wr(a,s,u,t.opacity)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Or(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Sr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Zn(Kn,lr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:cr,formatHex:cr,formatHsl:function(){return Mr(this).formatHsl()},formatRgb:hr,toString:hr}),Zn(vr,gr,Qn(Kn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yr,formatHex:yr,formatRgb:mr,toString:mr})),Zn(wr,(function(t,e,n,r){return 1===arguments.length?Mr(t):new wr(t,e,n,null==r?1:r)}),Qn(Kn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Or(t>=240?t-240:t+120,i,r),Or(t,i,r),Or(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Er=function(t){return function(){return t}};function Cr(t,e){return function(n){return t+n*e}}function kr(t){return 1==(t=+t)?Pr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Er(isNaN(e)?n:e)}}function Pr(t,e){var n=e-t;return n?Cr(t,n):Er(isNaN(t)?e:t)}var Tr=function t(e){var n=kr(e);function r(t,e){var r=n((t=gr(t)).r,(e=gr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Pr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function jr(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=gr(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}jr((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Sr((n-r/e)*e,a,i,o,s)}})),jr((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Sr((n-r/e)*e,i,o,a,s)}}));var Ir=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Ar(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _r(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=zr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var Nr=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Lr=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dr=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Br(t)||(t={}),null!==e&&"object"===Br(e)||(e={}),e)n in t?r[n]=zr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xr=new RegExp(Rr.source,"g");var Yr=function(t,e){var n,r,i,o=Rr.lastIndex=Xr.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Rr.exec(t))&&(r=Xr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Lr(n,r)})),o=Xr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function Fr(t){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var zr=function(t,e){var n,r=Fr(e);return null==e||"boolean"===r?Er(e):("number"===r?Lr:"string"===r?(n=lr(e))?(e=n,Tr):Yr:e instanceof lr?Tr:e instanceof Date?Nr:Ar(e)?Ir:Array.isArray(e)?_r:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Dr:Lr)(t,e)},Ur=[1,0,0,0,1,0,0,0,1];function qr(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var o=e.duration,a=e.easing;if(n=n-i-e.delay,e.repeat)r=n%o/o,r=s[a](r);else{if(!((r=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=s[a](r)}if(e.onFrame){var u=e.onFrame(r);t.attr(u)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,u,c;for(var h in o)if(!Object(y.isEqual)(i[h],o[h]))if("path"===h){var l=o[h],f=i[h];l.length>f.length?(l=M(o[h]),f=M(i[h]),f=H(f,l),f=Q(f,l),e.fromAttrs.path=f,e.toAttrs.path=l):e.pathFormatted||(l=M(o[h]),f=M(i[h]),f=Q(f,l),e.fromAttrs.path=f,e.toAttrs.path=l,e.pathFormatted=!0),r[h]=[];for(var d=0;d<l.length;d++){for(var p=l[d],g=f[d],v=[],m=0;m<p.length;m++)Object(y.isNumber)(p[m])&&g&&Object(y.isNumber)(g[m])?(a=zr(g[m],p[m]),v.push(a(n))):v.push(p[m]);r[h].push(v)}}else if("matrix"===h){var b=(u=i[h]||Ur,(Ar(c=o[h]||Ur)?Ir:_r)(u,c))(n);r[h]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(h)&&(s=o[h],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[h]=o[h]:Object(y.isFunction)(o[h])||(a=zr(i[h],o[h]),r[h]=a(n));t.attr(r)}}(t,e,r);return!1}var Wr=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=dn((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],qr(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Gr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Hr(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Vr(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&rt(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Zr=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(y.each)(Gr,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(y.each)(Gr,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new K(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;u>120||c*c+h*h>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,Hr(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Vr(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Hr(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Qr=Object(at.a)(),Kr=Qr&&"firefox"===Qr.name,$r=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return J(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(y.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Zr({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Wr(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");nt&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");nt&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Kr&&!Object(y.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(y.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Ke),Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Ke),ti=function(t){function e(e){return t.call(this,e)||this}return J(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=Fe(e,[t.minX,t.minY]),s=Fe(e,[t.maxX,t.minY]),u=Fe(e,[t.minX,t.maxY]),c=Fe(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),i=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),o=Math.max(a[1],s[1],u[1],c[1])}var h=this.attrs;if(h.shadowColor){var l=h.shadowBlur,f=void 0===l?0:l,d=h.shadowOffsetX,p=void 0===d?0:d,g=h.shadowOffsetY,v=void 0===g?0:g,y=n-f+p,m=i+f+p,b=r-f+v,x=o+f+v;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Ze),ei=new Map;function ni(t,e){ei.set(t,e)}var ri=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},ii=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}},oi={}.toString,ai=function(t,e){return oi.call(t)==="[object "+e+"]"},si=function(t){return ai(t,"Function")},ui=function(t){return Array.isArray?Array.isArray(t):ai(t,"Array")};function ci(t){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var hi=function(t){var e=ci(t);return null!==t&&"object"===e||"function"===e};var li=function(t,e){if(t)if(ui(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(hi(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var fi=function(t){if(ui(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},di=function(t){if(ui(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},pi=Array.prototype;pi.splice,pi.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var gi=function(t){return ai(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function vi(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function yi(t,e){return Math.abs(t-e)<.001}function mi(t,e){var n=di(t),r=di(e);return{x:n,y:r,width:fi(t)-n,height:fi(e)-r}}function bi(t,e,n,r){return{minX:di([t,n]),maxX:fi([t,n]),minY:di([e,r]),maxY:fi([e,r])}}function xi(t){return(t+2*Math.PI)%(2*Math.PI)}var Mi="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});!function(){var t,e=(t=new Mi(2),Mi!=Float32Array&&(t[0]=0,t[1]=0),t)}();var wi={box:function(t,e,n,r){return mi([t,n],[e,r])},length:function(t,e,n,r){return vi(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);return a<0?vi(t,e,i,o):a>(n-t)*(n-t)+(r-e)*(r-e)?vi(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(function(t,e){return t[0]===e[0]&&t[1]===e[1]}(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];!function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i}(s,s);var u=[i-t,o-e];return Math.abs(function(t,e){return t[0]*e[0]+t[1]*e[1]}(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function Oi(t,e,n,r,i,o){var a,s=1/0,u=[n,r],c=20;o&&o>200&&(c=o/10);for(var h=1/c,l=h/10,f=0;f<=c;f++){var d=f*h,p=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))];(m=vi(u[0],u[1],p[0],p[1]))<s&&(a=d,s=m)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(f=0;f<32&&!(l<1e-4);f++){var v=a-l,y=a+l,m=(p=[i.apply(null,t.concat([v])),i.apply(null,e.concat([v]))],vi(u[0],u[1],p[0],p[1]));if(v>=0&&m<s)a=v,s=m;else{var b=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],x=vi(u[0],u[1],b[0],b[1]);y<=1&&x<s?(a=y,s=x):l*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function Si(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Ei(t,e,n){var r=t+n-2*e;if(yi(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ci(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function ki(t,e,n,r,i,o,a){var s=Si(t,n,i,a),u=Si(e,r,o,a),c=wi.pointAt(t,e,n,r,a),h=wi.pointAt(n,r,i,o,a);return[[t,e,c.x,c.y,s,u],[s,u,h.x,h.y,i,o]]}var Pi={box:function(t,e,n,r,i,o){var a=Ei(t,n,i)[0],s=Ei(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(Si(t,n,i,a)),void 0!==s&&c.push(Si(e,r,o,s)),mi(u,c)},length:function(t,e,n,r,i,o){return function t(e,n,r,i,o,a,s){if(0===s)return(vi(e,n,r,i)+vi(r,i,o,a)+vi(e,n,o,a))/2;var u=ki(e,n,r,i,o,a,.5),c=u[0],h=u[1];return c.push(s-1),h.push(s-1),t.apply(null,c)+t.apply(null,h)}(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return Oi([t,n,i],[e,r,o],a,s,Si)},pointDistance:function(t,e,n,r,i,o,a,s){var u=this.nearestPoint(t,e,n,r,i,o,a,s);return vi(u.x,u.y,a,s)},interpolationAt:Si,pointAt:function(t,e,n,r,i,o,a){return{x:Si(t,n,i,a),y:Si(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return ki(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=Ci(t,n,i,a),u=Ci(e,r,o,a);return xi(Math.atan2(u,s))}};function Ti(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function ji(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Ii(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,h=[];if(yi(s,0))yi(u,0)||(i=-c/u)>=0&&i<=1&&h.push(i);else{var l=u*u-4*s*c;yi(l,0)?h.push(-u/(2*s)):l>0&&(o=(-u-(a=Math.sqrt(l)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&h.push(i),o>=0&&o<=1&&h.push(o))}return h}function Ai(t,e,n,r,i,o,a,s,u){var c=Ti(t,n,i,a,u),h=Ti(e,r,o,s,u),l=wi.pointAt(t,e,n,r,u),f=wi.pointAt(n,r,i,o,u),d=wi.pointAt(i,o,a,s,u),p=wi.pointAt(l.x,l.y,f.x,f.y,u),g=wi.pointAt(f.x,f.y,d.x,d.y,u);return[[t,e,l.x,l.y,p.x,p.y,c,h],[c,h,g.x,g.y,d.x,d.y,a,s]]}function _i(t,e,n,r,i,o,a,s,u){if(0===u)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++){n+=vi(t[i],e[i],t[(i+1)%r],e[(i+1)%r])}return n/2}([t,n,i,a],[e,r,o,s]);var c=Ai(t,e,n,r,i,o,a,s,.5),h=c[0],l=c[1];return h.push(u-1),l.push(u-1),_i.apply(null,h)+_i.apply(null,l)}var Ni={extrema:Ii,box:function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],h=Ii(t,n,i,a),l=Ii(e,r,o,s),f=0;f<h.length;f++)u.push(Ti(t,n,i,a,h[f]));for(f=0;f<l.length;f++)c.push(Ti(e,r,o,s,l[f]));return mi(u,c)},length:function(t,e,n,r,i,o,a,s){return _i(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,c,h){return Oi([t,n,i,a],[e,r,o,s],u,c,Ti,h)},pointDistance:function(t,e,n,r,i,o,a,s,u,c,h){var l=this.nearestPoint(t,e,n,r,i,o,a,s,u,c,h);return vi(l.x,l.y,u,c)},interpolationAt:Ti,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:Ti(t,n,i,a,u),y:Ti(e,r,o,s,u)}},divide:function(t,e,n,r,i,o,a,s,u){return Ai(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,i,o,a,s,u){var c=ji(t,n,i,a,u),h=ji(e,r,o,s,u);return xi(Math.atan2(h,c))}};function Li(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Bi(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var Di=function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,h=[o,a],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var f=s+l;o<a?o<f&&f<a&&h.push(f):a<f&&f<o&&h.push(f)}for(l=0;l<h.length;l++){var d=Li(t,0,n,r,i,h[l]);d<u&&(u=d),d>c&&(c=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var m=p+l;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(l=0;l<y.length;l++){var b=Bi(0,e,n,r,i,y[l]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function Ri(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=vi(r[0],r[1],i[0],i[1])}return e}var Xi=function(t){return Ri(t)};function Yi(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Fi(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=Yi(e,n.getCanvasBBox())),r&&(e=Yi(e,r.getCanvasBBox())),e}var zi=null;function Ui(t,e,n){var r=1;return Object(y.isString)(t)&&(r=t.split("\n").length),r>1?e*r+function(t,e){return e?e-t:.14*t}(e,n)*(r-1):e}function qi(t,e){var n=function(){if(!zi){var t=document.createElement("canvas");t.width=1,t.height=1,zi=t.getContext("2d")}return zi}(),r=0;if(Object(y.isNil)(t)||""===t)return r;if(n.save(),n.font=e,Object(y.isString)(t)&&t.includes("\n")){var i=t.split("\n");Object(y.each)(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function Wi(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}var Gi=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Hi=/[^\s\,]+/gi;var Vi=function(t){var e=t||[];return Object(y.isArray)(e)?e:Object(y.isString)(e)?(e=e.match(Gi),Object(y.each)(e,(function(t,n){if((t=t.match(Hi))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}Object(y.each)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};new RegExp("([a-z])[\t\n\v\f\r   ᠎             　\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*)+)","ig"),new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*","ig");function Zi(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Qi(t,e){return Zi(t)*Zi(e)?(t[0]*e[0]+t[1]*e[1])/(Zi(t)*Zi(e)):1}function Ki(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Qi(t,e))}function $i(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ji(t,e){var n=e[1],r=e[2],i=Object(y.mod)(Object(y.toRadian)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,m=n?g*-r*l/n:0,b=(s+c)/2+Math.cos(i)*v-Math.sin(i)*m,x=(u+h)/2+Math.sin(i)*v+Math.cos(i)*m,M=[(l-v)/n,(f-m)/r],w=[(-1*l-v)/n,(-1*f-m)/r],O=Ki([1,0],M),S=Ki(M,w);return Qi(M,w)<=-1&&(S=Math.PI),Qi(M,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:b,cy:x,rx:$i(t,[c,h])?0:n,ry:$i(t,[c,h])?0:r,startAngle:O,endAngle:O+S,xRotation:i,arcFlag:o,sweepFlag:a}}function to(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function eo(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(y.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),h=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,h=h>Math.PI/2?Math.PI-h:h,{xExtra:Math.cos(u/2-c)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(h-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}ni("rect",ri),ni("image",ri),ni("circle",ii),ni("marker",ii),ni("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=u.getBBoxByArray(n,r),s=a.x,c=a.y,h={minX:s,minY:c,maxX:s+a.width,maxY:c+a.height};return{x:(h=Fi(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}})),ni("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return u.getBBoxByArray(n,r)})),ni("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Wi(e));var u,c=qi(i,s);if(c){var h=e.textAlign,l=e.textBaseline,f=Ui(i,o,a),d={x:n,y:r-f};h&&("end"===h||"right"===h?d.x-=c:"center"===h&&(d.x-=c/2)),l&&("top"===l?d.y+=f:"middle"===l&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u})),ni("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=Pi.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=Ni.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=g.arcParams;c=Di(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var l=Object(y.min)(n),f=Object(y.min)(r),d=Object(y.max)(n),p=Object(y.max)(r);if(0===i.length)return{x:l,y:f,width:d-l,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===l?l-=eo(g,e).xExtra:a[0]===d&&(d+=eo(g,e).xExtra),a[1]===f?f-=eo(g,e).yExtra:a[1]===p&&(p+=eo(g,e).yExtra)}return{x:l,y:f,width:d-l,height:p-f}}(t.get("segments")||function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=Vi(t)).length,s=0;s<a;s++){var u=t[s];r=t[s+1];var c=u[0],h={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var l=Ji(n,u);h.arcParams=l}if("Z"===c)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&$i(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=d;var p=h.prePoint;if(["L","H","V"].includes(c))h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=to((m=e[s-1]).currentPoint,p);"Q"===m.command?(h.command="Q",h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]):(h.command="TL",h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],y=[u[3],u[4]];h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]}else if("S"===c){var m;v=to((m=e[s-1]).currentPoint,p),y=[u[1],u[2]];"C"===m.command?(h.command="C",h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]):(h.command="SQ",h.startTangent=[p[0]-y[0],p[1]-y[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var b=.001,x=h.arcParams||{},M=x.cx,w=void 0===M?0:M,O=x.cy,S=void 0===O?0:O,E=x.rx,C=void 0===E?0:E,k=x.ry,P=void 0===k?0:k,T=x.sweepFlag,j=void 0===T?0:T,I=x.startAngle,A=void 0===I?0:I,_=x.endAngle,N=void 0===_?0:_;0===j&&(b*=-1);var L=C*Math.cos(A-b)+w,B=P*Math.sin(A-b)+S;h.startTangent=[L-i[0],B-i[1]];var D=C*Math.cos(A+N+b)+w,R=P*Math.sin(A+N-b)+S;h.endTangent=[p[0]-D,p[1]-R]}e.push(h)}return e}(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Fi(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),ni("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Fi(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),ni("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var no={}.toString,ro=function(t,e){return no.call(t)==="[object "+e+"]"},io=function(t){return ro(t,"Function")},oo=function(t){return null==t},ao=function(t){return Array.isArray?Array.isArray(t):ro(t,"Array")};function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var uo=function(t){var e=so(t);return null!==t&&"object"===e||"function"===e};var co=function(t,e){if(t)if(ao(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(uo(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var ho=Array.prototype,lo=(ho.splice,ho.indexOf,Array.prototype.splice,function(t){return ro(t,"String")});Object.prototype.hasOwnProperty;var fo=function(t){return ro(t,"Number")};Number.isInteger&&Number.isInteger;var po=function(t,e){return(t%e+e)%e},go=(Math.PI,parseInt,Math.PI/180),vo=function(t){return go*t};Object.values;Object.prototype;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function yo(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function mo(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function bo(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function xo(t,e){return t[0]===e[0]&&t[1]===e[1]}var Mo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,wo=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Oo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,So=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Eo(t,e){var n=t.match(So);co(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Co(t,e,n){if(lo(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,o=Mo.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var c=Math.tan(a),h=c*c,l=(i.x-r.x+c*(i.y-r.y))/(h+1)+r.x,f=c*(i.x-r.x+c*(i.y-r.y))/(h+1)+r.y,d=t.createLinearGradient(r.x,r.y,l,f);return Eo(s,d),d}(t,e,n);if("r"===n[0])return function(t,e,n){var r=wo.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(So);return u[u.length-1].split(":")[1]}var c=e.getBBox(),h=c.maxX-c.minX,l=c.maxY-c.minY,f=Math.sqrt(h*h+l*l)/2,d=t.createRadialGradient(c.minX+h*i,c.minY+l*o,0,c.minX+h/2,c.minY+l/2,a*f);return Eo(s,d),d}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=Oo.exec(n),a=o[1],s=o[2];function u(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(t,e,n)}return n}}function ko(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Po(t,e){return ko(t)*ko(e)?(t[0]*e[0]+t[1]*e[1])/(ko(t)*ko(e)):1}function To(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Po(t,e))}function jo(t,e){var n=e[1],r=e[2],i=po(vo(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*l/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+h)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(l-v)/n,(f-y)/r],M=[(-1*l-v)/n,(-1*f-y)/r],w=To([1,0],x),O=To(x,M);return Po(x,M)<=-1&&(O=Math.PI),Po(x,M)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:xo(t,[c,h])?0:n,ry:xo(t,[c,h])?0:r,startAngle:w,endAngle:w+O,xRotation:i,arcFlag:o,sweepFlag:a}}var Io=Math.sin,Ao=Math.cos,_o=Math.atan2,No=Math.PI;function Lo(t,e,n,r,i,o,a){var s=e.stroke,u=e.lineWidth,c=_o(r-o,n-i),h=new au({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Ao(No/6)+","+10*Io(No/6)+" L0,0 L"+10*Ao(No/6)+",-"+10*Io(No/6),stroke:s,lineWidth:u}});h.translate(i,o),h.rotateAtPoint(i,o,c),t.set(a?"startArrowShape":"endArrowShape",h)}function Bo(t,e,n,r,i,o,a){var s=e.startArrow,u=e.endArrow,c=e.stroke,h=e.lineWidth,l=a?s:u,f=l.d,d=l.fill,p=l.stroke,g=l.lineWidth,y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(l,["d","fill","stroke","lineWidth"]),m=_o(r-o,n-i);f&&(i-=Ao(m)*f,o-=Io(m)*f);var b=new au({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:v(v({},y),{stroke:p||c,lineWidth:g||h,fill:d})});b.translate(i,o),b.rotateAtPoint(i,o,m),t.set(a?"startArrowShape":"endArrowShape",b)}function Do(t,e,n,r,i){var o=_o(r-e,n-t);return{dx:Ao(o)*i,dy:Io(o)*i}}function Ro(t,e,n,r,i,o){"object"==typeof e.startArrow?Bo(t,e,n,r,i,o,!0):e.startArrow?Lo(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function Xo(t,e,n,r,i,o){"object"==typeof e.endArrow?Bo(t,e,n,r,i,o,!1):e.endArrow?Lo(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var Yo={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Fo(t,e){var n=e.attr();for(var r in n){var i=n[r],o=Yo[r]?Yo[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?ao(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Co(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function zo(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function Uo(t,e,n){var r=t.get("refreshElements");co(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?qo(e,n):function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&qo(i.cfg.children,n);else if(i.cfg.refresh)i.isGroup()&&t(i.cfg.children,n);else{var o=Wo(i,n);i.cfg.refresh=o,o&&i.isGroup()&&t(i.cfg.children,n)}}}(e,n)}function qo(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&qo(r.get("children"),e)}}function Wo(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&bo(n,e)}function Go(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],c={dx:0,dy:0};e.beginPath();for(var h=0;h<i.length;h++){var l=i[h],f=l[0];if(0===h&&o&&o.d)c=Do((d=t.getStartTangent())[0][0],d[0][1],d[1][0],d[1][1],o.d);else if(h===i.length-2&&"Z"===i[h+1][0]&&a&&a.d){if("Z"===i[h+1][0])c=Do((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}else if(h===i.length-1&&a&&a.d){var d;if("Z"!==i[0])c=Do((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}var p=c.dx,g=c.dy;switch(f){case"M":e.moveTo(l[1]-p,l[2]-g),u=[l[1],l[2]];break;case"L":e.lineTo(l[1]-p,l[2]-g);break;case"Q":e.quadraticCurveTo(l[1],l[2],l[3]-p,l[4]-g);break;case"C":e.bezierCurveTo(l[1],l[2],l[3],l[4],l[5]-p,l[6]-g);break;case"A":var v=void 0;r?(v=r[h])||(v=jo(s,l),r[h]=v):v=jo(s,l);var y=v.cx,m=v.cy,b=v.rx,x=v.ry,M=v.startAngle,w=v.endAngle,O=v.xRotation,S=v.sweepFlag;if(e.ellipse)e.ellipse(y,m,b,x,O,M,w,1-S);else{var E=b>x?b:x,C=b>x?1:b/x,k=b>x?x/b:1;e.translate(y,m),e.rotate(O),e.scale(C,k),e.arc(0,0,E,M,w,1-S),e.scale(1/C,1/k),e.rotate(-O),e.translate(-y,-m)}break;case"Z":e.closePath()}if("Z"===f)s=u;else{var P=l.length;s=[l[P-2],l[P-1]]}}}}function Ho(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Vo(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=t.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?e=i:s&&(e=a)}return e}var Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.onCanvasChange=function(t){Ho(this,t)},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Fo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];co(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=Math.min.apply(null,e),o=Math.max.apply(null,e),a=Math.min.apply(null,n),s=Math.max.apply(null,n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var c=u.getViewRange();this.set("isInView",bo(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Fo(t,this),this._applyClip(t,this.getClip()),zo(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Jr),Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Zo},e.prototype.onCanvasChange=function(t){Ho(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=function(t){return ei.get(t)}(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Fo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!bo(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Fo(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=bo(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(oo(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(oo(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(ti),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,h=yo(a,s,t,e);return r&&n?h<=u+c:r?h<=u:!!n&&(h>=u-c&&h<=u+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Qo);function $o(t,e,n,r){return t/(n*n)+e/(r*r)}var Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,h=o.ry,l=(t-s)*(t-s),f=(e-u)*(e-u);return r&&n?$o(l,f,c+a,h+a)<=1:r?$o(l,f,c,h)<=1:!!n&&($o(l,f,c-a,h-a)>=1&&$o(l,f,c+a,h+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Qo);function ta(t){return t instanceof HTMLElement&&lo(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(lo(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):ta(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,u=e.swidth,c=e.sheight,h=e.img;(h instanceof Image||ta(h))&&(oo(a)||oo(s)||oo(u)||oo(c)?t.drawImage(h,n,r,i,o):t.drawImage(h,a,s,u,c,n,r,i,o))},e}(Qo);function na(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),c=Math.min(e,r),h=Math.max(e,r),l=i/2;return o>=s-l&&o<=u+l&&a>=c-l&&a<=h+l&&wi.pointToLine(t,e,n,r,o,a)<=i/2}var ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&Ro(this,t,r,i,e,n),a&&Xo(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return na(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=Do(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=Do(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return wi.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return wi.pointAt(n,r,i,o,t)},e}(Qo),ia=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,oa=/[^\s\,]+/gi;var aa=function(t){var e=t||[];return ao(e)?e:lo(e)?(e=e.match(ia),co(e,(function(t,n){if((t=t.match(oa))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}co(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0};var sa=new RegExp("([a-z])[\t\n\v\f\r   ᠎             　\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*)+)","ig"),ua=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r   ᠎             　\u2028\u2029]*,?[\t\n\v\f\r   ᠎             　\u2028\u2029]*","ig");var ca=/[a-z]/;function ha(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function la(t){var e=function(t){if(!t)return null;if(ao(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(sa,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(ua,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(ca.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,u=0,c=0,h=0,l=e[0];"M"!==l[0]&&"m"!==l[0]||(u=a=+l[1],c=s=+l[2],h++,o[0]=["M",a,s]);r=h;for(var f=e.length;r<f;r++){var d=e[r],p=o[r-1],g=[],v=(i=d[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=d[1],g[2]=d[2],g[3]=d[3],g[4]=d[4],g[5]=d[5],g[6]=+d[6]+a,g[7]=+d[7]+s;break;case"V":g[1]=+d[1]+s;break;case"H":g[1]=+d[1]+a;break;case"M":u=+d[1]+a,c=+d[2]+s;break;default:for(var y=1,m=d.length;y<m;y++)g[y]=+d[y]+(y%2?a:s)}else g=e[r];switch(v){case"Z":a=+u,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=ha([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,M=ha([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",M[0],M[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}function fa(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function da(t,e){return fa(t)*fa(e)?(t[0]*e[0]+t[1]*e[1])/(fa(t)*fa(e)):1}function pa(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(da(t,e))}function ga(t,e){return t[0]===e[0]&&t[1]===e[1]}function va(t,e){var n=e[1],r=e[2],i=po(vo(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],c=e[6],h=e[7],l=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-h)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-h)/2,d=l*l/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(l*l),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*l/n:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(u+h)/2+Math.sin(i)*v+Math.cos(i)*y,x=[(l-v)/n,(f-y)/r],M=[(-1*l-v)/n,(-1*f-y)/r],w=pa([1,0],x),O=pa(x,M);return da(x,M)<=-1&&(O=Math.PI),da(x,M)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:ga(t,[c,h])?0:n,ry:ga(t,[c,h])?0:r,startAngle:w,endAngle:w+O,xRotation:i,arcFlag:o,sweepFlag:a}}function ya(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var ma={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return oo(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if(io(a))n=la(n=(t=a)(i,o,s));else{if(!(t=e.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=t(i,o,s)}return n},e.prototype.createPath=function(t){Go(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=ma,e}(Qo);function xa(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function Ma(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function wa(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Ma(a,s,[e,n]))return!0;xa(a[1]-n)>0!=xa(s[1]-n)>0&&xa(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}var Oa="undefined"!=typeof Float32Array?Float32Array:Array,Sa=Math.random;Math.PI;function Ea(){var t=new Oa(9);return Oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Ca(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function ka(t){var e=new Oa(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Pa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ta(t,e,n,r,i,o,a,s,u){var c=new Oa(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function ja(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t}function Ia(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Aa(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function _a(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function Na(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t}function La(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function Ba(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*h,t[5]=g*o+v*u+y*l,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*h,t[8]=m*o+b*u+x*l,t}function Da(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t}function Ra(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t}function Xa(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ya(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Fa(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function za(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ua(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function qa(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+v,t[1]=h+y,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t}function Wa(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*c-o*a,M=r*u-i*s,w=r*c-o*s,O=i*c-o*u,S=h*g-l*p,E=h*v-f*p,C=h*y-d*p,k=l*v-f*g,P=l*y-d*g,T=f*y-d*v,j=m*T-b*P+x*k+M*C-w*E+O*S;return j?(j=1/j,t[0]=(s*T-u*P+c*k)*j,t[1]=(u*C-a*T-c*E)*j,t[2]=(a*P-s*C+c*S)*j,t[3]=(i*P-r*T-o*k)*j,t[4]=(n*T-i*C+o*E)*j,t[5]=(r*C-n*P-o*S)*j,t[6]=(g*O-v*w+y*M)*j,t[7]=(v*x-p*O-y*b)*j,t[8]=(p*w-g*x+y*m)*j,t):null}function Ga(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ha(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Va(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Za(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Qa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Ka(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function $a(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Ja(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ts(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7],b=e[8];return Math.abs(n-l)<=1e-6*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=1e-6*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=1e-6*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=1e-6*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=1e-6*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=1e-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(h-b)<=1e-6*Math.max(1,Math.abs(h),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var es=Ba,ns=Qa;function rs(){var t=new Oa(2);return Oa!=Float32Array&&(t[0]=0,t[1]=0),t}function is(t){var e=new Oa(2);return e[0]=t[0],e[1]=t[1],e}function os(t,e){var n=new Oa(2);return n[0]=t,n[1]=e,n}function as(t,e){return t[0]=e[0],t[1]=e[1],t}function ss(t,e,n){return t[0]=e,t[1]=n,t}function us(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function cs(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function hs(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function ls(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function fs(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ds(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function ps(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function gs(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function vs(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ys(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ms(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function bs(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function xs(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Ms(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function ws(t){var e=t[0],n=t[1];return e*e+n*n}function Os(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Ss(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Es(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Cs(t,e){return t[0]*e[0]+t[1]*e[1]}function ks(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Ps(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function Ts(t,e){e=e||1;var n=2*Sa()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function js(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Is(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function As(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function _s(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Ns(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function Ls(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Bs(t){return t[0]=0,t[1]=0,t}function Ds(t){return"vec2("+t[0]+", "+t[1]+")"}function Rs(t,e){return t[0]===e[0]&&t[1]===e[1]}function Xs(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var Ys=Ms,Fs=cs,zs=hs,Us=ls,qs=bs,Ws=xs,Gs=ws,Hs=function(){var t=rs();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();function Vs(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromTranslation(r,n),c.multiply(t,r,e)}function Zs(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromRotation(r,n),c.multiply(t,r,e)}function Qs(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return c.fromScaling(r,n),c.multiply(t,r,e)}function Ks(t,e){for(var n,r,i,o=t?[].concat(t):[1,0,0,0,1,0,0,0,1],a=0,s=e.length;a<s;a++){var u=e[a];switch(u[0]){case"t":Vs(o,o,[u[1],u[2]]);break;case"s":Qs(o,o,[u[1],u[2]]);break;case"r":Zs(o,o,u[1]);break;case"m":n=o,r=o,i=u[1],c.multiply(n,i,r)}}return o}function $s(t,e){return t[0]*e[1]-e[0]*t[1]}function Js(t,e,n){var r=h.angle(t,e),i=$s(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function tu(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}function eu(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}!function(){var t,e=(t=new Oa(3),Oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t)}();function nu(t,e,n,r,i,o,a,s){var u=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var c={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return yo(c.x,c.y,a,s)<=o/2}var ru=l.transform;var iu=v({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var u=t[s],c=u.currentPoint,h=u.params,l=u.prePoint,f=u.box;if(!f||mo(f.x-a,f.y-a,f.width+e,f.height+e,n,r)){switch(u.command){case"L":case"Z":o=na(l[0],l[1],c[0],c[1],e,n,r);break;case"Q":o=Pi.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],n,r)<=e/2;break;case"C":o=Ni.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],h[5],h[6],n,r,i)<=e/2;break;case"A":var d=u.arcParams,p=d.cx,g=d.cy,v=d.rx,y=d.ry,m=d.startAngle,b=d.endAngle,x=d.xRotation,M=[n,r,1],w=v>y?v:y;eu(M,M,ru(null,[["t",-p,-g],["r",-x],["s",1/(v>y?1:v/y),1/(v>y?y/v:1)]])),o=nu(0,0,w,m,b,e,M[0],M[1])}if(o)break}}return o}},r);function ou(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=wa(t[i],e,n))break}return r}var au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=la(t);var e=iu.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=function(t){for(var e=[],n=null,r=null,i=null,o=0,a=(t=aa(t)).length,s=0;s<a;s++){var u=t[s];r=t[s+1];var c=u[0],h={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var l=va(n,u);h.arcParams=l}if("Z"===c)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&ga(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=d;var p=h.prePoint;if(["L","H","V"].includes(c))h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=ya((m=e[s-1]).currentPoint,p);"Q"===m.command?(h.command="Q",h.startTangent=[p[0]-g[0],p[1]-g[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]]):(h.command="TL",h.startTangent=[p[0]-n[0],p[1]-n[1]],h.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],y=[u[3],u[4]];h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]}else if("S"===c){var m;v=ya((m=e[s-1]).currentPoint,p),y=[u[1],u[2]];"C"===m.command?(h.command="C",h.startTangent=[p[0]-v[0],p[1]-v[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]]):(h.command="SQ",h.startTangent=[p[0]-y[0],p[1]-y[1]],h.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===c){var b=.001,x=h.arcParams||{},M=x.cx,w=void 0===M?0:M,O=x.cy,S=void 0===O?0:O,E=x.rx,C=void 0===E?0:E,k=x.ry,P=void 0===k?0:k,T=x.sweepFlag,j=void 0===T?0:T,I=x.startAngle,A=void 0===I?0:I,_=x.endAngle,N=void 0===_?0:_;0===j&&(b*=-1);var L=C*Math.cos(A-b)+w,B=P*Math.sin(A-b)+S;h.startTangent=[L-i[0],B-i[1]];var D=C*Math.cos(A+N+b)+w,R=P*Math.sin(A+N-b)+S;h.endTangent=[p[0]-D,p[1]-R]}e.push(h)}return e}(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&Ro(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&Xo(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=(this.get("hasArc"),!1);if(n){var s=this.getTotalLength();a=iu.isPointInStroke(o,i,t,e,s)}if(!a&&r){var u=this.attr("path"),c=iu.extractPolygons(u);a=ou(c.polygons,t,e)||ou(c.polylines,t,e)}return a},e.prototype.createPath=function(t){Go(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return oo(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;co(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if(oo(o)||oo(n))return null;var a=o.length,s=i[n+1];return Ni.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",iu.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(co(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=Ni.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?(co(s,(function(u,c){n=s[c+1],r=u.length,n&&((t=[])[0]=o/i,e=Ni.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Qo);function su(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(na(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var s=t[0],u=t[o-1];if(na(s[0],s[1],u[0],u[1],e,n,r))return!0}return!1}var uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=su(o,i,t,e,!0)),!a&&r&&(a=wa(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(Qo),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&Ro(this,t,n[1][0],n[1][1],a,s),i&&Xo(this,t,n[o-2][0],n[o-2][1],u,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&su(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],h=n[o-1][1];if(r&&r.d)s+=(a=Do(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)c-=(a=Do(n[o-2][0],n[o-2][1],c,h,i.d)).dx,h-=a.dy;t.beginPath(),t.moveTo(s,u);for(var l=0;l<o-1;l++){var f=n[l];t.lineTo(f[0],f[1])}t.lineTo(c,h)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return oo(e)?(this.set("totalLength",Xi(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),co(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),wi.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];co(t,(function(a,s){t[s+1]&&((n=[])[0]=i/e,r=wi.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Qo);var hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,c=o.height,h=o.radius;if(h){var l=!1;return n&&(l=function(t,e,n,r,i,o,a,s){return na(t+i,e,t+n-i,e,o,a,s)||na(t+n,e+i,t+n,e+r-i,o,a,s)||na(t+n-i,e+r,t+i,e+r,o,a,s)||na(t,e+r-i,t,e+i,o,a,s)||nu(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||nu(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||nu(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||nu(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,c,h,i,t,e)),!l&&r&&(l=mo(a,s,u,c,t,e)),l}var f=i/2;return r&&n?mo(a-f,s-f,u+f,c+f,t,e):r?mo(a,s,u,c,t,e):n?function(t,e,n,r,i,o,a){var s=i/2;return mo(t-s,e-s,n,i,o,a)||mo(t+n-s,e-s,i,r,o,a)||mo(t+s,e+r-s,n,i,o,a)||mo(t-s,e+s,i,r,o,a)}(a,s,u,c,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=function(t){var e=0,n=0,r=0,i=0;return ao(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(a),u=s[0],c=s[1],h=s[2],l=s[3];t.moveTo(n+u,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+o-h),0!==h&&t.arc(n+i-h,r+o-h,h,0,Math.PI/2),t.lineTo(n+l,r+o),0!==l&&t.arc(n+l,r+o-l,l,Math.PI/2,Math.PI),t.lineTo(n,r+u),0!==u&&t.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),t.closePath()}},e}(Qo),lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return v(v({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Wi(t)},e.prototype._setText=function(t){var e=null;lo(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,c=this._getSpaceingY(),h=Ui(i.text,i.fontSize,i.lineHeight);co(e,(function(e,i){r=s+i*(c+u)-h+u,"middle"===o&&(r+=h-u-(h-u)/2),"top"===o&&(r+=h-u),n?t.fillText(e,a,r):t.strokeText(e,a,r)}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;e?t.fillText(a,r,i):t.strokeText(a,r,i)}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(oo(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(oo(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Qo);function fu(t,e,n){var r,i,o=t.getTotalMatrix();if(o){var a=(r=[e,n,1],(i=o)?Fe(ze(i),r):r);return[a[0],a[1]]}return[e,n]}function du(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!it(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=fu(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function pu(t){return("object"==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame:clearTimeout)(t)}var gu=n(35),vu=n.n(gu);function yu(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function mu(t,e,n){if(n.bubbles){t.isCanvas(),0,n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var bu=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.panstartShape=null,this.panstartPoint=null,this.defaultScale=1,this.currentScale=1,this.initScale=1,this.handleEvent=function(t){e.hammerRuntime.emit("origin_input:"+t.type,t)},this.canvas=t.canvas,this._initEvent()}return t.prototype._initEvent=function(){var t=this;this.hammerRuntime=new vu.a({},{inputClass:gu.TouchInput}),this.hammerRuntime.add(new vu.a.Pan({threshold:0,pointers:1})),this.hammerRuntime.add(new vu.a.Swipe).recognizeWith(this.hammerRuntime.get("pan")),this.hammerRuntime.add(new vu.a.Rotate({threshold:0})).recognizeWith(this.hammerRuntime.get("pan")),this.hammerRuntime.add(new vu.a.Pinch({threshold:0})).recognizeWith([this.hammerRuntime.get("pan"),this.hammerRuntime.get("rotate")]),this.hammerRuntime.add(new vu.a.Tap({event:"doubletap",taps:2})),this.hammerRuntime.add(new vu.a.Tap),this.hammerRuntime.on("panstart panmove panend",(function(e){e.srcEvent.extra=e;var n=t._getPointInfo(e),r=t._getShape(n,e);"panend"===e.type&&t._onpanend(n,r,e),"panstart"===e.type&&t._onpanstart(n,r,e),"panmove"===e.type&&t._onpanmove(n,r,e),t.currentShape=r})),this.hammerRuntime.on("swipe",(function(e){t._emitMobileEvent(e.type,e)})),this.hammerRuntime.on("rotatestart rotatemove",(function(e){t._emitMobileEvent(e.type,e)})),this.hammerRuntime.on("pinchstart pinchmove pinchend",(function(e){if("pinchstart"==e.type&&(t.initScale=t.currentScale||1),"pinchend"===e.type)return e.scale=t.currentScale,void t._emitMobileEvent(e.type,e);t.currentScale=t.initScale*e.scale,e.scale=t.currentScale,e.srcEvent.extra={scale:t.currentScale},t._emitMobileEvent(e.type,e)})),this.hammerRuntime.on("doubletap",(function(e){t._emitMobileEvent(e.type,e)})),this.hammerRuntime.on("tap",(function(e){t._emitMobileEvent(e.type,e)}))},t.prototype._emitMobileEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e);this._emitEvent(t,e,n,r)},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new K(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){var n=e.srcEvent;return this.canvas.getShape(t.x,t.y,n)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t];if(i)i.call(this,n,r,e);else{var o=this.currentShape;"panstart"===t||"dragenter"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"panstart"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"panend"===t||"dragleave"===t?(o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"panend"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}},t.prototype._onpanstart=function(t,e,n){this.panstartShape=e,this.panstartPoint=t,this.panstartTimeStamp=n.timeStamp,this._emitEvent("panstart",n,t,e,null,null)},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);this.currentShape=r},t.prototype._onpanend=function(t,e,n){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):this._emitEvent("panend",n,t,e),this.panstartShape=null,this.panstartPoint=null},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onpanmove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.panstartPoint;if(a){var s=this.panstartShape,u=n.timeStamp-this.panstartTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;u>120||c*c+h*h>40?s&&s.get("draggable")?((o=this.panstartShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.panstartShape=null,this.panstartPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.panstartShape=null,this.panstartPoint=null):this._emitEvent("panmove",n,t,e):this._emitEvent("panmove",n,t,e)}else this._emitEvent("panmove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,yu(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||mu(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{yu(this.canvas,t,a)}},t.prototype.destroy=function(){this.canvas=null,this.currentShape=null,this.draggingShape=null,this.panstartPoint=null,this.panstartShape=null,this.panstartTimeStamp=null},t}(),xu=function(){function t(){}return t.prototype.set=function(t,e,n){switch(e){case"strokeStyle":t.setStrokeStyle(n);break;case"fillStyle":t.setFillStyle(n);break;case"lineWidth":t.setLineWidth(n);break;case"lineDash":t.setLineDash(n);break;case"globalAlpha":(n||0===n)&&(t.globalAlpha=n,t.setGlobalAlpha(n));break;case"fontSize":t.setFontSize(n);break;case"textAlign":t.setTextAlign(n);break;case"fontStyle":case"font":t.setFont(n);break;case"textBaseline":t.setTextBaseline(n);break;default:t[e]=n}return!0},t.prototype.get=function(t,e){return"globalAlpha"===e&&void 0===t[e]?1:t[e]},t}(),Mu=n(120),wu=null;var Ou=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(Mu.assembleFont)(e));var u,c=function(t,e){var n=0;if(oo(t)||""===t)return n;if(wu.save(),wu.font=e,lo(t)&&t.includes("\n")){var r=t.split("\n");co(r,(function(t){var e=wu.measureText(t).width;n<e&&(n=e)}))}else n=wu.measureText(t).width;return wu.restore(),n}(i,s);if(c){var h=e.textAlign,l=e.textBaseline,f=Object(Mu.getTextHeight)(i,o,a),d={x:n,y:r-f};h&&("end"===h||"right"===h?d.x-=c:"center"===h&&(d.x-=c/2)),l&&("top"===l?d.y+=f:"middle"===l&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u},Su=function(t){wu=t,ni("text",Ou)},Eu=function(t){function e(e){var n=t.call(this,e)||this,r=n.get("context");return n.isMini()&&(n.isMiniNative()||n.set("context",new Proxy(r,new xu)),Su(r)),n}return g(e,t),e.prototype.isMiniNative=function(){return"mini-native"===this.get("renderer")},e.prototype.isMini=function(){return this.get("renderer").startsWith("mini")},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e.boundingClientRect={width:0,height:0,left:0,top:0,bottom:0,right:0},e},e.prototype.initEvents=function(){var t=new bu({canvas:this});this.set("eventController",t)},e.prototype.registerEventCallback=function(t){this.get("eventController").handleEvent(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return Zo},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||("object"==typeof window&&window.devicePixelRatio?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.initDom=function(){if(this.isMini()){var e=this.get("context"),n=this.get("fitView"),r=this.getPixelRatio();!n&&r>1&&e.scale(r,r)}else t.prototype.initDom.call(this)},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame(),this.get("context").clearRect(0,0,this.get("width"),this.get("height"))},e.prototype.getShape=function(e,n){return this.get("quickHit")?function t(e,n,r){if(!du(e,n,r))return null;for(var i=null,o=e.getChildren(),a=o.length-1;a>=0;a--){var s=o[a];if(s.isGroup())i=t(s,n,r);else if(du(s,n,r)){var u=s,c=fu(s,n,r),h=c[0],l=c[1];u.isInShape(h,l)&&(i=s)}if(i)break}return i}(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return co(t,(function(t){var o=Vo(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,n),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,i)}}(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&bo(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n)));return t},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(pu(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._startDraw=function(){var t,e=this,n=this.get("drawFrame");n||(t=function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),pu(n),e.set("drawFrame",null)},n=("object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)})(t),this.set("drawFrame",n))},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Fo(t,this),Uo(this,n,r),zo(t,n,r),t.restore()):e.length&&function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&t(r.cfg.children)}}(e),co(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.isMini()&&!this.isMiniNative()&&t.draw(!0),this.set("refreshElements",[])},e.prototype._drawAll=function(){var t=this.get("context"),e=this.getChildren();t.clearRect(0,0,this.get("width"),this.get("height")),Fo(t,this),zo(t,e),this.isMini()&&!this.isMiniNative()&&t.draw(!0),this.set("refreshElements",[])},e.prototype.skipDraw=function(){},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype.getPointByEvent=function(e){if(this.isMini()){var n=this.getClientByEvent(e),r=n.x,i=n.y;return this.getPointByClient(r,i)}return t.prototype.getPointByEvent.call(this,e)},e.prototype.getClientByEvent=function(t){var e=t.srcEvent.touches[0];return e?{x:e.clientX,y:e.clientY}:{}},e.prototype.getPointByClient=function(t,e){if(this.isMini()){var n=this.get("boundingClientRect");return{x:t+n.left,y:e+n.top}}var r=this.get("el").getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){if(this.isMini()){var n=this.get("boundingClientRect");return{x:t+n.left,y:e+n.top}}var r=this.get("el").getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e}($r),Cu=n(9);var ku,Pu,Tu,ju,Iu=n(2),Au=n(3),_u=n(22),Nu=Au.n.cloneEvent,Lu=Au.n.isViewportChanged,Bu=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=e,n.destroyed=!1,n}return Object(d.c)(e,t),e.prototype.initEvents=function(){var t=this.graph,e=(this.extendEvents,t.get("canvas"));this.canvasHandler=Object(Iu.t)(this,"onCanvasEvents"),e.off("*").on("*",this.canvasHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this.graph,r=n.get("canvas"),i=t.target,o=t.type;t.canvasX=t.x,t.canvasY=t.y;var a={x:t.canvasX,y:t.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),Lu(s)&&(a=n.getPointByClient(t.clientX,t.clientY)),t.x=a.x,t.y=a.y,t.currentTarget=n,i===r)return"panmove"===o&&this.handleTouchMove(t,"canvas"),t.target=r,t.item=null,n.emit(o,t),void n.emit("canvas:"+o,t);var u=e.getItemRoot(i);if(u){var c=u.get("item");if(!c.destroyed){var h=c.getType();if(t.target=i,t.item=c,t.canvasX===t.x&&t.canvasY===t.y){var l=n.getCanvasByPoint(t.x,t.y);t.canvasX=l.x,t.canvasY=l.y}n.emit(o,t),t.name&&!t.name.includes(":")?n.emit(h+":"+o,t):n.emit(t.name,t),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"panmove"===o&&this.handleTouchMove(t,h)}}else n.emit(o,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit(t+":"+e,n)},e.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get("canvas").off("*",e),Object(Iu.c)(n,(function(t){t.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},e.prototype.handleTouchMove=function(t,e){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=t.target===i?null:t.item;t=Nu(t),r&&r!==o&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),"touchleave",t),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",t)),o&&r!==o&&(t.item=o,this.emitCustomEvent(e,"touchenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},e}(Au.a),Du=n(38),Ru=["force","grid","circular"],Xu=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n}return Object(d.c)(e,t),e.prototype.updateLayoutCfg=function(t){var e=this,n=this.graph,r=this.layoutMethods,i=Object(Iu.n)({},this.layoutCfg,t);if(this.layoutCfg=i,null==r?void 0:r.length){this.data=this.setDataFromGraph(),n.emit("beforelayout");var o=Promise.resolve();1===r.length?o=o.then((function(){return e.updateLayoutMethod(r[0],i)})):null==r||r.forEach((function(t,n){var r=i.pipes[n];o=o.then((function(){return e.updateLayoutMethod(t,r)}))})),o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(t){console.warn("layout failed",t)}))}else this.layout()},e.prototype.layout=function(t){var e=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var c=u.onLayoutEnd,h=u.layoutEndFormatted,l=u.adjust;h||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return Object(d.b)(e,void 0,void 0,(function(){return Object(d.d)(this,(function(t){switch(t.label){case 0:return c&&c(),this.refreshLayout(),l&&u.pipes?[4,this.adjustPipesBox(this.data,l)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))});var f=Promise.resolve();return u.type?f=f.then((function(){return e.execLayoutMethod(u,0)})):u.pipes&&u.pipes.forEach((function(t,n){f=f.then((function(){return e.execLayoutMethod(t,n)}))})),f.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),t&&t()})).catch((function(t){console.warn("graph layout failed,",t)})),!1},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=t.type;if(t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},"force"===a||"g6force"===a||"gForce"===a){var s=t.onTick,u=function(){s&&s(),o.refreshPositions()};t.tick=u}else"comboForce"===t.type&&(t.comboTrees=o.get("comboTrees"));var c;try{c=new Du.a(t)}catch(t){console.warn("The layout method: '"+a+"' does not exist! Please specify it first."),i()}if(c.enableTick){var h=t.onTick;u=function(){h&&h(),o.refreshPositions()};c.tick=u}var l=n.filterLayoutData(n.data,t);!function(t,e){var n;if(!(null===(n=null==t?void 0:t.nodes)||void 0===n?void 0:n.length))return;t.nodes.forEach((function(t){t.layoutOrder=e}))}(l,e),c.init(l),o.emit("beforesublayout",{type:a}),c.execute(),c.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),n.layoutMethods.push(c)}))},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise((function(r,i){var o=n.graph,a=null==e?void 0:e.type;e.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()};var s=n.filterLayoutData(n.data,e);t.init(s),t.updateCfg(e),o.emit("beforesublayout",{type:a}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()}))},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise((function(r){var i=t.nodes;(null==i?void 0:i.length)||r(),Ru.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),r());var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,c=Object(Iu.a)(u);o.onLayoutEnd=function(){null==u||u.forEach((function(t,e){var n,r,i,o=t.x-(null===(n=c[e])||void 0===n?void 0:n.x),a=t.y-(null===(r=c[e])||void 0===r?void 0:r.y);null===(i=s[e])||void 0===i||i.forEach((function(t){t.x+=o,t.y+=a}))})),r()},new Du.a(o).layout({nodes:u})}))},e.prototype.destroy=function(){this.destoryLayoutMethods(),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(Au.c);function Yu(t){ku||(ku=document.createElement("table"),Pu=document.createElement("tr"),Tu=/^\s*<(\w+|!)[^>]*>/,ju={tr:document.createElement("tbody"),tbody:ku,thead:ku,tfoot:ku,td:Pu,th:Pu,"*":document.createElement("div")});var e=Tu.test(t)&&RegExp.$1;e&&e in ju||(e="*");var n=ju[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}var Fu=function(t,e,n){return n[t]&&console.warn("The graph with the name "+t+" exists already, it will be overridden"),n[t]=e(n),n},zu=function(t){function e(e){var n=t.call(this,e)||this;n.get("renderer").startsWith("mini")&&n.set("context",e.context),t.prototype.init.call(n);var r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return Object(d.c)(e,t),e.prototype.init=function(){},e.prototype.emitEvent=function(t){var e=this.get("canvas");t.type=t.type.toLowerCase(),e.registerEventCallback(t)},e.prototype.initLayoutController=function(){var t=new Xu(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new Bu(this);if(this.set({eventController:t}),!this.get("renderer").startsWith("mini")){var e=this.get("canvas"),n=e.get("el");"touchstart touchmove touchend touchcancel".split(" ").forEach((function(t){n.addEventListener(t,e.registerEventCallback.bind(e),!1)}))}},e.prototype.initCanvas=function(){var t=this.get("container");null!==t&&"string"==typeof t&&(t=document.getElementById(t),this.set("container",t));var e=this.get("width"),n=this.get("height"),r=this.get("renderer"),i={container:t,context:this.get("context"),width:e,height:n,renderer:r,fitView:this.get("fitView"),extra:this.get("extra")},o=this.get("pixelRatio");o&&(i.pixelRatio=o);var a=new Eu(i);this.set("canvas",a)},e.prototype.initPlugins=function(){var t=this;Object(Iu.c)(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");t||(t="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var h=void 0,l=i.getContext("2d"),f=this.get("width"),d=this.get("height"),p=void 0;if(e){var g="undefined"!=typeof window?window.devicePixelRatio:1;h=l.getImageData(0,0,f*g,d*g),p=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=e,l.fillRect(0,0,f,d)}o=i.toDataURL(t),e&&(l.clearRect(0,0,f,d),l.putImageData(h,0,0),l.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=Yu('<id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?Object(Iu.h)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var h=i+c[0]+c[2],l=o+c[1]+c[3],f=new Eu({container:s,height:h,width:l,quickHit:!0}),d=this.get("group").clone(),p=Object(Iu.a)(d.getMatrix());p||(p=[1,0,0,0,1,0,0,0,1]);var g=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2;Cu.a.translate(p,p,[-g,-v]),Cu.a.translate(p,p,[o/2+c[3],i/2+c[0]]),d.resetMatrix(),d.setMatrix(p),f.add(d);var y=f.get("el"),m="";e||(e="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);m="data:image/svg+xml;charset=utf8,"+encodeURIComponent(o)}else{var s=void 0,c=y.getContext("2d"),f=void 0;if(u){var d="undefined"!=typeof window?window.devicePixelRatio:1;s=c.getImageData(0,0,l*d,h*d),f=c.globalCompositeOperation,c.globalCompositeOperation="destination-over",c.fillStyle=u,c.fillRect(0,0,l,h)}m=y.toDataURL(e),u&&(c.clearRect(0,0,l,h),c.putImageData(s,0,0),c.globalCompositeOperation=f)}t&&t(m)}),16)},e.prototype.downloadFullImage=function(t,e,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=Yu('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,h=n?n.padding:void 0;h?Object(Iu.h)(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var l=o+h[0]+h[2],f=a+h[1]+h[3],d=new Eu({container:u,height:l,width:f}),p=this.get("group").clone(),g=Object(Iu.a)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(i.maxX+i.minX)/2,y=(i.maxY+i.minY)/2;Cu.a.translate(g,g,[-v,-y]),Cu.a.translate(g,g,[a/2+h[3],o/2+h[0]]),p.resetMatrix(),p.setMatrix(g),d.add(p);var m=d.get("el");e||(e="image/png"),setTimeout((function(){var n="";if("svg"===s){var i=m.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),a=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);a.replaceChild(i,a.documentElement);var u=(new XMLSerializer).serializeToString(a);n="data:image/svg+xml;charset=utf8,"+encodeURIComponent(u)}else{var h=void 0,d=m.getContext("2d"),p=void 0;if(c){var g="undefined"!=typeof window?window.devicePixelRatio:1;h=d.getImageData(0,0,f*g,l*g),p=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=c,d.fillRect(0,0,f,l)}n=m.toDataURL(e),c&&(d.clearRect(0,0,f,l),d.putImageData(h,0,0),d.globalCompositeOperation=p)}var v=document.createElement("a"),y=(t||"graph")+("svg"===s?".svg":"."+e.split("/")[1]);r.dataURLToImage(n,s,v,y);var b=document.createEvent("MouseEvents");b.initEvent("click",!1,!1),v.dispatchEvent(b)}),16)},e.prototype.downloadImage=function(t,e,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();e||(e="image/png");var a=(t||"graph")+("svg"===o?".svg":e.split("/")[1]),s=document.createElement("a");setTimeout((function(){var t=i.toDataURL(e,n);r.dataURLToImage(t,o,s,a);var u=document.createEvent("MouseEvents");u.initEvent("click",!1,!1),s.dispatchEvent(u)}),16)},e.prototype.dataURLToImage=function(t,e,n,r){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var h=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(h,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(h)}))}else n.addEventListener("click",(function(){n.download=r,n.href=t}))},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=_u.a.waterMarkerImage);var n=this.get("container");Object(Iu.k)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(Iu.b)({},_u.a.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h),r=new Eu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var l=r.get("context"),f=u.rotate,d=u.x,p=u.y;l.rotate(-f*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=t,g.onload=function(){if(l.drawImage(g,d,p,u.width,u.height),l.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");Object(Iu.k)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(Iu.b)({},_u.a.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h),r=new Eu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var l=r.get("context"),f=u.rotate,d=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,y=u.x,m=u.y,b=u.lineHeight;l.rotate(-f*Math.PI/180),l.font=g+"px "+p,l.fillStyle=d,l.textBaseline=v;for(var x=t.length-1;x>=0;x--)l.fillText(t[x],y,m+x*b);if(l.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var M=document.querySelector(".g6-graph-watermarker");M||((M=document.createElement("div")).className="g6-graph-watermarker"),M.style.cssText="background-image: url("+r.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(M)}},e.prototype.destroy=function(){Object(Iu.c)(this.get("plugins"),(function(t){t.destroyPlugin()}));var e=this.get("tooltips");if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r){var i=r.parentElement;i&&i.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),t.prototype.destroy.call(this)},e.prototype.initGroups=function(){var t=this.get("canvas").addGroup({id:"root",className:_u.a.rootContainerClassName});if(this.get("groupByTypes")){var e=t.addGroup({id:"edge",className:_u.a.edgeContainerClassName}),n=t.addGroup({id:"node",className:_u.a.nodeContainerClassName}),r=t.addGroup({id:"combo",className:_u.a.comboContainerClassName});r.toBack(),this.set({nodeGroup:n,edgeGroup:e,comboGroup:r})}var i=t.addGroup({id:"delegate",className:_u.a.delegateContainerClassName});this.set({delegateGroup:i}),this.set("group",t)},e}(Au.b);e.a=zu},function(t,e,n){"use strict";n.r(e),n.d(e,"mixColor",(function(){return N})),n.d(e,"getColorsWithSubjectColor",(function(){return L})),n.d(e,"getColorSetsBySubjectColors",(function(){return B}));var r=n(56),i=n.n(r);function o(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function a(t){return Math.min(1,Math.max(0,t))}function s(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function u(t){return t<=1?100*Number(t)+"%":t}function c(t){return 1===t.length?"0"+t:String(t)}function h(t,e,n){t=o(t,255),e=o(e,255),n=o(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a=0,s=0,u=(r+i)/2;if(r===i)s=0,a=0;else{var c=r-i;switch(s=u>.5?c/(2-r-i):c/(r+i),r){case t:a=(e-n)/c+(e<n?6:0);break;case e:a=(n-t)/c+2;break;case n:a=(t-e)/c+4}a/=6}return{h:a,s:s,l:u}}function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f(t,e,n){t=o(t,255),e=o(e,255),n=o(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a=0,s=r,u=r-i,c=0===r?0:u/r;if(r===i)a=0;else{switch(r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4}a/=6}return{h:a,s:c,v:s}}function d(t,e,n,r){var i=[c(Math.round(t).toString(16)),c(Math.round(e).toString(16)),c(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t){return Math.round(255*parseFloat(t)).toString(16)}function g(t){return v(t)/255}function v(t){return parseInt(t,16)}var y={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){var e,n,r,i={r:0,g:0,b:0},a=1,c=null,h=null,f=null,d=!1,p=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(y[t])t=y[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=O.rgb.exec(t);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=O.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=O.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=O.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=O.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=O.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=O.hex8.exec(t))return{r:v(n[1]),g:v(n[2]),b:v(n[3]),a:g(n[4]),format:e?"name":"hex8"};if(n=O.hex6.exec(t))return{r:v(n[1]),g:v(n[2]),b:v(n[3]),format:e?"name":"hex"};if(n=O.hex4.exec(t))return{r:v(n[1]+n[1]),g:v(n[2]+n[2]),b:v(n[3]+n[3]),a:g(n[4]+n[4]),format:e?"name":"hex8"};if(n=O.hex3.exec(t))return{r:v(n[1]+n[1]),g:v(n[2]+n[2]),b:v(n[3]+n[3]),format:e?"name":"hex"};return!1}(t)),"object"===m(t)&&(S(t.r)&&S(t.g)&&S(t.b)?(e=t.r,n=t.g,r=t.b,i={r:255*o(e,255),g:255*o(n,255),b:255*o(r,255)},d=!0,p="%"===String(t.r).substr(-1)?"prgb":"rgb"):S(t.h)&&S(t.s)&&S(t.v)?(c=u(t.s),h=u(t.v),i=function(t,e,n){t=6*o(t,360),e=o(e,100),n=o(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),u=n*(1-(1-i)*e),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(t.h,c,h),d=!0,p="hsv"):S(t.h)&&S(t.s)&&S(t.l)&&(c=u(t.s),f=u(t.l),i=function(t,e,n){var r,i,a;if(t=o(t,360),e=o(e,100),n=o(n,100),0===e)i=n,a=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=l(u,s,t+1/3),i=l(u,s,t),a=l(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*a}}(t.h,c,f),d=!0,p="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(a=t.a)),a=s(a),{ok:d,format:t.format||p,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var x="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",M="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?",w="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?",O={CSS_UNIT:new RegExp(x),rgb:new RegExp("rgb"+M),rgba:new RegExp("rgba"+w),hsl:new RegExp("hsl"+M),hsla:new RegExp("hsla"+w),hsv:new RegExp("hsv"+M),hsva:new RegExp("hsva"+w),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function S(t){return Boolean(O.CSS_UNIT.exec(String(t)))}var E=function(){function t(e,n){var r;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var i=b(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,r=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=s(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=f(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=f(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=h(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=h(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),d(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,r,i){var o=[c(Math.round(t).toString(16)),c(Math.round(e).toString(16)),c(Math.round(n).toString(16)),c(p(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*o(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*o(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+d(this.r,this.g,this.b,!1),e=0,n=Object.entries(y);e<n.length;e++){var r=n[e],i=r[0];if(t===r[1])return i}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1,r=this.a<1&&this.a>=0;return e||!r||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=a(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=a(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=a(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=a(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100;return new t({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();var C=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function k(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function P(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(r=1),n&&5===e&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function T(t,e,n){var r;return(r=n?t.v+.05*e:t.v-.15*e)>1&&(r=1),Number(r.toFixed(2))}function j(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new E(t),i=5;i>0;i-=1){var o=r.toHsv(),a=new E({h:k(o,i,!0),s:P(o,i,!0),v:T(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),c=new E({h:k(u,s),s:P(u,s),v:T(u,s)}).toHexString();n.push(c)}return"dark"===e.theme?C.map((function(t){var r=t.index,i=t.opacity;return new E(e.backgroundColor||"#141414").mix(n[r],100*i).toHexString()})):n}var I={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},A={},_={};Object.keys(I).forEach((function(t){A[t]=j(I[t]),A[t].primary=A[t][5],_[t]=j(I[t],{theme:"dark",backgroundColor:"#141414"}),_[t].primary=_[t][5]}));A.red,A.volcano,A.gold,A.orange,A.yellow,A.lime,A.green,A.cyan,A.blue,A.geekblue,A.purple,A.magenta,A.grey;var N=function(t,e,n){var r=i()(t),o=i()(e);return i()([(1-n)*r.red()+n*o.red(),(1-n)*r.green()+n*o.green(),(1-n)*r.blue()+n*o.blue()]).rgb()},L=function(t,e,n,r){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=N(e,t,.05).rgb().toString(),o=N(e,t,.1).rgb().toString(),a=N(e,t,.2).rgb().toString(),s=N(e,t,.4).rgb().toString(),u=N(e,n,.02).rgb().toString(),c=N(e,n,.05).rgb().toString(),h=N(e,n,.1).rgb().toString(),l=N(e,n,.2).rgb().toString(),f=N(e,n,.3).rgb().toString(),d=j(t,{theme:"default",backgroundColor:e}),p=i()(t).hex().toLowerCase(),g=d.indexOf(p),v=t;return-1!==g&&(v=d[g+1]),{mainStroke:t,mainFill:o,activeStroke:t,activeFill:r,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:e,highlightStroke:v,highlightFill:a,disableStroke:f,disableFill:c,edgeMainStroke:f,edgeActiveStroke:t,edgeInactiveStroke:l,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:h,comboMainStroke:f,comboMainFill:u,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:u,comboSelectedStroke:t,comboSelectedFill:u,comboHighlightStroke:v,comboHighlightFill:u,comboDisableStroke:l,comboDisableFill:c}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var r=N(e,t,.2).rgb().toString(),o=N(e,t,.3).rgb().toString(),a=N(e,t,.6).rgb().toString(),s=N(e,t,.8).rgb().toString(),u=N(e,n,.2).rgb().toString(),c=N(e,n,.25).rgb().toString(),h=N(e,n,.3).rgb().toString(),l=N(e,n,.4).rgb().toString(),f=N(e,n,.5).rgb().toString(),d=j(t,{theme:"dark",backgroundColor:e}),p=i()(t).hex().toLowerCase(),g=d.indexOf(p),v=t;return-1!==g&&(v=d[g+1]),{mainStroke:s,mainFill:r,activeStroke:t,activeFill:o,inactiveStroke:s,inactiveFill:r,selectedStroke:t,selectedFill:r,highlightStroke:t,highlightFill:a,disableStroke:f,disableFill:c,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:h,comboMainStroke:l,comboMainFill:c,comboActiveStroke:t,comboActiveFill:u,comboInactiveStroke:l,comboInactiveFill:c,comboSelectedStroke:t,comboSelectedFill:u,comboHighlightStroke:v,comboHighlightFill:c,comboDisableStroke:l,comboDisableFill:u}}(t,e,"#777")},B=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach((function(t){i.push(L(t,e,n,r))})),i}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=v(n(57)),f=n(21),d=n(29),p=n(36),g=v(n(132));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(v,t);var e,n,r,c=u(v);function v(){var t;return i(this,v),(t=c.apply(this,arguments)).pX=null,t.pY=null,t}return e=v,(n=[{key:"getTouchAction",value:function(){var t=this.options.direction,e=[];return t&f.DIRECTION_HORIZONTAL&&e.push(p.TOUCH_ACTION_PAN_Y),t&f.DIRECTION_VERTICAL&&e.push(p.TOUCH_ACTION_PAN_X),e}},{key:"directionTest",value:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&f.DIRECTION_HORIZONTAL?(i=0===o?f.DIRECTION_NONE:o<0?f.DIRECTION_LEFT:f.DIRECTION_RIGHT,n=o!==this.pX,r=Math.abs(t.deltaX)):(i=0===a?f.DIRECTION_NONE:a<0?f.DIRECTION_UP:f.DIRECTION_DOWN,n=a!==this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction}},{key:"attrTest",value:function(t){return l.default.prototype.attrTest.call(this,t)&&(this.state&d.STATE_BEGAN||!(this.state&d.STATE_BEGAN)&&this.directionTest(t))}},{key:"emit",value:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=(0,g.default)(t.direction);e&&(t.additionalEvent=this.options.event+e),a(h(v.prototype),"emit",this).call(this,t)}}])&&o(e.prototype,n),r&&o(e,r),v}(l.default);e.default=y,y.prototype.defaults={event:"pan",threshold:10,pointers:1,direction:f.DIRECTION_ALL}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){n||(n=r.PROPS_XY);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)};var r=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(67))&&i.__esModule?i:{default:i},a=n(145);var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;this.manager=e,this.callback=n,this.eventHandler=function(t){(0,o.default)(e.options.enable,[e])&&r.handler(t)},this.init()}var e,n,i;return e=t,(n=[{key:"handler",value:function(){}},{key:"init",value:function(){(0,a.addManagerListeners)(this.manager,this.events||"",this.eventHandler)}},{key:"destroy",value:function(){removeManagerListeners(this.manager,this.events||"",this.eventHandler)}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=s},,,,,,,,,,,,,,,,,,,function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n,s){"object"==a(e)&&void 0!==t?s(e):(i=[e],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))}(0,(function(t){"use strict";var e=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw Error("invalid nodes data!");return n&&n.forEach((function(t,e){o[t.id]=e,i.push([])})),r&&r.forEach((function(t){var n=o[t.source],r=o[t.target];i[n][r]=1,e||(i[r][n]=1)})),i};function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);e>n;n++)r[n]=t[n];return r}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return t.length>r?{done:!1,value:t[r++]}:{done:!0}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}var s=function(t,e){return t===e},u=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,t),this.value=e,this.next=r}return i(t,[{key:"toString",value:function(t){return t?t(this.value):"".concat(this.value)}}]),t}(),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;n(this,t),this.head=null,this.tail=null,this.compare=e}return i(t,[{key:"prepend",value:function(t){var e=new u(t,this.head);return this.head=e,this.tail||(this.tail=e),this}},{key:"append",value:function(t){var e=new u(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)}},{key:"delete",value:function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e}},{key:"find",value:function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null}},{key:"deleteTail",value:function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t}},{key:"deleteHead",value:function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t}},{key:"fromArray",value:function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this}},{key:"toArray",value:function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t}},{key:"reverse",value:function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return""+this.toArray().map((function(e){return e.toString(t)}))}}]),t}(),h=function(){function t(){n(this,t),this.linkedList=new c}return i(t,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"peek",value:function(){return this.linkedList.head?this.linkedList.head.value:null}},{key:"enqueue",value:function(t){this.linkedList.append(t)}},{key:"dequeue",value:function(){var t=this.linkedList.deleteHead();return t?t.value:null}},{key:"toString",value:function(t){return this.linkedList.toString(t)}}]),t}(),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=e.filter((function(e){return e.source===t||e.target===t}));if("target"===n){var i=function(e){return e.source===t};return r.filter(i).map((function(t){return t.target}))}if("source"===n){var o=function(e){return e.target===t};return r.filter(o).map((function(t){return t.source}))}var a=function(e){return e.source===t?e.target:e.source};return r.map(a)},f=function(t,e){return e.filter((function(e){return e.source===t||e.target===t}))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)},p=function(t){var e={},n=t.nodes,r=t.edges,i=void 0===r?[]:r;return(void 0===n?[]:n).forEach((function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++})),e};function g(t,e,n){!function t(e,n,r,i){i.enter({current:n,previous:r});var o=e.edges;l(n,void 0===o?[]:o,"target").forEach((function(o){i.allowTraversal({previous:r,current:n,next:o})&&t(e,o,n,i)})),i.leave({current:n,previous:r})}(t,e,"",function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e,r=function(){},i=(t={},function(e){var n=e.next;return!t[n]&&(t[n]=!0,!0)});return n.allowTraversal=e.allowTraversal||i,n.enter=e.enter||r,n.leave=e.leave||r,n}(n))}var v=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,u={},c={},h={};o.forEach((function(t,n){var r=t.id;c[r]=1/0,r===e&&(c[r]=0)}));for(var l=o.length,d=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;e.length>o;o++){var a=e[o].id;n[a]||t[a]>i||(i=t[a],r=e[o])}return r}(c,o,u),i=e.id;if(u[i]=!0,c[i]===1/0)return"continue";(n?function(t,e){return e.filter((function(e){return e.source===t}))}(i,s):f(i,s)).forEach((function(t){var n=t.target,o=n===i?t.source:n,a=r&&t[r]?t[r]:1;c[o]>c[e.id]+a&&(c[o]=c[e.id]+a,h[o]=e.id)}))},p=0;l>p;p++)d();var g={};for(var v in c){g[v]=[v];for(var y=h[v];void 0!==y;)g[v].unshift(y),y=h[y]}return{length:c,path:g}},y=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;i>s;s++)for(var u=t[s].clusterId,c=0;i>c;c++)u===t[c].clusterId&&(a+=(e[s][c]||0)-(n[s]||0)*(n[c]||0)/o);return a*(1/o)},m=function(){function t(e){n(this,t),this.count=e.length,this.parent={};var r,i=a(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.parent[o]=o}}catch(t){i.e(t)}finally{i.f()}}return i(t,[{key:"find",value:function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t}},{key:"union",value:function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(r>n?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))}},{key:"connected",value:function(t,e){return this.find(t)===this.find(e)}}]),t}(),b=function(t,e){return t-e},x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;n(this,t),this.compareFn=e,this.list=[]}return i(t,[{key:"getLeft",value:function(t){return 2*t+1}},{key:"getRight",value:function(t){return 2*t+2}},{key:"getParent",value:function(t){return 0===t?null:Math.floor((t-1)/2)}},{key:"isEmpty",value:function(){return 0>=this.list.length}},{key:"top",value:function(){return this.isEmpty()?void 0:this.list[0]}},{key:"delMin",value:function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t}},{key:"insert",value:function(t){return null!==t&&(this.list.push(t),this.moveUp(this.list.length-1),!0)}},{key:"moveUp",value:function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,e=this.getParent(t=e)}}},{key:"moveDown",value:function(t){var e=t,n=this.getLeft(t),r=this.getRight(t),i=this.list.length;if(null!==n&&i>n&&this.compareFn(this.list[e],this.list[n])>0?e=n:null!==r&&i>r&&this.compareFn(this.list[e],this.list[r])>0&&(e=r),t!==e){var o=[this.list[e],this.list[t]];this.list[t]=o[0],this.list[e]=o[1],this.moveDown(e)}}}]),t}(),M=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var c=new x((function(t,n){return e?t.weight-n.weight:0}));for(f(s.id,a).forEach((function(t){c.insert(t)}));!c.isEmpty();){var h=c.delMin(),l=h.source,d=h.target;u.has(l)&&u.has(d)||(n.push(h),u.has(l)||(u.add(l),f(l,a).forEach((function(t){c.insert(t)}))),u.has(d)||(u.add(d),f(d,a).forEach((function(t){c.insert(t)}))))}return n},w=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges;if(0===i.length)return n;var a=(void 0===o?[]:o).map((function(t){return t}));e&&a.sort((function(t,e){return t.weight-e.weight}));for(var s=new m(i.map((function(t){return t.id})));a.length>0;){var u=a.shift(),c=u.source,h=u.target;s.connected(c,h)||(n.push(u),s.union(c,h))}return n};t.Stack=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;n(this,t),this.linkedList=new c,this.maxStep=e}return i(t,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"isMaxStack",value:function(){return this.toArray().length>=this.maxStep}},{key:"peek",value:function(){return this.isEmpty()?null:this.linkedList.head.value}},{key:"push",value:function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()}},{key:"pop",value:function(){var t=this.linkedList.deleteHead();return t?t.value:null}},{key:"toArray",value:function(){return this.linkedList.toArray().map((function(t){return t.value}))}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}},{key:"length",get:function(){return this.linkedList.toArray().length}}]),t}(),t.breadthFirstSearch=function(t,e,n){var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e,r=function(){},i=(t={},function(e){var n=e.next;return!t[n]&&(t[n]=!0,!0)});return n.allowTraversal=e.allowTraversal||i,n.enter=e.enter||r,n.leave=e.leave||r,n}(n),i=new h,o=t.edges,a=void 0===o?[]:o;i.enqueue(e);for(var s="",u=function(){var t=i.dequeue();r.enter({current:t,previous:s}),l(t,a,"target").forEach((function(e){r.allowTraversal({previous:s,current:t,next:e})&&i.enqueue(e)})),r.leave({current:t,previous:s}),s=t};!i.isEmpty();)u()},t.connectedComponent=function(t,e){return e?function(t){var e,n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,s=[],u={},c={},h={},f=[],d=0,p=function t(e){c[e.id]=d,h[e.id]=d,d+=1,s.push(e),u[e.id]=!0;for(var n=l(e.id,o,"target").filter((function(t){return r.map((function(t){return t.id})).indexOf(t)>-1})),i=function(i){var o=n[i];if(c[o]||0===c[o])u[o]&&(h[e.id]=Math.min(h[e.id],c[o]));else{var a=r.filter((function(t){return t.id===o}));a.length>0&&t(a[0]),h[e.id]=Math.min(h[e.id],h[o])}},a=0;n.length>a;a++)i(a);if(h[e.id]===c[e.id]){for(var p=[];s.length>0;){var g=s.pop();if(u[g.id]=!1,p.push(g),g===e)break}p.length>0&&f.push(p)}},g=a(r);try{for(g.s();!(e=g.n()).done;){var v=e.value;c[v.id]||0===c[v.id]||p(v)}}catch(t){g.e(t)}finally{g.f()}return f}(t):function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function t(e){s.push(e),a[e.id]=!0;for(var r=l(e.id,i),o=function(e){var i=r[e];if(!a[i]){var o=n.filter((function(t){return t.id===i}));o.length>0&&t(o[0])}},u=0;r.length>u;++u)o(u)},c=0;n.length>c;c++){var h=n[c];if(!a[h.id]){u(h);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(t)},t.depthFirstSearch=g,t.detectCycle=function(t){var e=null,n=t.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(t){i[t.id]=t}));for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,u=a;u!==n;)e[s]=u,s=u,u=r[u];e[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){return!e&&!a[t.next]}};Object.keys(i).length;)g(t,Object.keys(i)[0],s);return e},t.dijkstra=v,t.findAllPath=function(t,e,n,r){if(e===n)return[[e]];var i,o,a=t.edges,s=void 0===a?[]:a,u=[e],c=(!0,(o=e)in(i={})?Object.defineProperty(i,o,{value:!0,enumerable:!0,configurable:!0,writable:!0}):i[o]=!0,i),h=[],f=[],d=r?l(e,s,"target"):l(e,s);for(h.push(d);u.length>0&&h.length>0;){var p=h[h.length-1];if(p.length){var g=p.shift();if(g&&(u.push(g),c[g]=!0,d=r?l(g,s,"target"):l(g,s),h.push(d.filter((function(t){return!c[t]})))),u[u.length-1]===n){var v=u.map((function(t){return t}));f.push(v);var y=u.pop();c[y]=!1,h.pop()}}else{var m=u.pop();c[m]=!1,h.pop()}}return f},t.findShortestPath=function(t,e,n,r,i){var o=v(t,e,r,i);return{length:o.length[n],path:o.path[n]}},t.floydWarshall=function(t,n){for(var r=e(t,n),i=[],o=r.length,a=0;o>a;a+=1){i[a]=[];for(var s=0;o>s;s+=1)i[a][s]=a===s?0:0!==r[a][s]&&r[a][s]?r[a][s]:1/0}for(var u=0;o>u;u+=1)for(var c=0;o>c;c+=1)for(var h=0;o>h;h+=1)i[c][h]>i[c][u]+i[u][h]&&(i[c][h]=i[c][u]+i[u][h]);return i},t.getAdjMatrix=e,t.getDegree=p,t.getInDegree=function(t,e){return p(t)[e]?p(t)[e].inDegree:0},t.getNeighbors=l,t.getOutDegree=function(t,e){return p(t)[e]?p(t)[e].outDegree:0},t.labelPropagation=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"weight",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,o=t.nodes,a=void 0===o?[]:o,s=t.edges,u=void 0===s?[]:s,c={},h={};a.forEach((function(t,e){var n=d();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}}));var l=e(t,n),f={};l.forEach((function(t,e){var n=a[e].id;f[n]={},t.forEach((function(t,e){t&&(f[n][a[e].id]=t)}))}));for(var p=0;i>p;){var g=!1;if(a.forEach((function(t){var e={};Object.keys(f[t.id]).forEach((function(n){var r=f[t.id][n],i=h[n].node.clusterId;e[i]||(e[i]=0),e[i]+=r}));var n=-1/0,r=[];if(Object.keys(e).forEach((function(t){e[t]>n?(n=e[t],r=[t]):n===e[t]&&r.push(t)})),1!==r.length||r[0]!==t.clusterId){var i=r.indexOf(t.clusterId);if(0>i||r.splice(i,1),r&&r.length){g=!0;var o=c[t.clusterId],a=o.nodes.indexOf(t);o.nodes.splice(a,1);var s=Math.floor(Math.random()*r.length),u=c[r[s]];u.nodes.push(t),t.clusterId=u.id}}})),!g)break;p++}Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var v=[],y={};u.forEach((function(t){var e=t[r]||1,n=h[t.source].node.clusterId,i=h[t.target].node.clusterId,o="".concat(n,"---").concat(i);if(y[o])y[o].weight+=e,y[o].count++;else{var a={source:n,target:i,weight:e,count:1};y[o]=a,v.push(a)}}));var m=[];return Object.keys(c).forEach((function(t){m.push(c[t])})),{clusters:m,clusterEdges:v}},t.louvain=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"weight",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-4,o=t.nodes,a=void 0===o?[]:o,s=t.edges,u=void 0===s?[]:s,c={},h={};a.forEach((function(t,e){var n=d();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}}));var l=e(t,n),f=[],p={},g=0;l.forEach((function(t,e){var n=0,r=a[e].id;p[r]={},t.forEach((function(t,e){t&&(n+=t,p[r][a[e].id]=t,g+=t)})),f.push(n)})),g/=2;for(var v=1/0,m=1/0,b=0;v=y(a,l,f,g),Math.abs(v-m)>=i&&100>=b;)m=v,b++,Object.keys(c).forEach((function(t){var e=0;u.forEach((function(n){var i=h[n.source].node.clusterId,o=h[n.target].node.clusterId;(i===t&&o!==t||o===t&&i!==t)&&(e+=n[r]||1)})),c[t].sumTot=e})),a.forEach((function(t,e){var n,i=c[t.clusterId],o=0,a=f[e]/(2*g),s=0;i.nodes.forEach((function(t){s+=l[e][h[t.id].idx]||0}));var d=s-i.sumTot*a;if(Object.keys(p[t.id]).forEach((function(r){var i=h[r].node.clusterId;if(i!==t.clusterId){var s=c[i],u=s.nodes;if(u&&u.length){var f=0;u.forEach((function(t){f+=l[e][h[t.id].idx]||0}));var p=f-s.sumTot*a-d;p>o&&(o=p,n=s)}}})),o>0){n.nodes.push(t);var v=t.clusterId;t.clusterId=n.id;var y=i.nodes.indexOf(t);i.nodes.splice(y,1);var m=0,b=0;u.forEach((function(t){var e=h[t.source].node.clusterId,i=h[t.target].node.clusterId;(e===n.id&&i!==n.id||i===n.id&&e!==n.id)&&(m+=t[r]||1),(e===v&&i!==v||i===v&&e!==v)&&(b+=t[r]||1)})),n.sumTot=m,i.sumTot=b}}));Object.keys(c).forEach((function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]}));var x=[],M={};u.forEach((function(t){var e=t[r]||1,n=h[t.source].node.clusterId,i=h[t.target].node.clusterId,o="".concat(n,"---").concat(i);if(M[o])M[o].weight+=e,M[o].count++;else{var a={source:n,target:i,weight:e,count:1};M[o]=a,x.push(a)}}));var w=[];return Object.keys(c).forEach((function(t){w.push(c[t])})),{clusters:w,clusterEdges:x}},t.minimumSpanningTree=function(t,e,n){return n?{prim:M,kruskal:w}[n](t,e):w(t,e)},t.pageRank=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,u=void 0===s?[]:s,c=t.edges,h=void 0===c?[]:c,f=u.length,d={},g={},v=0;f>v;++v){var y=u[v].id;d[y]=1/f,g[y]=1/f}for(var m=p(t);a>0&&i>e;){o=0;for(var b=0;f>b;++b){var x=u[b],M=x.id;if(r=0,0===m[x.id].inDegree)d[M]=0;else{for(var w=l(M,h,"source"),O=0;w.length>O;++O){var S=w[O],E=m[S].outDegree;E>0&&(r+=g[S]/E)}d[M]=n*r,o+=d[M]}}o=(1-o)/f,i=0;for(var C=0;f>C;++C){var k=u[C].id;i+=Math.abs((r=d[k]+o)-g[k]),g[k]=r}a-=1}return g},Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assembleFont=e.getTextWidth=e.getLineSpaceing=e.getTextHeight=void 0;var r=n(276),i=n(277);function o(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var i=1;return r.isString(t)&&(i=t.split("\n").length),i>1?e*i+o(e,n)*(i-1):e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var n=i.getOffScreenContext(),o=0;if(r.isNil(t)||""===t)return o;if(n.save(),n.font=e,r.isString(t)&&t.includes("\n")){var a=t.split("\n");r.each(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},,function(t,e){},function(t,e){},function(t,e,n){"use strict";var r=n(1);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(r.b)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e}}(n(92).a)},function(t,e,n){"use strict";var r=n(1),i=n(93),o=n(24);!function(t){function e(e){return t.call(this,e)||this}Object(r.b)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var s=Object(o.c)(e,[t.minX,t.minY]),u=Object(o.c)(e,[t.maxX,t.minY]),c=Object(o.c)(e,[t.minX,t.maxY]),h=Object(o.c)(e,[t.maxX,t.maxY]);n=Math.min(s[0],u[0],c[0],h[0]),i=Math.max(s[0],u[0],c[0],h[0]),r=Math.min(s[1],u[1],c[1],h[1]),a=Math.max(s[1],u[1],c[1],h[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,d=void 0===f?0:f,p=l.shadowOffsetX,g=void 0===p?0:p,v=l.shadowOffsetY,y=void 0===v?0:v,m=n-d+g,b=i+d+g,x=r-d+y,M=a+d+y;n=Math.min(n,m),i=Math.max(i,b),r=Math.min(r,x),a=Math.max(a,M)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1}}(i.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(n(127)),i=n(36),o=n(21),a=d(n(128)),s=d(n(130)),u=d(n(131)),c=d(n(97)),h=d(n(133)),l=d(n(136)),f=d(n(137));function d(t){return t&&t.__esModule?t:{default:t}}var p=function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(e=e||{}).recognizers=(0,r.default)(e.recognizers,t.defaults.preset),new f.default(e)};e.default=p,p.defaults={domEvents:!1,touchAction:i.TOUCH_ACTION_COMPUTE,enable:!0,inputClass:null,preset:[[a.default,{enable:!1}],[s.default,{enable:!1},["rotate"]],[u.default,{direction:o.DIRECTION_HORIZONTAL}],[c.default,{direction:o.DIRECTION_HORIZONTAL},["swipe"]],[h.default],[h.default,{event:"doubletap",taps:2},["tap"]],[l.default]]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===t?e:t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,f=(l=n(57))&&l.__esModule?l:{default:l},d=n(36),p=n(29);var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t);var e,n,r,c=u(l);function l(){return i(this,l),c.apply(this,arguments)}return e=l,(n=[{key:"getTouchAction",value:function(){return[d.TOUCH_ACTION_NONE]}},{key:"attrTest",value:function(t){return a(h(l.prototype),"attrTest",this).call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&p.STATE_BEGAN)}}])&&o(e.prototype,n),r&&o(e,r),l}(f.default);e.default=g,g.prototype.defaults={event:"rotate",threshold:0,pointers:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(Array.isArray(t))return(0,i.default)(t,n[e],n),!0;return!1};var r,i=(r=n(48))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,f=(l=n(57))&&l.__esModule?l:{default:l},d=n(36),p=n(29);var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t);var e,n,r,c=u(l);function l(){return i(this,l),c.apply(this,arguments)}return e=l,(n=[{key:"getTouchAction",value:function(){return[d.TOUCH_ACTION_NONE]}},{key:"attrTest",value:function(t){return a(h(l.prototype),"attrTest",this).call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&p.STATE_BEGAN)}},{key:"emit",value:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}a(h(l.prototype),"emit",this).call(this,t)}}])&&o(e.prototype,n),r&&o(e,r),l}(f.default);e.default=g,g.prototype.defaults={event:"pinch",threshold:0,pointers:2}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=v(n(57)),f=n(32),d=n(21),p=v(n(97)),g=v(n(132));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t);var e,n,r,c=u(l);function l(){return i(this,l),c.apply(this,arguments)}return e=l,(n=[{key:"getTouchAction",value:function(){return p.default.prototype.getTouchAction.call(this)}},{key:"attrTest",value:function(t){var e,n=this.options.direction;return n&(d.DIRECTION_HORIZONTAL|d.DIRECTION_VERTICAL)?e=t.overallVelocity:n&d.DIRECTION_HORIZONTAL?e=t.overallVelocityX:n&d.DIRECTION_VERTICAL&&(e=t.overallVelocityY),a(h(l.prototype),"attrTest",this).call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&(0,f.abs)(e)>this.options.velocity&&t.eventType&d.INPUT_END}},{key:"emit",value:function(t){var e=(0,g.default)(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}])&&o(e.prototype,n),r&&o(e,r),l}(l.default);e.default=y,y.prototype.defaults={event:"swipe",threshold:10,velocity:.3,direction:d.DIRECTION_HORIZONTAL|d.DIRECTION_VERTICAL,pointers:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t===r.DIRECTION_DOWN)return"down";if(t===r.DIRECTION_UP)return"up";if(t===r.DIRECTION_LEFT)return"left";if(t===r.DIRECTION_RIGHT)return"right";return""};var r=n(21)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=v(n(134)),l=v(n(58)),f=n(36),d=n(21),p=n(29),g=v(n(98));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments)).pTime=!1,t.pCenter=!1,t._timer=null,t._input=null,t.count=0,t}return e=c,(n=[{key:"getTouchAction",value:function(){return[f.TOUCH_ACTION_MANIPULATION]}},{key:"process",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&d.INPUT_START&&0===this.count)return this.failTimeout();if(i&&o&&r){if(t.eventType!==d.INPUT_END)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||(0,g.default)(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=(0,h.default)((function(){e.state=p.STATE_RECOGNIZED,e.tryEmit()}),n.interval,this),p.STATE_BEGAN):p.STATE_RECOGNIZED}return p.STATE_FAILED}},{key:"failTimeout",value:function(){var t=this;return this._timer=(0,h.default)((function(){t.state=p.STATE_FAILED}),this.options.interval,this),p.STATE_FAILED}},{key:"reset",value:function(){clearTimeout(this._timer)}},{key:"emit",value:function(){this.state===p.STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}])&&o(e.prototype,n),r&&o(e,r),c}(l.default);e.default=y,y.prototype.defaults={event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return setTimeout((0,i.default)(t,n),e)};var r,i=(r=n(135))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=v(n(58)),l=n(29),f=n(32),d=v(n(134)),p=n(36),g=n(21);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments))._timer=null,t._input=null,t}return e=c,(n=[{key:"getTouchAction",value:function(){return[p.TOUCH_ACTION_AUTO]}},{key:"process",value:function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||t.eventType&(g.INPUT_END|g.INPUT_CANCEL)&&!o)this.reset();else if(t.eventType&g.INPUT_START)this.reset(),this._timer=(0,d.default)((function(){e.state=l.STATE_RECOGNIZED,e.tryEmit()}),n.time,this);else if(t.eventType&g.INPUT_END)return l.STATE_RECOGNIZED;return l.STATE_FAILED}},{key:"reset",value:function(){clearTimeout(this._timer)}},{key:"emit",value:function(t){this.state===l.STATE_RECOGNIZED&&(t&&t.eventType&g.INPUT_END?this.manager.emit("".concat(this.options.event,"up"),t):(this._input.timeStamp=(0,f.now)(),this.manager.emit(this.options.event,this._input)))}}])&&o(e.prototype,n),r&&o(e,r),c}(h.default);e.default=y,y.prototype.defaults={event:"press",pointers:1,time:251,threshold:9}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=p(n(66)),o=p(n(126)),a=p(n(138)),s=p(n(264)),u=p(n(48)),c=p(n(59)),h=p(n(129)),l=p(n(68)),f=p(n(58)),d=n(29);function p(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=(0,i.default)({},o.default.defaults,e||{}),this.handlers={},this.filters=[],this.session={},this.recognizers=[],this.input=(0,s.default)(this),this.touchAction=new a.default(this,this.options.touchAction),(0,u.default)(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e,n,p;return e=t,(n=[{key:"set",value:function(t){return(0,i.default)(this.options,t),t.touchAction&&this.touchAction.update(),this}},{key:"stop",value:function(t){this.session.stopped=t?2:1}},{key:"addFilter",value:function(t){if("function"!=typeof t)throw new Error("filter must be a function");this.filters.push(t)}},{key:"recognize",value:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&d.STATE_RECOGNIZED)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(d.STATE_BEGAN|d.STATE_CHANGED|d.STATE_ENDED)&&(i=e.curRecognizer=n),o++}}},{key:"get",value:function(t){if(t instanceof f.default)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null}},{key:"add",value:function(t){if((0,h.default)(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t}},{key:"remove",value:function(t){if((0,h.default)(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=(0,c.default)(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this}},{key:"on",value:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return(0,u.default)((0,l.default)(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}}},{key:"off",value:function(t,e){if(void 0!==t){var n=this.handlers;return(0,u.default)((0,l.default)(t),(function(t){e?n[t]&&n[t].splice((0,c.default)(n[t],e),1):delete n[t]})),this}}},{key:"emit",value:function(t,e){var n=this.handlers[t]&&this.handlers[t].slice();if(this.filters,n&&n.length){t.startsWith("origin_input")||(e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()});for(var r=0;r<n.length;)n[r](e),r++}}},{key:"destroy",value:function(){this.handlers={},this.filters=[],this.session={},this.input.destroy()}}])&&r(e.prototype,n),p&&r(e,p),t}();e.default=g},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(36),o=n(21),a=h(n(48)),s=h(n(67)),u=h(n(139)),c=h(n(263));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manager=e,this.set(n)}var e,n,h;return e=t,(n=[{key:"set",value:function(t){t===i.TOUCH_ACTION_COMPUTE&&(t=this.compute()),this.actions=t.toLowerCase().trim()}},{key:"update",value:function(){this.set(this.manager.options.touchAction)}},{key:"compute",value:function(){var t=[];return(0,a.default)(this.manager.recognizers,(function(e){(0,s.default)(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),(0,c.default)(t.join(" "))}},{key:"preventDefaults",value:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,a=(0,u.default)(r,i.TOUCH_ACTION_NONE)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_NONE],s=(0,u.default)(r,i.TOUCH_ACTION_PAN_Y)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_PAN_Y],c=(0,u.default)(r,i.TOUCH_ACTION_PAN_X)&&!i.TOUCH_ACTION_MAP[i.TOUCH_ACTION_PAN_X];if(a){var h=1===t.pointers.length,l=t.distance<2,f=t.deltaTime<250;if(h&&l&&f)return}if(!c||!s)return a||s&&n&o.DIRECTION_HORIZONTAL||c&&n&o.DIRECTION_VERTICAL?this.preventSrc(e):void 0}}},{key:"preventSrc",value:function(t){this.manager.session.prevented=!0,t.preventDefault()}}])&&r(e.prototype,n),h&&r(e,h),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.indexOf(e)>-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.length;if(1===e)return{x:(0,r.round)(t[0].clientX),y:(0,r.round)(t[0].clientY)};var n=0,i=0,o=0;for(;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:(0,r.round)(n/e),y:(0,r.round)(i/e)}};var r=n(32)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){n||(n=r.PROPS_XY);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI};var r=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t===e)return i.DIRECTION_NONE;if((0,r.abs)(t)>=(0,r.abs)(e))return t<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT;return e<0?i.DIRECTION_UP:i.DIRECTION_DOWN};var r=n(32),i=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return{x:e/t||0,y:n/t||0}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(21),l=p(n(100)),f=p(n(146)),d=(p(n(99)),p(n(147)));function p(t){return t&&t.__esModule?t:{default:t}}var g={touchstart:h.INPUT_START,touchmove:h.INPUT_MOVE,touchend:h.INPUT_END,touchcancel:h.INPUT_CANCEL},v="touchstart touchmove touchend touchcancel",y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),c.prototype.evTarget=v,c.prototype.targetIds={},c.prototype.events=v,(t=u.apply(this,arguments)).evTarget=v,t.targetIds={},t}return e=c,(n=[{key:"handler",value:function(t){var e=g[t.type],n=m.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:h.INPUT_TYPE_TOUCH,srcEvent:t})}}])&&o(e.prototype,n),r&&o(e,r),c}(l.default);function m(t,e){var n,r,i=(0,f.default)(t.touches),o=this.targetIds;if(e&(h.INPUT_START|h.INPUT_MOVE)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=(0,f.default)(t.changedTouches),s=[];this.target;if(r=i,e===h.INPUT_START)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),e&(h.INPUT_END|h.INPUT_CANCEL)&&delete o[a[n].identifier],n++;return s.length?[(0,d.default)(r.concat(s),"identifier",!0),s]:void 0}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.addEventListener(e,n,!1)}))},e.addManagerListeners=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.on("origin_input:".concat(e),n)}))};var r=o(n(48)),i=o(n(68));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.prototype.slice.call(t,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=[],o=[],a=0;for(;a<t.length;){var s=e?t[a][e]:t[a];(0,i.default)(o,s)<0&&r.push(t[a]),o[a]=s,a++}n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort());return r};var r,i=(r=n(59))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r="DEPRECATED METHOD: ".concat(e,"\n").concat(n," AT \n");return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=console.warn;return i&&i(r,n),t.apply(this,arguments)}}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=(0,((r=n(148))&&r.__esModule?r:{default:r}).default)((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`.");e.default=i},function(t,e,n){var r=n(283),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?e=0:r===s?e=(i-o)/u:i===s?e=2+(o-r)/u:o===s&&(e=4+(r-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,i,o,a=t[0]/255,s=t[1]/255,u=t[2]/255,c=Math.max(a,s,u),h=c-Math.min(a,s,u),l=function(t){return(c-t)/6/h+.5};return 0===h?i=o=0:(o=h/c,e=l(a),n=l(s),r=l(u),a===c?i=r-n:s===c?i=1/3+e-r:u===c&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var c=r[u],h=(o=t,a=c,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));h<s&&(s=h,n=u)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c]=255*o;return i},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,i,o,a,s,u=t[0]/360,c=t[1]/100,h=t[2]/100,l=c+h;switch(l>1&&(c/=l,h/=l),r=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(r=1-r),i=c+r*((n=1-h)-c),e){default:case 6:case 0:o=n,a=i,s=c;break;case 1:o=i,a=n,s=c;break;case 2:o=c,a=n,s=i;break;case 3:o=c,a=i,s=n;break;case 4:o=i,a=c,s=n;break;case 5:o=n,a=c,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r,i=t[0];e=t[1]/500+(n=(i+16)/116),r=n-t[2]/200;var o=Math.pow(n,3),a=Math.pow(e,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},a.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return e=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=e%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layouts=e.Layout=void 0;var r=n(65),i=function(){function t(t){var e=r.getLayoutByName(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.layoutInstance.init(t)},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();e.Layout=i,e.Layouts=new Proxy({},{get:function(t,e){return r.getLayoutByName(e)},set:function(t,e,n){return r.registerLayout(e,n),!0}})},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"easeLinear",(function(){return k})),n.d(r,"easeQuad",(function(){return j})),n.d(r,"easeQuadIn",(function(){return P})),n.d(r,"easeQuadOut",(function(){return T})),n.d(r,"easeQuadInOut",(function(){return j})),n.d(r,"easeCubic",(function(){return _})),n.d(r,"easeCubicIn",(function(){return I})),n.d(r,"easeCubicOut",(function(){return A})),n.d(r,"easeCubicInOut",(function(){return _})),n.d(r,"easePoly",(function(){return B})),n.d(r,"easePolyIn",(function(){return N})),n.d(r,"easePolyOut",(function(){return L})),n.d(r,"easePolyInOut",(function(){return B})),n.d(r,"easeSin",(function(){return F})),n.d(r,"easeSinIn",(function(){return X})),n.d(r,"easeSinOut",(function(){return Y})),n.d(r,"easeSinInOut",(function(){return F})),n.d(r,"easeExp",(function(){return W})),n.d(r,"easeExpIn",(function(){return U})),n.d(r,"easeExpOut",(function(){return q})),n.d(r,"easeExpInOut",(function(){return W})),n.d(r,"easeCircle",(function(){return V})),n.d(r,"easeCircleIn",(function(){return G})),n.d(r,"easeCircleOut",(function(){return H})),n.d(r,"easeCircleInOut",(function(){return V})),n.d(r,"easeBounce",(function(){return K})),n.d(r,"easeBounceIn",(function(){return Q})),n.d(r,"easeBounceOut",(function(){return K})),n.d(r,"easeBounceInOut",(function(){return $})),n.d(r,"easeBack",(function(){return et})),n.d(r,"easeBackIn",(function(){return J})),n.d(r,"easeBackOut",(function(){return tt})),n.d(r,"easeBackInOut",(function(){return et})),n.d(r,"easeElastic",(function(){return it})),n.d(r,"easeElasticIn",(function(){return rt})),n.d(r,"easeElasticOut",(function(){return it})),n.d(r,"easeElasticInOut",(function(){return ot}));var i=n(1),o=n(211),a=n(92),s=n(7),u=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h,l,f=0,d=0,p=0,g=0,v=0,y=0,m="object"===("undefined"==typeof performance?"undefined":c(performance))&&performance.now?performance:Date,b="object"===("undefined"==typeof window?"undefined":c(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return v||(b(M),v=m.now()+y)}function M(){v=0}function w(){this._call=this._time=this._next=null}function O(t,e,n){var r=new w;return r.restart(t,e,n),r}function S(){v=(g=m.now())+y,f=d=0;try{!function(){x(),++f;for(var t,e=h;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--f}()}finally{f=0,function(){var t,e,n=h,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);l=t,C(r)}(),v=0}}function E(){var t=m.now(),e=t-g;e>1e3&&(y-=e,g=t)}function C(t){f||(d&&(d=clearTimeout(d)),t-v>24?(t<1/0&&(d=setTimeout(S,t-m.now()-y)),p&&(p=clearInterval(p))):(p||(g=m.now(),p=setInterval(E,1e3)),f=1,b(S)))}function k(t){return+t}function P(t){return t*t}function T(t){return t*(2-t)}function j(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function I(t){return t*t*t}function A(t){return--t*t*t+1}function _(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}w.prototype=O.prototype={constructor:w,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?x():+n)+(null==e?0:+e),this._next||l===this||(l?l._next=this:h=this,l=this),this._call=t,this._time=n,C()},stop:function(){this._call&&(this._call=null,this._time=1/0,C())}};var N=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),L=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),B=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),D=Math.PI,R=D/2;function X(t){return 1==+t?1:1-Math.cos(t*R)}function Y(t){return Math.sin(t*R)}function F(t){return(1-Math.cos(D*t))/2}function z(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function U(t){return z(1-+t)}function q(t){return 1-z(t)}function W(t){return((t*=2)<=1?z(1-t):2-z(t-1))/2}function G(t){return 1-Math.sqrt(1-t*t)}function H(t){return Math.sqrt(1- --t*t)}function V(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Z=7.5625;function Q(t){return 1-K(1-t)}function K(t){return(t=+t)<4/11?Z*t*t:t<8/11?Z*(t-=6/11)*t+3/4:t<10/11?Z*(t-=9/11)*t+15/16:Z*(t-=21/22)*t+63/64}function $(t){return((t*=2)<=1?1-K(1-t):K(t-1)+1)/2}var J=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),tt=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),et=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),nt=2*Math.PI,rt=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return e*z(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),it=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return 1-e*z(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),ot=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=nt);function i(t){return((t=2*t-1)<0?e*z(-t)*Math.sin((r-t)/n):2-e*z(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*nt)},i.period=function(n){return t(e,n)},i}(1,.3),at=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function st(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ut(){}var ct="\\s*([+-]?\\d+)\\s*",ht="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ft=/^#([0-9a-f]{3,8})$/,dt=new RegExp("^rgb\\("+[ct,ct,ct]+"\\)$"),pt=new RegExp("^rgb\\("+[lt,lt,lt]+"\\)$"),gt=new RegExp("^rgba\\("+[ct,ct,ct,ht]+"\\)$"),vt=new RegExp("^rgba\\("+[lt,lt,lt,ht]+"\\)$"),yt=new RegExp("^hsl\\("+[ht,lt,lt]+"\\)$"),mt=new RegExp("^hsla\\("+[ht,lt,lt,ht]+"\\)$"),bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xt(){return this.rgb().formatHex()}function Mt(){return this.rgb().formatRgb()}function wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ft.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ot(e):3===n?new kt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?St(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?St(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dt.exec(t))?new kt(e[1],e[2],e[3],1):(e=pt.exec(t))?new kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gt.exec(t))?St(e[1],e[2],e[3],e[4]):(e=vt.exec(t))?St(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=yt.exec(t))?It(e[1],e[2]/100,e[3]/100,1):(e=mt.exec(t))?It(e[1],e[2]/100,e[3]/100,e[4]):bt.hasOwnProperty(t)?Ot(bt[t]):"transparent"===t?new kt(NaN,NaN,NaN,0):null}function Ot(t){return new kt(t>>16&255,t>>8&255,255&t,1)}function St(t,e,n,r){return r<=0&&(t=e=n=NaN),new kt(t,e,n,r)}function Et(t){return t instanceof ut||(t=wt(t)),t?new kt((t=t.rgb()).r,t.g,t.b,t.opacity):new kt}function Ct(t,e,n,r){return 1===arguments.length?Et(t):new kt(t,e,n,null==r?1:r)}function kt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Pt(){return"#"+jt(this.r)+jt(this.g)+jt(this.b)}function Tt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function jt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function It(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _t(t,e,n,r)}function At(t){if(t instanceof _t)return new _t(t.h,t.s,t.l,t.opacity);if(t instanceof ut||(t=wt(t)),!t)return new _t;if(t instanceof _t)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new _t(a,s,u,t.opacity)}function _t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Lt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}at(ut,wt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xt,formatHex:xt,formatHsl:function(){return At(this).formatHsl()},formatRgb:Mt,toString:Mt}),at(kt,Ct,st(ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pt,formatHex:Pt,formatRgb:Tt,toString:Tt})),at(_t,(function(t,e,n,r){return 1===arguments.length?At(t):new _t(t,e,n,null==r?1:r)}),st(ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new _t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kt(Nt(t>=240?t-240:t+120,i,r),Nt(t,i,r),Nt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Bt=function(t){return function(){return t}};function Dt(t,e){return function(n){return t+n*e}}function Rt(t){return 1==(t=+t)?Xt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Bt(isNaN(e)?n:e)}}function Xt(t,e){var n=e-t;return n?Dt(t,n):Bt(isNaN(t)?e:t)}var Yt=function t(e){var n=Rt(e);function r(t,e){var r=n((t=Ct(t)).r,(e=Ct(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Xt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ft(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ct(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Ft((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Lt((n-r/e)*e,a,i,o,s)}})),Ft((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Lt((n-r/e)*e,i,o,a,s)}}));var zt=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Ut(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Jt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var Wt=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},Gt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}};function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Vt=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Ht(t)||(t={}),null!==e&&"object"===Ht(e)||(e={}),e)n in t?r[n]=Jt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qt=new RegExp(Zt.source,"g");var Kt=function(t,e){var n,r,i,o=Zt.lastIndex=Qt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Zt.exec(t))&&(r=Qt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Gt(n,r)})),o=Qt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Jt=function(t,e){var n,r=$t(e);return null==e||"boolean"===r?Bt(e):("number"===r?Gt:"string"===r?(n=wt(e))?(e=n,Yt):Kt:e instanceof wt?Yt:e instanceof Date?Wt:Ut(e)?zt:Array.isArray(e)?qt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Vt:Gt)(t,e)},te=n(31),ee=[1,0,0,0,1,0,0,0,1];function ne(t,e,n){var i,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,s=e.easing;if(n=n-o-e.delay,e.repeat)i=n%a/a,i=r[s](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=r[s](i)}if(e.onFrame){var c=e.onFrame(i);t.attr(c)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,c,h;for(var l in o)if(!Object(u.h)(i[l],o[l]))if("path"===l){var f=o[l],d=i[l];f.length>d.length?(f=te.c(o[l]),d=te.c(i[l]),d=te.a(d,f),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f):e.pathFormatted||(f=te.c(o[l]),d=te.c(i[l]),d=te.b(d,f),e.fromAttrs.path=d,e.toAttrs.path=f,e.pathFormatted=!0),r[l]=[];for(var p=0;p<f.length;p++){for(var g=f[p],v=d[p],y=[],m=0;m<g.length;m++)Object(u.k)(g[m])&&v&&Object(u.k)(v[m])?(a=Jt(v[m],g[m]),y.push(a(n))):y.push(g[m]);r[l].push(y)}}else if("matrix"===l){var b=(c=i[l]||ee,(Ut(h=o[l]||ee)?zt:qt)(c,h))(n);r[l]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(l)&&(s=o[l],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[l]=o[l]:Object(u.i)(o[l])||(a=Jt(i[l],o[l]),r[l]=a(n));t.attr(r)}}(t,e,i);return!1}var re=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=O((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],ne(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ie=n(88),oe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ae(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function se(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Object(s.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var ue=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(oe,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(s.a)(oe,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new ie.a(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;u>120||c*c+h*h>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,ae(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||se(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{ae(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ce=Object(o.a)(),he=ce&&"firefox"===ce.name;!function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}Object(i.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(s.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new ue({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new re(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");s.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");s.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(he&&!Object(s.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(s.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))}}(a.a)},,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"distance",(function(){return h})),n.d(r,"isNumberEqual",(function(){return l})),n.d(r,"getBBoxByArray",(function(){return f})),n.d(r,"getBBoxRange",(function(){return d})),n.d(r,"piMod",(function(){return p}));var i=new Map;function o(t,e){i.set(t,e)}var a=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},s=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}};function u(t){return Math.min.apply(null,t)}function c(t){return Math.max.apply(null,t)}function h(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function l(t,e){return Math.abs(t-e)<.001}function f(t,e){var n=u(t),r=u(e);return{x:n,y:r,width:c(t)-n,height:c(e)-r}}function d(t,e,n,r){return{minX:u([t,n]),maxX:c([t,n]),minY:u([e,r]),maxY:c([e,r])}}function p(t){return(t+2*Math.PI)%(2*Math.PI)}n(54);function g(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function v(t,e,n){var r=t+n-2*e;if(l(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var y=function(t,e,n,r,i,o){var a=v(t,n,i)[0],s=v(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(g(t,n,i,a)),void 0!==s&&c.push(g(e,r,o,s)),f(u,c)};function m(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function b(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,h=[];if(l(s,0))l(u,0)||(i=-c/u)>=0&&i<=1&&h.push(i);else{var f=u*u-4*s*c;l(f,0)?h.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&h.push(i),o>=0&&o<=1&&h.push(o))}return h}var x=function(t,e,n,r,i,o,a,s){for(var u=[t,a],c=[e,s],h=b(t,n,i,a),l=b(e,r,o,s),d=0;d<h.length;d++)u.push(m(t,n,i,a,h[d]));for(d=0;d<l.length;d++)c.push(m(e,r,o,s,l[d]));return f(u,c)};function M(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function w(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}var O=function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,h=[o,a],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var f=s+l;o<a?o<f&&f<a&&h.push(f):a<f&&f<o&&h.push(f)}for(l=0;l<h.length;l++){var d=M(t,0,n,r,i,h[l]);d<u&&(u=d),d>c&&(c=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var m=p+l;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(l=0;l<y.length;l++){var b=w(0,e,n,r,i,y[l]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function S(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function E(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=S(e,n.getCanvasBBox())),r&&(e=S(e,r.getCanvasBBox())),e}var C=n(45),k=n(46),P=n(0);function T(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(P.l)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),h=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,h=h>Math.PI/2?Math.PI-h:h,{xExtra:Math.cos(u/2-c)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(h-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}o("rect",a),o("image",a),o("circle",s),o("marker",s),o("polyline",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}var s=r.getBBoxByArray(n,i),u=s.x,c=s.y,h={minX:u,minY:c,maxX:u+s.width,maxY:c+s.height};return{x:(h=E(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}})),o("polygon",(function(t){for(var e=t.attr().points,n=[],i=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),i.push(a[1])}return r.getBBoxByArray(n,i)})),o("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(C.a)(e));var u,c=Object(C.c)(i,s);if(c){var h=e.textAlign,l=e.textBaseline,f=Object(C.b)(i,o,a),d={x:n,y:r-f};h&&("end"===h||"right"===h?d.x-=c:"center"===h&&(d.x-=c/2)),l&&("top"===l?d.y+=f:"middle"===l&&(d.y+=f/2)),u={x:d.x,y:d.y,width:c,height:f}}else u={x:n,y:r,width:0,height:0};return u})),o("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(g=t[o]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=y(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=x(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=g.arcParams;c=O(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var l=Object(P.q)(n),f=Object(P.q)(r),d=Object(P.p)(n),p=Object(P.p)(r);if(0===i.length)return{x:l,y:f,width:d-l,height:p-f};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===l?l-=T(g,e).xExtra:a[0]===d&&(d+=T(g,e).xExtra),a[1]===f?f-=T(g,e).yExtra:a[1]===p&&(p+=T(g,e).yExtra)}return{x:l,y:f,width:d-l,height:p-f}}(t.get("segments")||Object(k.c)(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=E(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),o("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=E(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),o("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},function(t,e,n){"use strict";n(31),n(122),n(123);var r=n(88);n.d(e,"Event",(function(){return r.a}));n(89),n(207),n(124),n(125),n(209),n(45),n(7),n(24),n(90)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return""!==t&&h.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-u.length))):u=[];var h=u.join("."),f=function(t){for(var e=0,n=l.length;e<n;e++){var r=l[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=c.exec(t);return p&&p[1]?new a(n,h,f,p[1]):new i(n,h,f)}}).call(this,n(96))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return""!==t&&h.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-u.length))):u=[];var h=u.join("."),f=function(t){for(var e=0,n=l.length;e<n;e++){var r=l[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=c.exec(t);return p&&p[1]?new a(n,h,f,p[1]):new i(n,h,f)}}).call(this,n(96))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function d(t){return""!==t&&h.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function p(t){var e=d(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-u.length))):u=[];var h=u.join("."),f=function(t){for(var e=0,n=l.length;e<n;e++){var r=l[e],i=r[0];if(r[1].exec(t))return i}return null}(t),p=c.exec(t);return p&&p[1]?new a(n,h,f,p[1]):new i(n,h,f)}}).call(this,n(96))},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0;var o=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(n(10).Base);e.RandomLayout=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"registerGraph",(function(){return g}));var r=n(6),i=n(3);n.d(e,"Arrow",(function(){return i.d})),n.d(e,"Marker",(function(){return i.k})),n.d(e,"Shape",(function(){return i.m}));var o=n(87);n.d(e,"ICanvas",(function(){return o.ICanvas})),n.d(e,"IGroup",(function(){return o.IGroup})),n.d(e,"IShape",(function(){return o.IShape}));var a=n(119);n.d(e,"Algorithm",(function(){return a}));var s=n(94);n.d(e,"Graph",(function(){return s.a}));var u=n(38);n.d(e,"Layout",(function(){return u.a})),n.d(e,"registerLayout",(function(){return u.b}));var c=n(22);n.d(e,"Global",(function(){return c.a}));var h=n(39);n.d(e,"Util",(function(){return h.a}));n(484),n(485);n.d(e,"G6GraphEvent",(function(){return i.i})),n.d(e,"G6Event",(function(){return i.h})),n.d(e,"Node",(function(){return i.l})),n.d(e,"Edge",(function(){return i.g})),n.d(e,"Combo",(function(){return i.f})),n.d(e,"Hull",(function(){return i.j})),n.d(e,"registerNode",(function(){return i.r})),n.d(e,"registerCombo",(function(){return i.p})),n.d(e,"AbstractGraph",(function(){return i.b})),n.d(e,"registerEdge",(function(){return i.q})),n.d(e,"registerBehavior",(function(){return i.o})),n.d(e,"AbstractLayout",(function(){return i.c})),n.d(e,"AbstractEvent",(function(){return i.a})),n.d(e,"BaseGlobal",(function(){return i.e}));var l=n(152);for(var f in l)["default","Graph","Util","Layout","registerLayout","registerGraph","Global","Algorithm","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(f)<0&&function(t){n.d(e,t,(function(){return l[t]}))}(f);var d=n(153);for(var f in d)["default","Graph","Util","Layout","registerLayout","registerGraph","Global","Algorithm","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(f)<0&&function(t){n.d(e,t,(function(){return d[t]}))}(f);var p,g=(p=s.b,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(null,Object(r.e)(t,[v]))}),v={version:c.a.version,Graph:s.a,Util:h.a,Layout:u.a,registerLayout:u.b,registerGraph:g,Global:c.a,registerBehavior:i.o,registerCombo:i.p,registerEdge:i.q,registerNode:i.r,Algorithm:a,Arrow:i.d,Marker:i.k,Shape:i.m};e.default=v},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return y}));var i,o,a=0,s=0,u=0,c=0,h=0,l=0,f="object"===("undefined"==typeof performance?"undefined":r(performance))&&performance.now?performance:Date,d="object"===("undefined"==typeof window?"undefined":r(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return h||(d(g),h=f.now()+l)}function g(){h=0}function v(){this._call=this._time=this._next=null}function y(t,e,n){var r=new v;return r.restart(t,e,n),r}function m(){h=(c=f.now())+l,a=s=0;try{!function(){p(),++a;for(var t,e=i;e;)(t=h-e._time)>=0&&e._call.call(null,t),e=e._next;--a}()}finally{a=0,function(){var t,e,n=i,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);o=t,x(r)}(),h=0}}function b(){var t=f.now(),e=t-c;e>1e3&&(l-=e,c=t)}function x(t){a||(s&&(s=clearTimeout(s)),t-h>24?(t<1/0&&(s=setTimeout(m,t-f.now()-l)),u&&(u=clearInterval(u))):(u||(c=f.now(),u=setInterval(b,1e3)),a=1,d(m)))}v.prototype=y.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={};return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(e){return t[e]=!0})),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return r++};var r=1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.manager;if(n)return n.get(t);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t&r.STATE_CANCELLED)return"cancel";if(t&r.STATE_ENDED)return"end";if(t&r.STATE_CHANGED)return"move";if(t&r.STATE_BEGAN)return"start";return""};var r=n(29)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t,o.TOUCH_ACTION_NONE))return o.TOUCH_ACTION_NONE;var e=(0,i.default)(t,o.TOUCH_ACTION_PAN_X),n=(0,i.default)(t,o.TOUCH_ACTION_PAN_Y);if(e&&n)return o.TOUCH_ACTION_NONE;if(e||n)return e?o.TOUCH_ACTION_PAN_X:o.TOUCH_ACTION_PAN_Y;if((0,i.default)(t,o.TOUCH_ACTION_MANIPULATION))return o.TOUCH_ACTION_MANIPULATION;return o.TOUCH_ACTION_AUTO};var r,i=(r=n(139))&&r.__esModule?r:{default:r},o=n(36)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.default;t.options.inputClass&&(e=inputClass);return new e(t,r.default)};var r=o(n(265)),i=o(n(144));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=n.pointers.length,a=n.changedPointers.length,s=e&i.INPUT_START&&r-a==0,u=e&(i.INPUT_END|i.INPUT_CANCEL)&&r-a==0;n.isFirst=!!s,n.isFinal=!!u,s&&(t.session={});n.eventType=e,(0,o.default)(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n};var r,i=n(21),o=(r=n(266))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.session,p=e.pointers,g=p.length;n.firstInput||(n.firstInput=(0,i.default)(e));g>1&&!n.firstMultiple?n.firstMultiple=(0,i.default)(e):1===g&&(n.firstMultiple=!1);var v=n.firstInput,y=n.firstMultiple,m=y?y.center:v.center,b=e.center=(0,o.default)(p);e.timeStamp=(0,r.now)(),e.deltaTime=e.timeStamp-v.timeStamp,e.angle=(0,s.default)(m,b),e.distance=(0,a.default)(m,b),(0,c.default)(n,e),e.offsetDirection=(0,u.default)(e.deltaX,e.deltaY);var x=(0,h.default)(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=x.x,e.overallVelocityY=x.y,e.overallVelocity=(0,r.abs)(x.x)>(0,r.abs)(x.y)?x.x:x.y,e.scale=y?(0,l.default)(y.pointers,p):1,e.rotation=y?(0,f.default)(y.pointers,p):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,(0,d.default)(n,e)};var r=n(32),i=(p(n(99)),p(n(267))),o=p(n(140)),a=p(n(98)),s=p(n(141)),u=p(n(142)),c=p(n(268)),h=p(n(143)),l=p(n(269)),f=p(n(270)),d=p(n(271));function p(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[],n=0;for(;n<t.pointers.length;)e[n]={clientX:(0,i.round)(t.pointers[n].clientX),clientY:(0,i.round)(t.pointers[n].clientY)},n++;return{timeStamp:(0,i.now)(),pointers:e,center:(0,o.default)(e),deltaX:t.deltaX,deltaY:t.deltaY}};var r,i=n(32),o=(r=n(140))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};e.eventType!==r.INPUT_START&&a.eventType!==r.INPUT_END||(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)};var r=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,o.default)(e[0],e[1],i.PROPS_CLIENT_XY)/(0,o.default)(t[0],t[1],i.PROPS_CLIENT_XY)};var r,i=n(21),o=(r=n(98))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(e[1],e[0],o.PROPS_CLIENT_XY)+(0,i.default)(t[1],t[0],o.PROPS_CLIENT_XY)};var r,i=(r=n(141))&&r.__esModule?r:{default:r},o=n(21)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,s,u,c,h=t.lastInterval||e,l=e.timeStamp-h.timeStamp;if(e.eventType!==r.INPUT_CANCEL&&(l>r.COMPUTE_INTERVAL||void 0===h.velocity)){var f=e.deltaX-h.deltaX,d=e.deltaY-h.deltaY,p=(0,o.default)(l,f,d);s=p.x,u=p.y,n=(0,i.abs)(p.x)>(0,i.abs)(p.y)?p.x:p.y,c=(0,a.default)(f,d),t.lastInterval=e}else n=h.velocity,s=h.velocityX,u=h.velocityY,c=h.direction;e.velocity=n,e.velocityX=s,e.velocityY=u,e.direction=c};var r=n(21),i=n(32),o=s(n(143)),a=s(n(142));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(21),l=d(n(100)),f=d(n(59));function d(t){return t&&t.__esModule?t:{default:t}}var p={pointerdown:h.INPUT_START,pointermove:h.INPUT_MOVE,pointerup:h.INPUT_END,pointercancel:h.INPUT_CANCEL,pointerout:h.INPUT_CANCEL},g={2:h.INPUT_TYPE_TOUCH,3:h.INPUT_TYPE_PEN,4:h.INPUT_TYPE_MOUSE,5:h.INPUT_TYPE_KINECT},v="pointermove pointerup pointercancel",y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),c.prototype.events="".concat("pointerdown"," ").concat(v),(t=u.apply(this,arguments)).evEl="pointerdown",t.evWin=v,t.store=t.manager.session.pointerEvents=[],t}return e=c,(n=[{key:"handler",value:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=p[r],o=g[t.pointerType]||t.pointerType,a=o===h.INPUT_TYPE_TOUCH,s=(0,f.default)(e,t.pointerId,"pointerId");i&h.INPUT_START&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(h.INPUT_END|h.INPUT_CANCEL)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}}])&&o(e.prototype,n),r&&o(e,r),c}(l.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.removeEventListener(e,n,!1)}))},e.removeManagerListeners=function(t,e,n){(0,r.default)((0,i.default)(e),(function(e){t.off("origin_input:".concat(e),n)}))};var r=o(n(48)),i=o(n(68));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(148)),i=o(n(149));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)((function(t,e){return(0,i.default)(t,e,!0)}),"merge","Use `assign`.");e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&(0,i.default)(r,n)};var r,i=(r=n(66))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAllowCapture=e.isParent=e.upperFirst=e.each=e.mix=e.isArray=e.isObject=e.isString=e.isFunction=e.isNil=e.isBrowser=e.removeFromArray=void 0,e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var r=n(4);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return r.isNil}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r.isFunction}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.isString}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return r.isObject}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return r.isArray}}),Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return r.mix}}),Object.defineProperty(e,"each",{enumerable:!0,get:function(){return r.each}}),Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return r.upperFirst}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOffScreenContext=void 0;var r=null;e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},function(t,e,n){var r=n(279),i=n(280),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),n="hsl";break;case"hwb":e=s.get.hwb(t),n="hwb";break;default:e=s.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,n,i,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(e.slice(a,a+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=r[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},s.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return o[t.slice(0,3)]}},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){"use strict";var r=n(281),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(150),o=n(284),a={};Object.keys(i).forEach((function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:i[t].channels}),Object.defineProperty(a[t],"labels",{value:i[t].labels});var e=o(t);Object.keys(e).forEach((function(n){var i=e[n];a[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"===r(n))for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),a[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))})),t.exports=a},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){var r=n(150);function i(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],c=e[u];-1===c.distance&&(c.distance=e[i].distance+1,c.parent=i,n.unshift(u))}return e}function o(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],i=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),i=o(r[e[a].parent][a],i),a=e[a].parent;return i.conversion=n,i}t.exports=function(t){for(var e=i(t),n={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var u=r[s];null!==e[u].parent&&(n[u]=a(u,e))}return n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;var o=n(3),a={}.toString,s=function(t,e){return a.call(t)==="[object "+e+"]"},u=function(t){return s(t,"Function")},c=function(t){return Array.isArray?Array.isArray(t):s(t,"Array")};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=function(t){var e=h(t);return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(c(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(l(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=function(t){return"object"===d(t)&&null!==t},g=function(t){if(!p(t)||!s(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var v=Array.prototype,y=(v.splice,v.indexOf,Array.prototype.splice,function(t){return s(t,"String")});Object.prototype.hasOwnProperty;var m=function(t){return s(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;function b(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function x(t,e,n,r){return e&&b(t,e),n&&b(t,n),r&&b(t,r),t}function M(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&g(o)?(g(t[i])||(t[i]={}),n<r?M(t[i],o,n+1,r):t[i]=e[i]):c(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var w=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)M(t,e[r]);return t};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();Object(o.r)("circle",{options:{size:o.e.defaultNode.size,style:{x:0,y:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=w({},i,t.icon),s=e.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0}),u=a.width,c=a.height;return a.show&&e.addShape("image",{attrs:r({x:-u/2,y:-c/2},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(t,e),s},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,h=o.size,l=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t)[0]/2;s&&e.addShape("circle",{attrs:r(r({},f),{x:-d,y:0,r:h/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:d,y:0,r:h/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-d,r:h/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:d,r:h/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,n={stroke:t.color},i=w({},e,n),o=this.getSize(t)[0]/2;return r({x:0,y:0,r:o},i)},update:function(t,e){var n=e.getContainer(),r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get("keyShape"),a=w({},o.attr(),i,t.style);this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("rect",{options:{size:[100,30],style:{radius:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:r({},o.e.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,h=o.size,l=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:h/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:h/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:h/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:h/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getSize(t),i=e.width||n[0],o=e.height||n[1];return r({x:-i/2,y:-o/2,width:i,height:o},e)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=x({},r,o.attr(),a);s=x(s,t.style),this.updateShape(t,e,s,!1),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=i.width,u=i.height;if(i.show)e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,h=o.size,l=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0]/2,g=d[1]/2;s&&e.addShape("circle",{attrs:r(r({},f),{x:-p,y:0,r:h/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p,y:0,r:h/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g,r:h/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g,r:h/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getSize(t),i=n[0]/2,o=n[1]/2;return r({x:0,y:0,rx:i,ry:o},e)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getSize(t),o={stroke:t.color,rx:i[0]/2,ry:i[1]/2},a=x({},r,e.get("keyShape").attr(),o);a=x(a,t.style),this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("diamond",{options:{size:[80,80],style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=i.width,u=i.height;if(i.show)e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,h=o.size,l=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:h/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:h/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:h/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:h/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getPath(t);return r({path:n},e)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=x({},r,e.get("keyShape").attr(),o);a=x(a,t.style),this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)}},"single-node"),Object(o.r)("triangle",{options:{size:40,direction:"up",style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.getOptions(t),i=n.icon,o=void 0===i?{}:i,a=n.direction,s=this.getShapeStyle(t),u=t.direction||a,c=e.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=o.width,l=o.height,f=o.show,d=o.offset;if(f){var p=-h/2,g=-l/2;"up"!==u&&"down"!==u||(g+=d),"left"!==u&&"right"!==u||(p+=d),e.addShape("image",{attrs:r({x:p,y:g},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(t,e),c},drawLinkPoints:function(t,e){var n=this.getOptions(t),o=n.linkPoints,a=void 0===o?{}:o,s=n.direction,u=t.direction||s,c=a.top,h=a.left,l=a.right,f=a.bottom,d=a.size,p=a.r,g=i(a,["top","left","right","bottom","size","r"]),v=this.getSize(t)[0];if(h){var y=null,m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?y=[-b,m]:"down"===u?y=[-b,-m]:"left"===u&&(y=[-b,b-m]),y&&e.addShape("circle",{attrs:r(r({},g),{x:y[0],y:y[1],r:d/2||p||5}),className:"link-point-left",name:"link-point-left"})}if(l){var x=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?x=[b,m]:"down"===u?x=[b,-m]:"right"===u&&(x=[b,b-m]),x&&e.addShape("circle",{attrs:r(r({},g),{x:x[0],y:x[1],r:d/2||p||5}),className:"link-point-right",name:"link-point-right"})}if(c){var M=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"up"===u?M=[b-m,-m]:"left"===u?M=[b,-m]:"right"===u&&(M=[-b,-m]),M&&e.addShape("circle",{attrs:r(r({},g),{x:M[0],y:M[1],r:d/2||p||5}),className:"link-point-top",name:"link-point-top"})}if(f){var w=null;m=v*Math.sin(1/3*Math.PI),b=v*Math.sin(1/3*Math.PI);"down"===u?w=[-b+m,m]:"left"===u?w=[b,m]:"right"===u&&(w=[-b,m]),w&&e.addShape("circle",{attrs:r(r({},g),{x:w[0],y:w[1],r:d/2||p||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(t){var e=this.getOptions(t).direction,n=t.direction||e,r=this.getSize(t)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getPath(t);return r({path:n},e)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=x({},r,e.get("keyShape").attr(),o);a=x(a,t.style),this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}),i=n.linkPoints,o=n.direction,a=t.direction||o,s=e.find((function(t){return"link-point-left"===t.get("className")})),u=e.find((function(t){return"link-point-right"===t.get("className")})),c=e.find((function(t){return"link-point-top"===t.get("className")})),h=e.find((function(t){return"link-point-bottom"===t.get("className")})),l=i,f=s||u||c||h;f&&(l=f.attr());var d=x({},l,t.linkPoints),p=d.fill,g=d.stroke,v=d.lineWidth,y=d.size/2;y||(y=d.r);var m=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},b=m.left,M=m.right,w=m.top,O=m.bottom,S=this.getSize(t)[0],E={r:y,fill:p,stroke:g,lineWidth:v},C=null,k=S*Math.sin(1/3*Math.PI),P=S*Math.sin(1/3*Math.PI);"up"===a?C=[-P,k]:"down"===a?C=[-P,-k]:"left"===a&&(C=[-P,P-k]),C&&(s?b||void 0===b?s.attr(r(r({},E),{x:C[0],y:C[1]})):s.remove():b&&e.addShape("circle",{attrs:r(r({},E),{x:C[0],y:C[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var T=null;"up"===a?T=[P,k]:"down"===a?T=[P,-k]:"right"===a&&(T=[P,P-k]),T&&(u?M||void 0===M?u.attr(r(r({},E),{x:T[0],y:T[1]})):u.remove():M&&e.addShape("circle",{attrs:r(r({},E),{x:T[0],y:T[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var j=null;"up"===a?j=[P-k,-k]:"left"===a?j=[P,-k]:"right"===a&&(j=[-P,-k]),j&&(c?w||void 0===w?c.attr(r(r({},E),{x:j[0],y:j[1]})):c.remove():w&&e.addShape("circle",{attrs:r(r({},E),{x:j[0],y:j[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var I=null;"down"===a?I=[-P+k,k]:"left"===a?I=[P,k]:"right"===a&&(I=[-P,k]),I&&(h?O||void 0===O?h.attr(r(r({},E),{x:I[0],y:I[1]})):h.remove():O&&e.addShape("circle",{attrs:r(r({},E),{x:I[0],y:I[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Object(o.r)("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:o.e.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=this.getOptions(t).preRect,o=void 0===n?{}:n,a=this.getShapeStyle(t),s=this.getSize(t),u=s[0],c=s[1],h=e.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),l=o.show,f=i(o,["show"]);return l&&e.addShape("rect",{attrs:r({x:-u/2,y:-c/2,height:c},f),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),h},drawLogoIcon:function(t,e){var n=this.getOptions(t).logoIcon,o=void 0===n?{}:n,a=this.getSize(t)[0];if(o.show){var s=o.width,u=o.height,c=o.x,h=o.y,l=o.offset,f=i(o,["width","height","x","y","offset"]);e.addShape("image",{attrs:r(r({},f),{x:c||-a/2+s+l,y:h||-u/2,width:s,height:u}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=this.getOptions(t).stateIcon,o=void 0===n?{}:n,a=this.getSize(t)[0];if(o.show){var s=o.width,u=o.height,c=o.x,h=o.y,l=o.offset,f=i(o,["width","height","x","y","offset"]);e.addShape("image",{attrs:r(r({},f),{x:c||a/2-s+l,y:h||-u/2,width:s,height:u}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.bottom,h=o.size,l=o.r,f=i(o,["top","left","right","bottom","size","r"]),d=this.getSize(t),p=d[0],g=d[1];s&&e.addShape("circle",{attrs:r(r({},f),{x:-p/2,y:0,r:h/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),u&&e.addShape("circle",{attrs:r(r({},f),{x:p/2,y:0,r:h/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:-g/2,r:h/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),c&&e.addShape("circle",{attrs:r(r({},f),{x:0,y:g/2,r:h/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(t,e){var n=this.getOptions(t),i=n.labelCfg,o=void 0===i?{}:i,a=n.logoIcon,s=void 0===a?{}:a,u=n.descriptionCfg,c=void 0===u?{}:u,h=this.getSize(t)[0],l=null,f=s.show,d=s.width,p=-h/2+o.offset;f&&(p=-h/2+d+o.offset);var g=o.style,v=c.style,m=c.paddingTop;return y(t.description)?(l=e.addShape("text",{attrs:r(r({},g),{x:p,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0}),e.addShape("text",{attrs:r(r({},v),{x:p,y:17+(m||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})):l=e.addShape("text",{attrs:r(r({},g),{x:p,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0}),l},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getSize(t),i=e.width||n[0],o=e.height||n[1];return r({x:-i/2,y:-o/2,width:i,height:o},e)},update:function(t,e){var n=this.getOptions(t),o=n.style,a=void 0===o?{}:o,s=n.labelCfg,u=void 0===s?{}:s,c=n.descriptionCfg,h=void 0===c?{}:c,l=this.getSize(t),f=l[0],d=l[1];e.get("keyShape").attr(r(r({},a),{x:-f/2,y:-d/2,width:f,height:d}));var p=e.getContainer(),g=p.find((function(t){return"rect-logo-icon"===t.get("className")})),v=x({},g?g.attr():{},t.logoIcon),m=v.width;void 0===m&&(m=this.options.logoIcon.width);var b=t.logoIcon?t.logoIcon.show:void 0,M=u.offset,w=-f/2+m+M;b||void 0===b||(w=-f/2+M);var O=p.find((function(t){return"node-label"===t.get("className")})),S=p.find((function(t){return"rect-description"===t.get("className")}));if(t.label)if(O){var E=t.labelCfg?t.labelCfg.style:{},C=x({},O.attr(),E);t.label&&(C.text=t.label),C.x=w,y(t.description)&&(C.y=-5),S&&(S.resetMatrix(),S.attr({x:w})),O.resetMatrix(),O.attr(C)}else p.addShape("text",{attrs:r(r({},u.style),{x:w,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0});if(y(t.description)){var k=h.paddingTop;if(S){E=t.descriptionCfg?t.descriptionCfg.style:{};var P=x({},S.attr(),E);y(t.description)&&(P.text=t.description),P.x=w,S.resetMatrix(),S.attr(r(r({},P),{y:17+(k||0)}))}else p.addShape("text",{attrs:r(r({},h.style),{x:w,y:17+(k||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})}var T=p.find((function(t){return"pre-rect"===t.get("className")}));if(T){var j=x({},T.attr(),t.preRect);T.attr(r(r({},j),{x:-f/2,y:-d/2,height:d}))}if(g)if(b||void 0===b){var I=v.width,A=v.height,_=v.x,N=v.y,L=v.offset,B=i(v,["width","height","x","y","offset"]);g.attr(r(r({},B),{x:_||-f/2+I+L,y:N||-A/2,width:I,height:A}))}else g.remove();else b&&this.drawLogoIcon(t,p);var D=p.find((function(t){return"rect-state-icon"===t.get("className")})),R=x({},D?D.attr():{},t.stateIcon);if(D){R.show||void 0===R.show||D.remove();var X=R.width,Y=(A=R.height,_=R.x,N=R.y,R.offset),F=i(R,["width","height","x","y","offset"]);D.attr(r(r({},F),{x:_||f/2-X+Y,y:N||-A/2,width:X,height:A}))}else R.show&&this.drawStateIcon(t,p);this.updateLinkPoints(t,p)}},"single-node"),Object(o.r)("star",{options:{size:60,style:{stroke:o.e.defaultNode.style.stroke,fill:o.e.defaultNode.style.fill,lineWidth:o.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:o.e.nodeLabel.style.fill,fontSize:o.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:o.e.defaultNode.linkPoints.size,lineWidth:o.e.defaultNode.linkPoints.lineWidth,fill:o.e.defaultNode.linkPoints.fill,stroke:o.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:r({},o.e.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=this.getOptions(t).icon,i=void 0===n?{}:n,o=this.getShapeStyle(t),a=e.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=i.width,u=i.height;if(i.show)e.addShape("image",{attrs:r({x:-s/2,y:-u/2},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var n=this.getOptions(t).linkPoints,o=void 0===n?{}:n,a=o.top,s=o.left,u=o.right,c=o.leftBottom,h=o.rightBottom,l=o.size,f=o.r,d=i(o,["top","left","right","leftBottom","rightBottom","size","r"]),p=this.getSize(t)[0];if(u){var g=Math.cos(.1*Math.PI)*p,v=Math.sin(.1*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:l/2||f||5}),className:"link-point-right",name:"link-point-right"})}if(a){g=Math.cos(.5*Math.PI)*p,v=Math.sin(.5*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:l/2||f||5}),className:"link-point-top",name:"link-point-top"})}if(s){g=Math.cos(.9*Math.PI)*p,v=Math.sin(.9*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:l/2||f||5}),className:"link-point-left",name:"link-point-left"})}if(c){g=Math.cos(1.3*Math.PI)*p,v=Math.sin(1.3*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:l/2||f||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(h){g=Math.cos(1.7*Math.PI)*p,v=Math.sin(1.7*Math.PI)*p;e.addShape("circle",{attrs:r(r({},d),{x:g,y:-v,r:l/2||f||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){for(var e=this.getSize(t)[0],n=3*e/8,r=t.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*e,s=Math.sin((18+72*o)/180*Math.PI)*e,u=Math.cos((54+72*o)/180*Math.PI)*r,c=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-c])}return i.push(["Z"]),i},getShapeStyle:function(t){var e=x({},this.getOptions(t).style,{stroke:t.color}),n=this.getPath(t);return r({path:n},e)},update:function(t,e){var n=e.getContainer(),r=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=x({},r,e.get("keyShape").attr(),o);a=x(a,t.style),this.updateShape(t,e,a,!0),this.updateLinkPoints(t,n)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,i=e.find((function(t){return"link-point-left"===t.get("className")})),o=e.find((function(t){return"link-point-right"===t.get("className")})),a=e.find((function(t){return"link-point-top"===t.get("className")})),s=e.find((function(t){return"link-point-left-bottom"===t.get("className")})),u=e.find((function(t){return"link-point-right-bottom"===t.get("className")})),c=n,h=i||o||a||s||u;h&&(c=h.attr());var l=x({},c,t.linkPoints),f=l.fill,d=l.stroke,p=l.lineWidth,g=l.size/2;g||(g=l.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},y=v.left,m=v.right,b=v.top,M=v.leftBottom,w=v.rightBottom,O=this.getSize(t)[0],S={r:g,fill:f,stroke:d,lineWidth:p},E=Math.cos(.1*Math.PI)*O,C=Math.sin(.1*Math.PI)*O;o?m||void 0===m?o.attr(r(r({},S),{x:E,y:-C})):o.remove():m&&e.addShape("circle",{attrs:r(r({},S),{x:E,y:-C}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),E=Math.cos(.5*Math.PI)*O,C=Math.sin(.5*Math.PI)*O,a?b||void 0===b?a.attr(r(r({},S),{x:E,y:-C})):a.remove():b&&e.addShape("circle",{attrs:r(r({},S),{x:E,y:-C}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),E=Math.cos(.9*Math.PI)*O,C=Math.sin(.9*Math.PI)*O,i?y||void 0===y?i.attr(r(r({},S),{x:E,y:-C})):i.remove():y&&e.addShape("circle",{attrs:r(r({},S),{x:E,y:-C}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),E=Math.cos(1.3*Math.PI)*O,C=Math.sin(1.3*Math.PI)*O,s?M||void 0===M?s.attr(r(r({},S),{x:E,y:-C})):s.remove():M&&e.addShape("circle",{attrs:r(r({},S),{x:E,y:-C}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),E=Math.cos(1.7*Math.PI)*O,C=Math.sin(1.7*Math.PI)*O,u?w||void 0===w?u.attr(r(r({},S),{x:E,y:-C})):s.remove():w&&e.addShape("circle",{attrs:r(r({},S),{x:E,y:-C}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var O=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},S=function(t){for(var e=[],n={},r=t.length-1;r>=0;r--){var i=t[r];i.id=i.x+"|||"+i.y,n[i.id]=i,e.push(i)}return e},E=function(t){return S(t)},C=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},k=function(t,e,n){var r=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return 0===n&&0===r?0:n/e.width>r/e.height}(e,t);if(0===r){var i=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?i=t.maxX:n.x<e.x?i=t.minX:n.x===e.x&&(o=t.maxY),{x:i,y:o}}return r?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},P=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},T=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},j=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},I=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},A=function(t,e,n,r,i){return I(t,e)+I(t,n)+function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n}(t,[e,n,r,i])},_=function t(e,n,r,i,o){void 0===o&&(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},N=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=r.x-t.x,s=r.y-t.y,u=n.x-e.x,c=n.y-e.y,h=r.x-e.x,l=r.y-e.y;return(i*s-o*a)*(u*l-c*h)<=0&&(i*c-o*u)*(a*l-s*h)<=0},L=function(t,e,n){if(n.width||n.height){var r=T(n),i=r[0],o=r[1],a=r[2],s=r[3];return N(t,e,i,o)||N(t,e,i,s)||N(t,e,o,a)||N(t,e,a,s)}return!1},B=function(t,e,n,r){var i=[];return t.forEach((function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(L(t,e,n)||L(t,e,r))return;i.push(t)}})),S(i)},D=function(t,e){var n=[],r=t[0];return n.push("M"+r.x+" "+r.y),t.forEach((function(r,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(r,o,a)){var s=function(t,e,n,r){var i=I(t,e),o=I(n,e);return i<r&&(r=i),o<r&&(r=o),[{x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},{x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)}]}(r,o,a,e),u=s[0],c=s[1];n.push("L"+u.x+" "+u.y),n.push("Q"+o.x+" "+o.y+" "+c.x+" "+c.y),n.push("L"+c.x+" "+c.y)}else n.push("L"+o.x+" "+o.y);else o&&n.push("L"+o.x+" "+o.y)})),n.join("")},R=function(t,e,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||O(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=O(t);if(r&&r.getType())if("combo"===r.getType()){(a=r.getKeyShape().getCanvasBBox()||O(e)).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=r&&r.getBBox();else a=O(e);var s=C(o,i),u=C(a,i),c=k(s,t,e),h=k(u,e,t),l=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach((function(t){e.push(t.x),n.push(t.y)}));var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([c,h]),f=P(s,l),d=P(u,l),p=[];p=p.concat(T(f)).concat(T(d));var g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[l,f,d].forEach((function(t){p=p.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,g).filter((function(t){return j(t,s)&&j(t,u)})))})),[{x:c.x,y:h.y},{x:h.x,y:c.y}].forEach((function(t){j(t,s)&&j(t,u)&&p.push(t)})),p.unshift(c),p.push(h);var v=function(t,e,n,r,i,o,a){var s=[],u=[e],c={},h={},l={};h[e.id]=0,l[e.id]=A(e,n,e);var f,d,p,g,v,y={};for(t.forEach((function(t){y[t.id]=t}));u.length;){if(f=void 0,d=1/0,u.forEach((function(t){l[t.id]<=d&&(d=l[t.id],f=t)})),f===n){var m=[];return _(m,y,c,n.id),m}g=f,v=void 0,(v=(p=u).indexOf(g))>-1&&p.splice(v,1),s.push(f),B(t,f,r,i).forEach((function(t){if(-1===s.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var r=l[f.id]+I(f,t);h[t.id]&&r>=h[t.id]||(c[t.id]=f.id,h[t.id]=r,l[t.id]=h[t.id]+A(t,n,e,o,a))}}))}return[e,n]}(p=S(p),c,h,o,a,t,e);return v.unshift(t),v.push(e),E(v)},X={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,r,i){return E(R(t,e,n,r,i.offset))}},Y=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),F=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n||r?Math.atan2(r,n):0},z=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},U=function(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var a=n(t,e[i]);a<r&&(r=a)}return r},q=function(t,e,n,r,i){var a=[];if(!n)return[t];var s=i.directions,u=i.offset,c=n.getBBox(),h=e.x>c.minX&&e.x<c.maxX&&e.y>c.minY&&e.y<c.maxY,l=C(c,u);for(var f in l)l[f]=Y(l[f],i.gridSize);if(h){for(var d=0,p=s;d<p.length;d++){var g=p[d],v=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]];for(f=0;f<4;f++){var y=v[f],m=o.n.getLineIntersect(t,{x:t.x+g.stepX*l.width,y:t.y+g.stepY*l.height},y[0],y[1]);m&&!L(t,m,c)&&(m.id=m.x+"|||"+m.y,a.push(m))}}return a}var b=k(l,t,r);return b.id=b.x+"|||"+b.y,[b]},W=function(t,e,n,r){var i=F(t,e);if(!n[t.id]){var o=F(r,t);return z(o,i)}var a=F({x:n[t.id].x,y:n[t.id].y},t);return z(a,i)},G=function(t,e,n,r,i,o,a){var s=[r],u=t.id,c=t.x,h=t.y,l={x:c,y:h,id:u};for(W(l,o,e,n)&&s.unshift({x:o.x===r.x?r.x:l.x*a,y:o.y===r.y?r.y:l.y*a});e[u]&&e[u].id!==u;){var f={x:c,y:h,id:u},d=e[u].id,p=e[u].x,g=e[u].y,v={x:p,y:g,id:d};W(v,f,e,n)&&s.unshift({x:v.x===f.x?s[0].x:v.x*a,y:v.y===f.y?s[0].y:v.y*a}),u=d,c=p,h=g}var y=c,m=h;return s[0].x=y===n.x?i.x:s[0].x,s[0].y=m===n.y?i.y:s[0].y,s.unshift(i),s},H=function(t,e,n,r,i){if(isNaN(t.x)||isNaN(e.x))return[];var o=w(X,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(t,e,n){var r={};return t.forEach((function(t){if(t)for(var i=C(t.getBBox(),n),o=Y(i.minX,e);o<=Y(i.maxX,e);o+=1)for(var a=Y(i.minY,e);a<=Y(i.maxY,e);a+=1)r[o+"|||"+a]=!0})),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:Y(t.x,a),y:Y(t.y,a)},c={x:Y(e.x,a),y:Y(e.y,a)};t.id=u.x+"|||"+u.y,e.id=c.x+"|||"+c.y;var h=q(u,t,n,c,o),l=q(c,e,r,u,o);h.forEach((function(t){delete s[t.id]})),l.forEach((function(t){delete s[t.id]}));for(var f={},d={},p={},g={},v={},y=0;y<h.length;y++){var m=h[y];f[m.id]=m,g[m.id]=0,v[m.id]=U(m,l,o.distFunc)}for(var b,x,M,O,S,E,k,P=o.maximumLoops,T=o.penalties;Object.keys(f).length>0&&P>0&&(b=void 0,x=1/0,Object.keys(f).forEach((function(t){var e=f[t].id;v[e]<=x&&(x=v[e],b=f[e])})),b);){if(l.findIndex((function(t){return t.x===b.x&&t.y===b.y}))>-1)return G(b,p,u,e,t,c,a);delete f[b.id],d[b.id]=!0;for(y=0;y<o.directions.length;y++)M=o.directions[y],d[(O={x:b.x+M.stepX,y:b.y+M.stepY,id:Math.round(b.x)+M.stepX+"|||"+(Math.round(b.y)+M.stepY)}).id]||(k=W(b,O,p,u))>o.maxAllowedDirectionChange||s[O.id]||(f[O.id]||(f[O.id]=O),S=o.distFunc(b,O)+(isNaN(T[k])?a:T[k]),E=g[b.id]+S,g[O.id]&&E>=g[O.id]||(p[O.id]=b,g[O.id]=E,v[O.id]=E+U(O,l,o.distFunc)));P-=1}return o.fallbackRoute(t,e,n,r,o)};Object(o.q)("polyline",{options:{color:o.e.defaultEdge.color,size:o.e.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:o.e.defaultEdge.style.stroke,lineAppendWidth:o.e.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:o.e.edgeLabel.style.fill,fontSize:o.e.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:r({},o.e.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return 0===n.radius&&delete n.radius,e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n})},getShapeStyle:function(t){var e=x({},this.options.style,{stroke:t.color},t.style);t=this.getPathPoints(t),this.radius=e.radius,this.offset=e.offset;var n=t.startPoint,r=t.endPoint,i=this.getControlPoints(t),a=[n];i&&(a=a.concat(i)),a.push(r);var s=t.sourceNode,u=t.targetNode,h=e.radius,l=x({},this.options.routeCfg,t.routeCfg);l.offset=e.offset;var f=this.getPath(a,s,u,h,l);return(c(f)&&f.length<=1||y(f)&&-1===f.indexOf("L"))&&(f="M0 0, L0 0"),(isNaN(n.x)||isNaN(n.y)||isNaN(r.x)||isNaN(r.y))&&(f="M0 0, L0 0"),x({},o.e.defaultEdge.style,e,{lineWidth:t.size,path:f})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var r={stroke:t.color},i=n.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),h=[a];u&&(h=h.concat(u)),h.push(s);var l=i.attr(),f=x({},r,l,t.style),d=t.sourceNode,p=t.targetNode,g=f.radius,v=x({},this.options.routeCfg,t.routeCfg);v.offset=f.offset;var m=this.getPath(h,d,p,g,v);(c(m)&&m.length<=1||y(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),l.endArrow&&!1===f.endArrow&&(t.style.endArrow={path:""}),l.startArrow&&!1===f.startArrow&&(t.style.startArrow={path:""});var b=x(r,i.attr(),{lineWidth:o,path:m},t.style);i&&i.attr(b)}},getPath:function(t,e,n,r,i){var a=i.offset,s=i.simple;if(!a||t.length>2){if(r)return D(t,r);var u=[];return f(t,(function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["L",t.x,t.y])})),u}var c=s?R(t[t.length-1],t[0],n,e,a):H(t[0],t[t.length-1],e,n,i);return c&&c.length?r?D(c,r):o.n.pointsToPolygon(c):"M0 0, L0 0"}},"single-edge")},function(t,e,n){"use strict";var r=n(6),i=n(2),o=n(3),a=n(39),s=a.a.cloneEvent,u=a.a.isNaN,c=Math.abs,h={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{"canvas:dragstart":"onDragStart","canvas:drag":"onDragMove","canvas:dragend":"onDragEnd","canvas:tap":"onDragEnd"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,r=+t.clientY;if(!u(n)&&!u(r)){var i=n-e.x,o=r-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox();(c.minX<=a+this.scalableRange&&c.minX+i>a+this.scalableRange||c.maxX+this.scalableRange>=0&&c.maxX+this.scalableRange+i<0)&&(i=0),(c.minY<=s+this.scalableRange&&c.minY+o>s+this.scalableRange||c.maxY+this.scalableRange>=0&&c.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(i,o)}},onDragStart:function(t){t.originalEvent;if(this.shouldBegin.call(this,t)){var e=t.target,n=e&&e.isCanvas&&e.isCanvas();if((this.allowDragOnItem||n)&&(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize)){for(var r=this.graph,i=r.getEdges(),o=0,a=i.length;o<a;o++){var s=i[o].get("group").get("children");s&&s.forEach((function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()}))}for(var u=r.getNodes(),c=0,h=u.length;c<h;c++)for(var l=0,f=u[c].getContainer().get("children");l<f.length;l++){var d=f[l];d.get("isKeyShape")||(d.set("ori-visibility",d.get("ori-visibility")||d.get("visible")),d.hide())}}}},onDragMove:function(t){this.graph;var e=t.target,n=e&&e.isCanvas&&e.isCanvas();if((this.allowDragOnItem||n)&&(t=s(t),this.origin)){if(!this.dragging){if(c(this.origin.x-t.clientX)+c(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}},onDragEnd:function(t){var e=this.graph;if(this.enableOptimize){for(var n=e.getEdges(),r=0,i=n.length;r<i;r++){var o=n[r].get("group").get("children");o&&o.forEach((function(t){t.get("ori-visibility")&&t.show()}))}for(var a=e.getNodes(),u=0,c=a.length;u<c;u++)for(var h=0,l=a[u].getContainer().get("children");h<l.length;h++){var f=l[h];if(!f.get("isKeyShape"))f.get("ori-visibility")&&f.show()}}this.dragging?(t=s(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",this.endDrag()):this.origin=null},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1}},l=n(22),f={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var n=t.item;if(n&&!n.destroyed&&!n.hasLocked()){var r=t.target;if(r)if(r.get("isAnchorPoint"))return;var o=this.graph;this.targets=[],this.targetCombo=null;var a=o.findAllByState("node",this.selectedState),s=n.get("id");0===a.filter((function(t){var e=t.get("id");return s===e})).length?this.targets.push(n):a.length>1?a.forEach((function(t){t.hasLocked()||e.targets.push(t)})):this.targets.push(n);var u=[];this.targets.forEach((function(t){u.push(Object(i.a)(t.getModel()))})),this.set("beforeDragNodes",u),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;this.origin&&this.shouldUpdate(this,t)&&(this.get("enableDelegate")?this.updateDelegate(t):this.targets.map((function(n){e.update(n,t)})))},onDragEnd:function(t){if(this.origin&&this.shouldEnd.call(this,t)){var e=t.item;if(e)e.getContainer().set("capture",!0);this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(t);var n=this.graph;if(n.get("enabledStack")){var r={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach((function(t){r.after.nodes.push(t.getModel())})),n.pushStack("update",Object(i.a)(r))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.validationCombo(e)){this.updatePositions(t);var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var r=e.getModel();this.targets.map((function(t){t.getModel().comboId!==r.id&&n.updateComboTree(t,r.id)})),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.targets&&0!==this.targets.length&&(this.updatePositions(t),this.onlyChangeComboSize?e.updateCombos():this.targets.map((function(t){t.getModel().comboId&&e.updateComboTree(t)})))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var n=this.graph,r=e.getModel().comboId;if(r){var i=n.findById(r);this.comboActiveState&&n.setItemState(i,this.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();r!==e.comboId&&n.updateComboTree(t,r)})),n.updateCombo(i)}else this.targets.map((function(t){t.getModel().comboId&&n.updateComboTree(t)}));n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t){var e=this;this.targets&&0!==this.targets.length&&this.get("enableDelegate")&&this.targets.map((function(n){return e.update(n,t)}))},update:function(t,e){var n=this.origin,r=t.get("model"),i=t.get("id");this.point[i]||(this.point[i]={x:r.x||0,y:r.y||0});var o={x:e.x-n.x+this.point[i].x,y:e.y-n.y+this.point[i].y};this.get("updateEdge")?this.graph.updateItem(t,o,!1):t.updatePosition(o)},updateDelegate:function(t){this.graph;if(this.delegateRect){var e=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:e,y:n})}else{var o=this.graph.get("group"),a=Object(i.b)({},l.a.delegateStyle,this.delegateStyle),s=this.calculationGroupPosition(t),u=s.x,c=s.y,h=s.width,f=s.height,d=s.minX,p=s.minY;this.originPoint={x:u,y:c,width:h,height:f,minX:d,minY:p},this.delegateRect=o.addShape("rect",{attrs:Object(r.a)({width:h,height:f,x:u,y:c},a),name:"rect-delegate-shape"})}},calculationGroupPosition:function(t){var e=this.graph.findAllByState("node",this.selectedState);0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),u=s.minX,c=s.minY,h=s.maxX,l=s.maxY;u<n&&(n=u),c<i&&(i=c),h>r&&(r=h),l>o&&(o=l)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},d={getDefaultCfg:function(){return{multiple:!0,selectedState:"selected"}},getEvents:function(){return{"node:tap":"onClick","combo:tap":"onClick","canvas:tap":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var r=n.getType(),o=e.graph,a=e.multiple,s=e.shouldUpdate;if(e.shouldBegin.call(e,t)){if(!a){var u=o.findAllByState(r,e.selectedState);Object(i.c)(u,(function(t){t!==n&&o.setItemState(t,e.selectedState,!1)}))}if(n.hasState(e.selectedState)){s.call(e,t)&&o.setItemState(n,e.selectedState,!1);var c=o.findAllByState("node",e.selectedState),h=o.findAllByState("combo",e.selectedState);o.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:h},select:!1})}else{s.call(e,t)&&o.setItemState(n,e.selectedState,!0);c=o.findAllByState("node",e.selectedState),h=o.findAllByState("combo",e.selectedState);o.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,combos:h},select:!0})}}}},onCanvasClick:function(){var t=this,e=this.graph,n=e.findAllByState("node",this.selectedState);Object(i.c)(n,(function(n){e.setItemState(n,t.selectedState,!1)}));var r=e.findAllByState("combo",this.selectedState);Object(i.c)(r,(function(n){e.setItemState(n,t.selectedState,!1)})),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},p={getDefaultCfg:function(){return{originScale:1,sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{pinchstart:"onPinch",pinchmove:"onPinch"}},onPinch:function(t){t.preventDefault||t.preventDefault(),t.originalEvent.preventDefault||t.originalEvent.preventDefault();var e=t.originalEvent.scale||t.originalEvent.srcEvent.extra.scale;this.currentScale=e;var n=this.get("minZoom")||this.graph.get("minZoom");if(!(e>(this.get("maxZoom")||this.graph.get("maxZoom"))||e<n)){var r=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(e,{x:r.x,y:r.y}),this.graph.emit("wheelzoom",t)}}},g=["click","dblclick"],v={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return g.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:"+e]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=t.item,n=this.graph.findDataById(e.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;if(this.shouldBegin(t,i)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i))){try{this.onChange(e,i)}catch(t){console.warn("G6 自 3.0.4 版本支持直接从 item.getModel() 获取源数据(临时通知，将在3.2.0版本中清除)",t)}this.graph.layout()}}}}},y=a.a.calculationItemsBBox,m=function(t,e){if(!1!==e(t)&&t){var n=t.get("combos");if(0===n.length)return!1;Object(i.c)(n,(function(t){m(t,e)}))}},b=["click","dblclick"],x=["click","drag"],M=["shift","ctrl","control","alt","meta",void 0],w={bind:function(t){"drag-canvas"===this.type&&t.get("canvas").set("draggable",!0);var e=this.events;this.graph=t,Object(i.c)(e,(function(e,n){t.on(n,e)}))},unbind:function(t){var e=this.events;"drag-canvas"===this.type&&t.get("canvas").set("draggable",!1),this.graph=null,Object(i.c)(e,(function(e,n){t.off(n,e)}))}},O={"drag-canvas":h,"zoom-canvas":p,"drag-node":f,"activate-relations":{getDefaultCfg:function(){return{activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return{"node:tap":"setAllItemStates","canvas:tap":"clearAllItemStates"}},setAllItemStates:function(t){var e=t.item,n=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var h=o[c],l=h.hasState("selected");this.resetSelected&&l&&n.setItemState(h,"selected",!1),n.setItemState(h,r,!1),i&&n.setItemState(h,i,!0)}for(c=0;c<u;c++){var f=a[c];n.setItemState(f,r,!1),i&&n.setItemState(f,i,!0)}i&&n.setItemState(e,i,!1),n.setItemState(e,r,!0);var d=e.getEdges(),p=d.length;for(c=0;c<p;c++){var g=void 0;g=(f=d[c]).getSource()===e?f.getTarget():f.getSource(),i&&n.setItemState(g,i,!1),n.setItemState(g,r,!0),n.setItemState(f,i,!1),n.setItemState(f,r,!0),f.toFront()}n.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this.get("graph");if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this.activeState,r=this.inactiveState,i=e.get("autoPaint");e.setAutoPaint(!1);for(var o=e.getNodes(),a=e.getEdges(),s=o.length,u=a.length,c=0;c<s;c++){var h=o[c];e.clearItemStates(h,[n,r])}for(c=0;c<u;c++){var l=a[c];e.clearItemStates(l,[n,r,"deactivate"])}e.paint(),e.setAutoPaint(i),e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(t){var e=this.graph;if(this.shouldUpdate(t.item,{event:t,action:"deactivate"})){for(var n=this.activeState,r=this.inactiveState,i=e.getNodes(),o=e.getEdges(),a=i.length,s=o.length,u=0;u<a;u++){var c=i[u];e.clearItemStates(c,[n,r])}for(u=0;u<s;u++){var h=o[u];e.clearItemStates(h,[n,r,"deactivate"])}e.emit("afteractivaterelations",{item:t.item||this.get("item"),action:"deactivate"})}}},"click-select":d,"collapse-expand":v,"drag-combo":{getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate(this,t)&&"combo"===e.getType())},onDragStart:function(t){var e=this,n=this.graph,r=t.item;if(this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id");0===i.filter((function(t){var e=t.get("id");return o===e})).length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(t){var r=t.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],m(r,(function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,r=t.item,o=r.getModel(),a=n.getCombos(),s=r.getBBox(),u=s.centerX,c=s.centerY,h=s.width;a.filter((function(t){var n=t.getModel();return o.parentId,n.id!==o.id&&!e.currentItemChildCombos.includes(n.id)})).map((function(t){var r=t.getBBox(),i=r.centerX,o=r.centerY,a=r.width,s=u-i,l=c-o,f=2*Math.sqrt(s*s+l*l);h+a-f>.8*h?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)}))}Object(i.c)(this.targets,(function(n){e.updateCombo(n,t)}))}},updatePositions:function(t){var e=this;this.enableDelegate&&Object(i.c)(this.targets,(function(n){e.updateCombo(n,t)}))},onDrop:function(t){var e=this,n=t.item;if(n&&this.targets&&!n.destroyed){this.updatePositions(t);var r=this.graph,i=n.getModel();this.targets.map((function(t){t.getModel().parentId!==i.id?(e.activeState&&r.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t,i.id)):r.updateCombo(n)})),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){this.updatePositions(t);var n,r=this.graph,i=t.item.getModel().comboId;if(i){if(this.activeState){var o=r.findById(i);r.setItemState(o,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSize?r.updateCombo(t):i!==t.getID()&&(n=r.findById(i),i!==t.getModel().parentId&&r.updateComboTree(t,i))}))}else this.targets.map((function(t){e.onlyChangeComboSize?r.updateCombo(t):t.getModel().comboId&&r.updateComboTree(t)}));this.endComparison=!0,this.end(n,t)}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;t&&this.activeState&&r.setItemState(t,this.activeState,!1),t||this.targets.map((function(t){n.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e){var n=this;if(!1!==e(t)&&t){var r=t.get("combos");Object(i.c)(r,(function(t){n.traverse(t,e)}));var o=t.get("nodes");Object(i.c)(o,(function(t){n.traverse(t,e)}))}},updateCombo:function(t,e){var n=this;this.traverse(t,(function(t){return!t.destroyed&&(n.updateSignleItem(t,e),!0)}))},updateSignleItem:function(t,e){var n=this.origin,r=this.graph,i=t.getModel(),o=t.get("id");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a=e.x-n.x+this.point[o].x,s=e.y-n.y+this.point[o].y;r.updateItem(t,{x:a,y:s})},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,i=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:i})}else{var o=e.get("delegateGroup"),a=null,s=(a=this.targets.length>1?y(this.targets):this.targets[0].getBBox()).x,u=a.y,c=a.width,h=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:c,height:h,minX:f,minY:d};var p=Object(r.a)(Object(r.a)({},l.a.delegateStyle),this.delegateStyle);this.delegateShape=o.addShape("rect",{attrs:Object(r.a)({width:a.width,height:a.height,x:a.x,y:a.y},p),name:"combo-delegate-shape"})}}},"collapse-expand-combo":{getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var t,e;return b.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:"+e]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this.graph,r=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var i=e.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{}}},getEvents:function(){var t;return x.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),this.key&&-1===M.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===this.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){if(!this.key||this.keydown){var e=t.item;e&&e.getID()!==this.source&&"node"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y})}},onClick:function(t){if(!this.key||this.keydown){var e=t.item,n=this.graph,i=e.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,t))return;var o={target:i.id};this.source===i.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(this.edge,o),n.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,t))return;this.edge=n.addItem("edge",Object(r.a)({source:i.id,target:i.id},this.edgeConfig),!1),this.source=i.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){if(!this.key||this.keydown){var e={x:t.x,y:t.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:e},!1):this.addingEdge=!1}},cancelCreating:function(t){if(!this.key||this.keydown){var e=this.graph,n=t.item;if(this.addingEdge&&t.target&&t.target.isCanvas&&t.target.isCanvas())return e.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);if(this.addingEdge&&this.edge===n){var r=!0;if(!e.get("groupByTypes"))for(var i=t.x,o=t.y,a=e.getNodes(),s=a.length,u=0;u<s;u++){var c=a[u],h=c.getModel(),l=c.getBBox();if(i<=l.maxX&&i>=l.minX&&o<=l.maxY&&o>=l.minY){if(!this.shouldEnd.call(this,{x:t.x,y:t.y,canvasX:t.canvasX,canvasY:t.canvasY,clientX:t.clientX,clientY:t.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(this.edge,{target:h.id}),e.emit("aftercreateedge",{edge:this.edge}),r=!1;break}}r&&e.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}}};Object(i.c)(O,(function(t,e){Object(o.o)(e,Object(r.a)(Object(r.a)({},t),w))}))}]).default}));
//# sourceMappingURL=g6.js.map